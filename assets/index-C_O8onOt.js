function oT(a,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in a)){const h=Object.getOwnPropertyDescriptor(s,u);h&&Object.defineProperty(a,u,h.get?h:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function M_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Df={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function cT(){if(ly)return Ll;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var uy;function hT(){return uy||(uy=1,Df.exports=cT()),Df.exports}var ht=hT(),Vf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function fT(){if(oy)return St;oy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function q(D,Z,it){this.props=D,this.context=Z,this.refs=J,this.updater=it||j}q.prototype.isReactComponent={},q.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=q.prototype;function ut(D,Z,it){this.props=D,this.context=Z,this.refs=J,this.updater=it||j}var st=ut.prototype=new et;st.constructor=ut,Y(st,q.prototype),st.isPureReactComponent=!0;var wt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function O(D,Z,it,W,dt,Ct){return it=Ct.ref,{$$typeof:a,type:D,key:Z,ref:it!==void 0?it:null,props:Ct}}function b(D,Z){return O(D.type,Z,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function N(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return Z[it]})}var M=/\/+/g;function U(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):Z.toString(36)}function w(){}function Me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,Z,it,W,dt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case a:case e:Et=!0;break;case A:return Et=D._init,ie(Et(D._payload),Z,it,W,dt)}}if(Et)return dt=dt(D),Et=W===""?"."+U(D,0):W,wt(dt)?(it="",Et!=null&&(it=Et.replace(M,"$&/")+"/"),ie(dt,Z,it,"",function(xn){return xn})):dt!=null&&(C(dt)&&(dt=b(dt,it+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+Et)),Z.push(dt)),1;Et=0;var we=W===""?".":W+":";if(wt(D))for(var $t=0;$t<D.length;$t++)W=D[$t],Ct=we+U(W,$t),Et+=ie(W,Z,it,Ct,dt);else if($t=I(D),typeof $t=="function")for(D=$t.call(D),$t=0;!(W=D.next()).done;)W=W.value,Ct=we+U(W,$t++),Et+=ie(W,Z,it,Ct,dt);else if(Ct==="object"){if(typeof D.then=="function")return ie(Me(D),Z,it,W,dt);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Et}function G(D,Z,it){if(D==null)return D;var W=[],dt=0;return ie(D,W,"","",function(Ct){return Z.call(it,Ct,dt++)}),W}function nt(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return St.Children={map:G,forEach:function(D,Z,it){G(D,function(){Z.apply(this,arguments)},it)},count:function(D){var Z=0;return G(D,function(){Z++}),Z},toArray:function(D){return G(D,function(Z){return Z})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=q,St.Fragment=i,St.Profiler=u,St.PureComponent=ut,St.StrictMode=s,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return yt.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,Z,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=Y({},D.props),dt=D.key,Ct=void 0;if(Z!=null)for(Et in Z.ref!==void 0&&(Ct=void 0),Z.key!==void 0&&(dt=""+Z.key),Z)!zt.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(W[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)W.children=it;else if(1<Et){for(var we=Array(Et),$t=0;$t<Et;$t++)we[$t]=arguments[$t+2];W.children=we}return O(D.type,dt,void 0,void 0,Ct,W)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},St.createElement=function(D,Z,it){var W,dt={},Ct=null;if(Z!=null)for(W in Z.key!==void 0&&(Ct=""+Z.key),Z)zt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=Z[W]);var Et=arguments.length-2;if(Et===1)dt.children=it;else if(1<Et){for(var we=Array(Et),$t=0;$t<Et;$t++)we[$t]=arguments[$t+2];dt.children=we}if(D&&D.defaultProps)for(W in Et=D.defaultProps,Et)dt[W]===void 0&&(dt[W]=Et[W]);return O(D,Ct,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=C,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:nt}},St.memo=function(D,Z){return{$$typeof:_,type:D,compare:Z===void 0?null:Z}},St.startTransition=function(D){var Z=yt.T,it={};yt.T=it;try{var W=D(),dt=yt.S;dt!==null&&dt(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Bt,ct)}catch(Ct){ct(Ct)}finally{yt.T=Z}},St.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},St.use=function(D){return yt.H.use(D)},St.useActionState=function(D,Z,it){return yt.H.useActionState(D,Z,it)},St.useCallback=function(D,Z){return yt.H.useCallback(D,Z)},St.useContext=function(D){return yt.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Z){return yt.H.useDeferredValue(D,Z)},St.useEffect=function(D,Z,it){var W=yt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,Z)},St.useId=function(){return yt.H.useId()},St.useImperativeHandle=function(D,Z,it){return yt.H.useImperativeHandle(D,Z,it)},St.useInsertionEffect=function(D,Z){return yt.H.useInsertionEffect(D,Z)},St.useLayoutEffect=function(D,Z){return yt.H.useLayoutEffect(D,Z)},St.useMemo=function(D,Z){return yt.H.useMemo(D,Z)},St.useOptimistic=function(D,Z){return yt.H.useOptimistic(D,Z)},St.useReducer=function(D,Z,it){return yt.H.useReducer(D,Z,it)},St.useRef=function(D){return yt.H.useRef(D)},St.useState=function(D){return yt.H.useState(D)},St.useSyncExternalStore=function(D,Z,it){return yt.H.useSyncExternalStore(D,Z,it)},St.useTransition=function(){return yt.H.useTransition()},St.version="19.1.0",St}var cy;function gd(){return cy||(cy=1,Vf.exports=fT()),Vf.exports}var rt=gd();const x_=M_(rt),dT=oT({__proto__:null,default:x_},[rt]);var If={exports:{}},zl={},Nf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function mT(){return hy||(hy=1,function(a){function e(G,nt){var ct=G.length;G.push(nt);t:for(;0<ct;){var Bt=ct-1>>>1,D=G[Bt];if(0<u(D,nt))G[Bt]=nt,G[ct]=D,ct=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],ct=G.pop();if(ct!==nt){G[0]=ct;t:for(var Bt=0,D=G.length,Z=D>>>1;Bt<Z;){var it=2*(Bt+1)-1,W=G[it],dt=it+1,Ct=G[dt];if(0>u(W,ct))dt<D&&0>u(Ct,W)?(G[Bt]=Ct,G[dt]=ct,Bt=dt):(G[Bt]=W,G[it]=ct,Bt=it);else if(dt<D&&0>u(Ct,ct))G[Bt]=Ct,G[dt]=ct,Bt=dt;else break t}}return nt}function u(G,nt){var ct=G.sortIndex-nt.sortIndex;return ct!==0?ct:G.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,S=null,I=3,j=!1,Y=!1,J=!1,q=!1,et=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function wt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=G)s(_),nt.sortIndex=nt.expirationTime,e(y,nt);else break;nt=i(_)}}function yt(G){if(J=!1,wt(G),!Y)if(i(y)!==null)Y=!0,zt||(zt=!0,U());else{var nt=i(_);nt!==null&&ie(yt,nt.startTime-G)}}var zt=!1,O=-1,b=5,C=-1;function N(){return q?!0:!(a.unstable_now()-C<b)}function M(){if(q=!1,zt){var G=a.unstable_now();C=G;var nt=!0;try{t:{Y=!1,J&&(J=!1,ut(O),O=-1),j=!0;var ct=I;try{e:{for(wt(G),S=i(y);S!==null&&!(S.expirationTime>G&&N());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,I=S.priorityLevel;var D=Bt(S.expirationTime<=G);if(G=a.unstable_now(),typeof D=="function"){S.callback=D,wt(G),nt=!0;break e}S===i(y)&&s(y),wt(G)}else s(y);S=i(y)}if(S!==null)nt=!0;else{var Z=i(_);Z!==null&&ie(yt,Z.startTime-G),nt=!1}}break t}finally{S=null,I=ct,j=!1}nt=void 0}}finally{nt?U():zt=!1}}}var U;if(typeof st=="function")U=function(){st(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){et(M,0)};function ie(G,nt){O=et(function(){G(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return I},a.unstable_next=function(G){switch(I){case 1:case 2:case 3:var nt=3;break;default:nt=I}var ct=I;I=nt;try{return G()}finally{I=ct}},a.unstable_requestPaint=function(){q=!0},a.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=I;I=G;try{return nt()}finally{I=ct}},a.unstable_scheduleCallback=function(G,nt,ct){var Bt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Bt+ct:Bt):ct=Bt,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,G={id:A++,callback:nt,priorityLevel:G,startTime:ct,expirationTime:D,sortIndex:-1},ct>Bt?(G.sortIndex=ct,e(_,G),i(y)===null&&G===i(_)&&(J?(ut(O),O=-1):J=!0,ie(yt,ct-Bt))):(G.sortIndex=D,e(y,G),Y||j||(Y=!0,zt||(zt=!0,U()))),G},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(G){var nt=I;return function(){var ct=I;I=nt;try{return G.apply(this,arguments)}finally{I=ct}}}}(Of)),Of}var fy;function gT(){return fy||(fy=1,Nf.exports=mT()),Nf.exports}var Mf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function pT(){if(dy)return Ge;dy=1;var a=gd();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(y,_,null,A)},Ge.flushSync=function(y){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=A,s.d.f()}},Ge.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ge.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ge.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:j}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:I,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ge.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ge.requestFormReset=function(y){s.d.r(y)},Ge.unstable_batchedUpdates=function(y,_){return y(_)},Ge.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var my;function U_(){if(my)return Mf.exports;my=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Mf.exports=pT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function yT(){if(gy)return zl;gy=1;var a=gT(),e=gd(),i=U_();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),st=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case q:return"Profiler";case J:return"StrictMode";case yt:return"Suspense";case zt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case st:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case wt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function Z(t){return{current:t}}function it(t){0>D||(t.current=Bt[D],Bt[D]=null,D--)}function W(t,n){D++,Bt[D]=t.current,t.current=n}var dt=Z(null),Ct=Z(null),Et=Z(null),we=Z(null);function $t(t,n){switch(W(Et,n),W(Ct,t),W(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Up(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Up(n),t=Lp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(dt),W(dt,t)}function xn(){it(dt),it(Ct),it(Et)}function Mi(t){t.memoizedState!==null&&W(we,t);var n=dt.current,r=Lp(n,t.type);n!==r&&(W(Ct,t),W(dt,r))}function ri(t){Ct.current===t&&(it(dt),it(Ct)),we.current===t&&(it(we),Nl._currentValue=ct)}var Sr=Object.prototype.hasOwnProperty,br=a.unstable_scheduleCallback,Rr=a.unstable_cancelCallback,Ds=a.unstable_shouldYield,lu=a.unstable_requestPaint,gn=a.unstable_now,Cc=a.unstable_getCurrentPriorityLevel,Vs=a.unstable_ImmediatePriority,ma=a.unstable_UserBlockingPriority,wr=a.unstable_NormalPriority,Dc=a.unstable_LowPriority,ga=a.unstable_IdlePriority,Is=a.log,uu=a.unstable_setDisableYieldValue,re=null,Ht=null;function an(t){if(typeof Is=="function"&&uu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(re,t)}catch{}}var je=Math.clz32?Math.clz32:Cr,ou=Math.log,Vc=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(ou(t)/Vc|0)|0}var Dr=256,Vr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(v&=E,v!==0?c=Dn(v):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ir(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ns(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Dr;return Dr<<=1,(Dr&4194048)===0&&(Dr=256),t}function Ms(){var t=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-je(r),K=1<<Q;E[Q]=0,R[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var k=B[Q];k!==null&&(k.lane&=-536870913)}r&=~K}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Us(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ya(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:ey(t.type))}function cu(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,fe="__reactProps$"+Wt,pn="__reactContainer$"+Wt,Ls="__reactEvents$"+Wt,Ic="__reactListeners$"+Wt,Li="__reactHandles$"+Wt,hu="__reactResources$"+Wt,Nr="__reactMarker$"+Wt;function zi(t){delete t[ye],delete t[fe],delete t[Ls],delete t[Ic],delete t[Li]}function li(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=kp(t);t!==null;){if(r=t[ye])return r;t=kp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[ye]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Nr]=!0}var zs=new Set,_a={};function Vn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(_a[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},Or={};function mu(t){return Sr.call(Or,t)?!0:Sr.call(du,t)?!1:fu.test(t)?Or[t]=!0:(du[t]=!0,!1)}function Pi(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Mr,gu;function oi(t){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",gu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+gu}var va=!1;function Ea(t,n){if(!t||va)return"";va=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{va=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Ea(t.type,!1);case 11:return Ea(t.type.render,!1);case 1:return Ea(t.type,!0);case 31:return oi("Activity");default:return""}}function Ta(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nc(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Nc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function de(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Bi(t,v,Xe(n)):r!=null?Bi(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Bi(t,n,r){n==="number"&&xr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Lr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||zr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&pu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&pu(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Hs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ks(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Bn=!1;function yu(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(fi!==null||di!==null)&&(co(),fi&&(n=fi,t=di,di=fi=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(In)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{vn=!1}var kn=null,ki=null,mi=null;function Gs(){if(mi)return mi;var t,n=ki,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Qs(){return!1}function Ce(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Ce(qt),kr=A({},qt,{view:0,detail:0}),_u=Ce(kr),Ra,wa,Hn,qr=A({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Ra=t.screenX-Hn.screenX,wa=t.screenY-Hn.screenY):wa=Ra=0,Hn=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),En=Ce(qr),vu=A({},qr,{dataTransfer:0}),Uc=Ce(vu),jr=A({},kr,{relatedTarget:0}),Ca=Ce(jr),Fs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Ce(Fs),Eu=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=Ce(Eu),Lc=A({},qt,{data:0}),Ks=Ce(Lc),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ys(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Gr(){return Ys}var Su=A({},kr,{key:function(t){if(t.key){var n=Hr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=Ce(Su),bu=A({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Ce(bu),gi=A({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),Ru=Ce(gi),wu=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Ce(wu),Du=A({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Ce(Du),Ze=A({},qt,{newState:0,oldState:0}),Vu=Ce(Ze),Iu=[9,13,27,32],Gn=In&&"CompositionEvent"in window,o=null;In&&"documentMode"in document&&(o=document.documentMode);var m=In&&"TextEvent"in window&&!o,p=In&&(!Gn||o&&8<o&&11>=o),T=" ",L=!1;function H(t,n){switch(t){case"keyup":return Iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Gn&&H(t,n)?(t=Gs(),mi=ki=kn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=yo(n,"onChange"),0<n.length&&(r=new ba("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Qn=null;function Zs(t){Ip(t,0)}function Nu(t){var n=zn(t);if(ks(n))return t}function $d(t,n){if(t==="change")return n}var Jd=!1;if(In){var zc;if(In){var Pc="oninput"in document;if(!Pc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Pc=typeof Wd.oninput=="function"}zc=Pc}else zc=!1;Jd=zc&&(!document.documentMode||9<document.documentMode)}function tm(){Ue&&(Ue.detachEvent("onpropertychange",em),Qn=Ue=null)}function em(t){if(t.propertyName==="value"&&Nu(Qn)){var n=[];pi(n,Qn,t,_n(t)),yu(Zs,n)}}function B0(t,n,r){t==="focusin"?(tm(),Ue=n,Qn=r,Ue.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function k0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Qn)}function q0(t,n){if(t==="click")return Nu(n)}function j0(t,n){if(t==="input"||t==="change")return Nu(n)}function H0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:H0;function $s(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Sr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var r=nm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=nm(r)}}function rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xr(t.document)}return n}function Bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var G0=In&&"documentMode"in document&&11>=document.documentMode,Oa=null,kc=null,Js=null,qc=!1;function sm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qc||Oa==null||Oa!==xr(l)||(l=Oa,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&$s(Js,l)||(Js=l,l=yo(kc,"onSelect"),0<l.length&&(n=new ba("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Oa)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ma={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},jc={},lm={};In&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Fr(t){if(jc[t])return jc[t];if(!Ma[t])return t;var n=Ma[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in lm)return jc[t]=n[r];return t}var um=Fr("animationend"),om=Fr("animationiteration"),cm=Fr("animationstart"),Q0=Fr("transitionrun"),F0=Fr("transitionstart"),K0=Fr("transitioncancel"),hm=Fr("transitionend"),fm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Nn(t,n){fm.set(t,n),Vn(n,[t])}var dm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=dm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ta(n)},dm.set(t,n),n)}return{value:t,source:n,stack:Ta(n)}}var An=[],xa=0,Gc=0;function Ou(){for(var t=xa,n=Gc=xa=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&mm(r,c,f)}}function Mu(t,n,r,l){An[xa++]=t,An[xa++]=n,An[xa++]=r,An[xa++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,r,l){return Mu(t,n,r,l),xu(t)}function Ua(t,n){return Mu(t,null,null,n),xu(t)}function mm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function xu(t){if(50<Sl)throw Sl=0,$h=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var La={};function Y0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new Y0(t,n,r,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function gm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")Fc(t)&&(v=1);else if(typeof t=="string")v=ZE(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=un(31,r,n,c),t.elementType=C,t.lanes=f,t;case Y:return Kr(r.children,c,f,n);case J:v=8,c|=24;break;case q:return t=un(12,r,n,c|2),t.elementType=q,t.lanes=f,t;case yt:return t=un(13,r,n,c),t.elementType=yt,t.lanes=f,t;case zt:return t=un(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case et:case st:v=10;break t;case ut:v=9;break t;case wt:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function Kc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function Yc(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var za=[],Pa=0,Lu=null,zu=0,Sn=[],bn=0,Yr=null,_i=1,vi="";function Xr(t,n){za[Pa++]=zu,za[Pa++]=Lu,Lu=t,zu=n}function pm(t,n,r){Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Yr,Yr=t;var l=_i;t=vi;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,_i=1<<32-je(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function Xc(t){t.return!==null&&(Xr(t,1),pm(t,1,0))}function Zc(t){for(;t===Lu;)Lu=za[--Pa],za[Pa]=null,zu=za[--Pa],za[Pa]=null;for(;t===Yr;)Yr=Sn[--bn],Sn[bn]=null,vi=Sn[--bn],Sn[bn]=null,_i=Sn[--bn],Sn[bn]=null}var $e=null,ae=null,kt=!1,Zr=null,Fn=!1,$c=Error(s(519));function $r(t){var n=Error(s(418,""));throw el(Tn(n,t)),$c}function ym(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[fe]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)It(Rl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Lr(n,l.value,l.defaultValue,l.children),Aa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||xp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=_o),n=!0):n=!1,n||$r(t)}function _m(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:$e=$e.return}}function Ws(t){if(t!==$e)return!1;if(!kt)return _m(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||mf(t.type,t.memoizedProps)),r=!r),r&&ae&&$r(t),_m(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,nr(t.type)?(t=_f,_f=null,ae=t):ae=n):ae=$e?Mn(t.stateNode.nextSibling):null;return!0}function tl(){ae=$e=null,kt=!1}function vm(){var t=Zr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Zr=null),t}function el(t){Zr===null?Zr=[t]:Zr.push(t)}var Jc=Z(null),Jr=null,Ei=null;function qi(t,n,r){W(Jc,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=Jc.current,it(Jc)}function Wc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wc(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Wc(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&th(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){Jr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Em(Jr,t)}function Bu(t,n){return Jr===null&&Wr(t),Em(t,n)}function Em(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var X0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Z0=a.unstable_scheduleCallback,$0=a.unstable_NormalPriority,Ee={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new X0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Z0($0,function(){t.controller.abort()})}var rl=null,nh=0,Ba=0,ka=null;function J0(t,n){if(rl===null){var r=rl=[];nh=0,Ba=af(),ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nh++,n.then(Tm,Tm),n}function Tm(){if(--nh===0&&rl!==null){ka!==null&&(ka.status="fulfilled");var t=rl;rl=null,Ba=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function W0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Am=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&J0(t,n),Am!==null&&Am(t,n)};var ta=Z(null);function ih(){var t=ta.current;return t!==null?t:Jt.pooledCache}function ku(t,n){n===null?W(ta,ta.current):W(ta,n.pool)}function Sm(){var t=ih();return t===null?null:{parent:Ee._currentValue,pool:t}}var al=Error(s(460)),bm=Error(s(474)),qu=Error(s(542)),rh={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ju(){}function wm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ju,ju),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t;default:if(typeof n.status=="string")n.then(ju,ju);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t}throw sl=n,al}}var sl=null;function Cm(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Dm(t){if(t===al||t===qu)throw Error(s(483))}var ji=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xu(t),mm(t,null,r),n}return Mu(t,l,n,r),xu(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}function lh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uh=!1;function ul(){if(uh){var t=ka;if(t!==null)throw t}}function ol(t,n,r,l){uh=!1;var c=t.updateQueue;ji=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,v===null?f=P:v.next=P,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;v=0,Q=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(xt&B)===B:(l&B)===B){B!==0&&B===Ba&&(uh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,mt=E;B=n;var Xt=r;switch(mt.tag){case 1:if(_t=mt.payload,typeof _t=="function"){K=_t.call(Xt,K,B);break t}K=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=mt.payload,B=typeof _t=="function"?_t.call(Xt,K,B):_t,B==null)break t;K=A({},K,B);break t;case 2:ji=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=k,R=K):Q=Q.next=k,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(R=K),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Ji|=v,t.lanes=v,t.memoizedState=K}}function Vm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Im(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Vm(r[t],n)}var qa=Z(null),Hu=Z(0);function Nm(t,n){t=Di,W(Hu,t),W(qa,n),Di=t|n.baseLanes}function oh(){W(Hu,Di),W(qa,qa.current)}function ch(){Di=Hu.current,it(qa),it(Hu)}var Qi=0,bt=null,Kt=null,me=null,Gu=!1,ja=!1,ea=!1,Qu=0,cl=0,Ha=null,tE=0;function oe(){throw Error(s(321))}function hh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function fh(t,n,r,l,c,f){return Qi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?mg:gg,ea=!1,f=r(l,c),ea=!1,ja&&(f=Mm(n,r,l,c)),Om(t),f}function Om(t){G.H=$u;var n=Kt!==null&&Kt.next!==null;if(Qi=0,me=Kt=bt=null,Gu=!1,cl=0,Ha=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Pu(t)&&(Ve=!0))}function Mm(t,n,r,l){bt=t;var c=0;do{if(ja&&(Ha=null),cl=0,ja=!1,25<=c)throw Error(s(301));if(c+=1,me=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=lE,f=n(r,l)}while(ja);return f}function eE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(bt.flags|=1024),n}function dh(){var t=Qu!==0;return Qu=0,t}function mh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gh(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}Qi=0,me=Kt=bt=null,ja=!1,cl=Qu=0,Ha=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Kt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Kt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Ha===null&&(Ha=[]),t=wm(Ha,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?mg:gg),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===st)return He(t)}throw Error(s(438,String(t)))}function yh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ph(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ai(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=ge();return _h(n,Kt,t)}function _h(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,P=n,Q=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(xt&K)===K:(Qi&K)===K){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ba&&(Q=!0);else if((Qi&B)===B){P=P.next,B===Ba&&(Q=!0);continue}else K={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,v=f):R=R.next=K,bt.lanes|=B,Ji|=B;K=P.action,ea&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else B={lane:K,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,bt.lanes|=K,Ji|=K;P=P.next}while(P!==null&&P!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(Ve=!0,Q&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function xm(t,n,r){var l=bt,c=ge(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Kt||c).memoizedState,r);v&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=zm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||v||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Yu(),Lm.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||(Qi&124)!==0||Um(l,n,r)}return r}function Um(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=ph(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Lm(t,n,r,l){n.value=r,n.getSnapshot=l,Pm(n)&&Bm(t)}function zm(t,n,r){return r(function(){Pm(n)&&Bm(t)})}function Pm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Bm(t){var n=Ua(t,2);n!==null&&dn(n,t,2)}function Eh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ea){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function km(t,n,r,l){return t.baseState=r,_h(t,Kt,typeof l=="function"?l:Ai)}function nE(t,n,r,l,c){if(Zu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,qm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function qm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,v={};G.T=v;try{var E=r(c,l),R=G.S;R!==null&&R(v,E),jm(t,n,E)}catch(P){Th(t,n,P)}finally{G.T=f}}else try{f=r(c,l),jm(t,n,f)}catch(P){Th(t,n,P)}}function jm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Hm(t,n,l)},function(l){return Th(t,n,l)}):Hm(t,n,r)}function Hm(t,n,r){n.status="fulfilled",n.value=r,Gm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,qm(t,r)))}function Th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Gm(n),n=n.next;while(n!==l)}t.action=null}function Gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qm(t,n){return n}function Fm(t,n){if(kt){var r=Jt.formState;if(r!==null){t:{var l=bt;if(kt){if(ae){e:{for(var c=ae,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Mn(c.nextSibling),l=c.data==="F!";break t}}$r(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:n},r.queue=l,r=hg.bind(null,bt,l),l.dispatch=r,l=Eh(!1),f=wh.bind(null,bt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=nE.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Km(t){var n=ge();return Ym(n,Kt,t)}function Ym(t,n,r){if(n=_h(t,n,Qm)[0],t=Ku(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(v){throw v===al?qu:v}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Ga(9,Yu(),iE.bind(null,c,r),null)),[l,f,t]}function iE(t,n){t.action=n}function Xm(t){var n=ge(),r=Kt;if(r!==null)return Ym(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ga(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ph(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Yu(){return{destroy:void 0,resource:void 0}}function Zm(){return ge().memoizedState}function Xu(t,n,r,l){var c=Je();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Ga(1|n,Yu(),r,l)}function fl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&hh(l,Kt.memoizedState.deps)?c.memoizedState=Ga(n,f,r,l):(bt.flags|=t,c.memoizedState=Ga(1|n,f,r,l))}function $m(t,n){Xu(8390656,8,t,n)}function Jm(t,n){fl(2048,8,t,n)}function Wm(t,n){return fl(4,2,t,n)}function tg(t,n){return fl(4,4,t,n)}function eg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ng(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,eg.bind(null,n,t),r)}function Ah(){}function ig(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function rg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),ea){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Sh(t,n,r){return r===void 0||(Qi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=lp(),bt.lanes|=t,Ji|=t,r)}function ag(t,n,r,l){return ln(r,n)?r:qa.current!==null?(t=Sh(t,r,l),ln(t,n)||(Ve=!0),t):(Qi&42)===0?(Ve=!0,t.memoizedState=r):(t=lp(),bt.lanes|=t,Ji|=t,n)}function sg(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,wh(t,!1,n,r);try{var R=c(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=W0(R,l);dl(t,n,Q,fn(t))}else dl(t,n,l,fn(t))}catch(K){dl(t,n,{then:function(){},status:"rejected",reason:K},fn())}finally{nt.p=f,G.T=v}}function rE(){}function bh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=lg(t).queue;sg(t,c,n,ct,r===null?rE:function(){return ug(t),r(l)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ug(t){var n=lg(t).next.queue;dl(t,n,{},fn())}function Rh(){return He(Nl)}function og(){return ge().memoizedState}function cg(){return ge().memoizedState}function aE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Hi(r);var l=Gi(n,t,r);l!==null&&(dn(l,n,r),ll(l,n,r)),n={cache:eh()},t.payload=n;return}n=n.return}}function sE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(t)?fg(n,r):(r=Qc(t,n,r,l),r!==null&&(dn(r,t,l),dg(r,n,l)))}function hg(t,n,r){var l=fn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))fg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return Mu(t,n,c,0),Jt===null&&Ou(),!1}catch{}finally{}if(r=Qc(t,n,c,l),r!==null)return dn(r,t,l),dg(r,n,l),!0}return!1}function wh(t,n,r,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(s(479))}else n=Qc(t,r,l,2),n!==null&&dn(n,t,2)}function Zu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function fg(t,n){ja=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function dg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}var $u={readContext:He,use:Fu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},mg={readContext:He,use:Fu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:$m,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,eg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ea){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(ea){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=sE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,r=hg.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ah,useDeferredValue:function(t,n){var r=Je();return Sh(r,t,n)},useTransition:function(){var t=Eh(!1);return t=sg.bind(null,bt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=Je();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(xt&124)!==0||Um(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,$m(zm.bind(null,l,f,t),[t]),l.flags|=2048,Ga(9,Yu(),Lm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(kt){var r=vi,l=_i;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=tE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:Fm,useActionState:Fm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wh.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return Je().memoizedState=aE.bind(null,bt)}},gg={readContext:He,use:Fu,useCallback:ig,useContext:He,useEffect:Jm,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:rg,useReducer:Ku,useRef:Zm,useState:function(){return Ku(Ai)},useDebugValue:Ah,useDeferredValue:function(t,n){var r=ge();return ag(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Ku(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:xm,useId:og,useHostTransitionStatus:Rh,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var r=ge();return km(r,Kt,t,n)},useMemoCache:yh,useCacheRefresh:cg},lE={readContext:He,use:Fu,useCallback:ig,useContext:He,useEffect:Jm,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:rg,useReducer:vh,useRef:Zm,useState:function(){return vh(Ai)},useDebugValue:Ah,useDeferredValue:function(t,n){var r=ge();return Kt===null?Sh(r,t,n):ag(r,Kt.memoizedState,t,n)},useTransition:function(){var t=vh(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:xm,useId:og,useHostTransitionStatus:Rh,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var r=ge();return Kt!==null?km(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yh,useCacheRefresh:cg},Qa=null,ml=0;function Ju(t){var n=ml;return ml+=1,Qa===null&&(Qa=[]),wm(Qa,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){var n=t._init;return n(t._payload)}function yg(t){function n(x,V){if(t){var z=x.deletions;z===null?(x.deletions=[V],x.flags|=16):z.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=yi(x,V),x.index=0,x.sibling=null,x}function f(x,V,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<V?(x.flags|=67108866,V):z):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,z,F){return V===null||V.tag!==6?(V=Kc(z,x.mode,F),V.return=x,V):(V=c(V,z),V.return=x,V)}function R(x,V,z,F){var lt=z.type;return lt===Y?Q(x,V,z.props.children,F,z.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&pg(lt)===V.type)?(V=c(V,z.props),gl(V,z),V.return=x,V):(V=Uu(z.type,z.key,z.props,null,x.mode,F),gl(V,z),V.return=x,V)}function P(x,V,z,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Yc(z,x.mode,F),V.return=x,V):(V=c(V,z.children||[]),V.return=x,V)}function Q(x,V,z,F,lt){return V===null||V.tag!==7?(V=Kr(z,x.mode,F,lt),V.return=x,V):(V=c(V,z),V.return=x,V)}function K(x,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Kc(""+V,x.mode,z),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return z=Uu(V.type,V.key,V.props,null,x.mode,z),gl(z,V),z.return=x,z;case j:return V=Yc(V,x.mode,z),V.return=x,V;case b:var F=V._init;return V=F(V._payload),K(x,V,z)}if(ie(V)||U(V))return V=Kr(V,x.mode,z,null),V.return=x,V;if(typeof V.then=="function")return K(x,Ju(V),z);if(V.$$typeof===st)return K(x,Bu(x,V),z);Wu(x,V)}return null}function B(x,V,z,F){var lt=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(x,V,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===lt?R(x,V,z,F):null;case j:return z.key===lt?P(x,V,z,F):null;case b:return lt=z._init,z=lt(z._payload),B(x,V,z,F)}if(ie(z)||U(z))return lt!==null?null:Q(x,V,z,F,null);if(typeof z.then=="function")return B(x,V,Ju(z),F);if(z.$$typeof===st)return B(x,V,Bu(x,z),F);Wu(x,z)}return null}function k(x,V,z,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(z)||null,E(V,x,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return x=x.get(F.key===null?z:F.key)||null,R(V,x,F,lt);case j:return x=x.get(F.key===null?z:F.key)||null,P(V,x,F,lt);case b:var Dt=F._init;return F=Dt(F._payload),k(x,V,z,F,lt)}if(ie(F)||U(F))return x=x.get(z)||null,Q(V,x,F,lt,null);if(typeof F.then=="function")return k(x,V,z,Ju(F),lt);if(F.$$typeof===st)return k(x,V,z,Bu(V,F),lt);Wu(V,F)}return null}function _t(x,V,z,F){for(var lt=null,Dt=null,ot=V,pt=V=0,Ne=null;ot!==null&&pt<z.length;pt++){ot.index>pt?(Ne=ot,ot=null):Ne=ot.sibling;var Pt=B(x,ot,z[pt],F);if(Pt===null){ot===null&&(ot=Ne);break}t&&ot&&Pt.alternate===null&&n(x,ot),V=f(Pt,V,pt),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt,ot=Ne}if(pt===z.length)return r(x,ot),kt&&Xr(x,pt),lt;if(ot===null){for(;pt<z.length;pt++)ot=K(x,z[pt],F),ot!==null&&(V=f(ot,V,pt),Dt===null?lt=ot:Dt.sibling=ot,Dt=ot);return kt&&Xr(x,pt),lt}for(ot=l(ot);pt<z.length;pt++)Ne=k(ot,x,pt,z[pt],F),Ne!==null&&(t&&Ne.alternate!==null&&ot.delete(Ne.key===null?pt:Ne.key),V=f(Ne,V,pt),Dt===null?lt=Ne:Dt.sibling=Ne,Dt=Ne);return t&&ot.forEach(function(lr){return n(x,lr)}),kt&&Xr(x,pt),lt}function mt(x,V,z,F){if(z==null)throw Error(s(151));for(var lt=null,Dt=null,ot=V,pt=V=0,Ne=null,Pt=z.next();ot!==null&&!Pt.done;pt++,Pt=z.next()){ot.index>pt?(Ne=ot,ot=null):Ne=ot.sibling;var lr=B(x,ot,Pt.value,F);if(lr===null){ot===null&&(ot=Ne);break}t&&ot&&lr.alternate===null&&n(x,ot),V=f(lr,V,pt),Dt===null?lt=lr:Dt.sibling=lr,Dt=lr,ot=Ne}if(Pt.done)return r(x,ot),kt&&Xr(x,pt),lt;if(ot===null){for(;!Pt.done;pt++,Pt=z.next())Pt=K(x,Pt.value,F),Pt!==null&&(V=f(Pt,V,pt),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt);return kt&&Xr(x,pt),lt}for(ot=l(ot);!Pt.done;pt++,Pt=z.next())Pt=k(ot,x,pt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ot.delete(Pt.key===null?pt:Pt.key),V=f(Pt,V,pt),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt);return t&&ot.forEach(function(uT){return n(x,uT)}),kt&&Xr(x,pt),lt}function Xt(x,V,z,F){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var lt=z.key;V!==null;){if(V.key===lt){if(lt=z.type,lt===Y){if(V.tag===7){r(x,V.sibling),F=c(V,z.props.children),F.return=x,x=F;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&pg(lt)===V.type){r(x,V.sibling),F=c(V,z.props),gl(F,z),F.return=x,x=F;break t}r(x,V);break}else n(x,V);V=V.sibling}z.type===Y?(F=Kr(z.props.children,x.mode,F,z.key),F.return=x,x=F):(F=Uu(z.type,z.key,z.props,null,x.mode,F),gl(F,z),F.return=x,x=F)}return v(x);case j:t:{for(lt=z.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(x,V.sibling),F=c(V,z.children||[]),F.return=x,x=F;break t}else{r(x,V);break}else n(x,V);V=V.sibling}F=Yc(z,x.mode,F),F.return=x,x=F}return v(x);case b:return lt=z._init,z=lt(z._payload),Xt(x,V,z,F)}if(ie(z))return _t(x,V,z,F);if(U(z)){if(lt=U(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),mt(x,V,z,F)}if(typeof z.then=="function")return Xt(x,V,Ju(z),F);if(z.$$typeof===st)return Xt(x,V,Bu(x,z),F);Wu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(x,V.sibling),F=c(V,z),F.return=x,x=F):(r(x,V),F=Kc(z,x.mode,F),F.return=x,x=F),v(x)):r(x,V)}return function(x,V,z,F){try{ml=0;var lt=Xt(x,V,z,F);return Qa=null,lt}catch(ot){if(ot===al||ot===qu)throw ot;var Dt=un(29,ot,null,x.mode);return Dt.lanes=F,Dt.return=x,Dt}finally{}}}var Fa=yg(!0),_g=yg(!1),Rn=Z(null),Kn=null;function Fi(t){var n=t.alternate;W(Te,Te.current&1),W(Rn,t),Kn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Kn=t)}function vg(t){if(t.tag===22){if(W(Te,Te.current),W(Rn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Ki()}function Ki(){W(Te,Te.current),W(Rn,Rn.current)}function Si(t){it(Rn),Kn===t&&(Kn=null),it(Te)}var Te=Z(0);function to(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||yf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Hi(l);c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(dn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Hi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(dn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Hi(r);l.tag=2,n!=null&&(l.callback=n),n=Gi(t,l,r),n!==null&&(dn(n,t,r),ll(n,t,r))}};function Eg(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!$s(r,l)||!$s(c,f):!0}function Tg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function na(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var eo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ag(t){eo(t)}function Sg(t){console.error(t)}function bg(t){eo(t)}function no(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,r){return r=Hi(r),r.tag=3,r.payload={element:null},r.callback=function(){no(t,n)},r}function wg(t){return t=Hi(t),t.tag=3,t}function Cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Rg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Rg(n,r,l),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function uE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Kn===null?Wh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return r.flags|=65536,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ef(t,l,c)),!1}throw Error(s(435,r.tag))}return ef(t,l,c),Wh(),!1}if(kt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),el(Tn(t,r)))):(l!==$c&&(n=Error(s(423),{cause:l}),el(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=Vh(t.stateNode,l,c),lh(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Al===null?Al=[f]:Al.push(f),se!==4&&(se=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Vh(r.stateNode,l,t),lh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wi===null||!Wi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=wg(c),Cg(c,t,r,l),lh(r,c),!1}r=r.return}while(r!==null);return!1}var Dg=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?_g(n,null,r,l):Fa(n,t.child,r,l)}function Vg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Wr(n),l=fh(t,n,r,v,f,c),E=dh(),t!==null&&!Ve?(mh(t,n,c),bi(t,n,c)):(kt&&E&&Xc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Ig(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ng(t,n,f,l,c)):(t=Uu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(v,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ng(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($s(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Ih(t,n,r,l,c)}function Og(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Mg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?Nm(n,f):oh(),vg(n);else return n.lanes=n.childLanes=536870912,Mg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(ku(n,f.cachePool),Nm(n,f),Ki(),n.memoizedState=null):(t!==null&&ku(n,null),oh(),Ki());return Le(t,n,c,r),n.child}function Mg(t,n,r,l){var c=ih();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&ku(n,null),oh(),vg(n),t!==null&&nl(t,n,l,!0),null}function io(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ih(t,n,r,l,c){return Wr(n),r=fh(t,n,r,l,void 0,c),l=dh(),t!==null&&!Ve?(mh(t,n,c),bi(t,n,c)):(kt&&l&&Xc(n),n.flags|=1,Le(t,n,r,c),n.child)}function xg(t,n,r,l,c,f){return Wr(n),n.updateQueue=null,r=Mm(n,l,r,c),Om(t),l=dh(),t!==null&&!Ve?(mh(t,n,f),bi(t,n,f)):(kt&&l&&Xc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Ug(t,n,r,l,c){if(Wr(n),n.stateNode===null){var f=La,v=r.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?He(v):La,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ch(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Dh.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=na(r,E);f.props=R;var P=f.context,Q=r.contextType;v=La,typeof Q=="object"&&Q!==null&&(v=He(Q));var K=r.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==v)&&Tg(n,f,l,v),ji=!1;var B=n.memoizedState;f.state=B,ol(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||ji?(typeof K=="function"&&(Ch(n,r,K,l),P=n.memoizedState),(R=ji||Eg(n,r,R,l,B,P,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),v=n.memoizedProps,Q=na(r,v),f.props=Q,K=n.pendingProps,B=f.context,P=r.contextType,R=La,typeof P=="object"&&P!==null&&(R=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||B!==R)&&Tg(n,f,l,R),ji=!1,B=n.memoizedState,f.state=B,ol(n,l,f,c),ul();var k=n.memoizedState;v!==K||B!==k||ji||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Ch(n,r,E,l),k=n.memoizedState),(Q=ji||Eg(n,r,Q,l,B,k,R)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,io(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fa(n,t.child,null,c),n.child=Fa(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function Lg(t,n,r,l){return tl(),n.flags|=256,Le(t,n,r,l),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:Sm()}}function Mh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function zg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?Fi(n):Ki(),kt){var E=ae,R;if(R=E){t:{for(R=E,E=Fn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Mn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Yr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,$e=n,ae=null,R=!0):R=!1}R||$r(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=ro({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(r),c.childLanes=Mh(t,v,r),n.memoizedState=Nh,l):(Fi(n),xh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Fi(n),n.flags&=-257,n=Uh(t,n,r)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=ro({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Fa(n,t.child,null,r),l=n.child,l.memoizedState=Oh(r),l.childLanes=Mh(t,v,r),n.memoizedState=Nh,n=c);else if(Fi(n),yf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),n=Uh(t,n,r)}else if(Ve||nl(t,n,r,!1),v=(r&t.childLanes)!==0,Ve||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:xi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ua(t,l),dn(v,t,l),Dg;E.data==="$?"||Wh(),n=Uh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=Mn(E.nextSibling),$e=n,kt=!0,Zr=null,Fn=!1,t!==null&&(Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Yr,_i=t.id,vi=t.overflow,Yr=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=yi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(r):(R=E.cachePool,R!==null?(P=Ee._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Sm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Mh(t,v,r),n.memoizedState=Nh,l):(Fi(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function xh(t,n){return n=ro({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ro(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uh(t,n,r){return Fa(n,t.child,null,r),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,r)}function Lh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Bg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,r,n);else if(t.tag===19)Pg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&to(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Lh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&to(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Lh(n,!0,r,null,f);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ji|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function oE(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),qi(n,Ee,t.memoizedState.cache),tl();break;case 27:case 5:Mi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zg(t,n,r):(Fi(n),t=bi(t,n,r),t!==null?t.sibling:null);Fi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Bg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,Og(t,n,r);case 24:qi(n,Ee,t.memoizedState.cache)}return bi(t,n,r)}function kg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!zh(t,r)&&(n.flags&128)===0)return Ve=!1,oE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,kt&&(n.flags&1048576)!==0&&pm(n,zu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fc(l)?(t=na(l,t),n.tag=1,n=Ug(null,n,l,t,r)):(n.tag=0,n=Ih(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===wt){n.tag=11,n=Vg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=Ig(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=na(l,n.pendingProps),Ug(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),ol(n,l,null,r);var v=n.memoizedState;if(l=v.cache,qi(n,Ee,l),l!==f.cache&&th(n,[Ee],r,!0),ul(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(t,n,l,r);break t}else if(l!==c){c=Tn(Error(s(424)),n),el(c),n=Lg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Mn(t.firstChild),$e=n,kt=!0,Zr=null,Fn=!0,r=_g(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=bi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return io(t,n),t===null?(r=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=vo(Et.current).createElement(r),l[ye]=n,l[fe]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mi(n),t===null&&kt&&(l=n.stateNode=qp(n.type,n.pendingProps,Et.current),$e=n,Fn=!0,c=ae,nr(n.type)?(_f=c,ae=Mn(l.firstChild)):ae=c),Le(t,n,n.pendingProps.children,r),io(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=ae)&&(l=zE(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,$e=n,ae=Mn(l.firstChild),Fn=!1,c=!0):c=!1),c||$r(n)),Mi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:v!==null&&mf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,eE,null,null,r),Nl._currentValue=c),io(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=ae)&&(r=PE(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,$e=n,ae=null,t=!0):t=!1),t||$r(n)),null;case 13:return zg(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fa(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Vg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Wr(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,r);case 15:return Ng(t,n,n.type,n.pendingProps,r);case 19:return Bg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ro(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Og(t,n,r);case 24:return Wr(n),l=He(Ee),t===null?(c=ih(),c===null&&(c=Jt,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ah(n),qi(n,Ee,c)):((t.lanes&r)!==0&&(sh(t,n),ol(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,Ee,l)):(l=f.cache,qi(n,Ee,l),l!==c.cache&&th(n,[Ee],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=Rn.current,n!==null&&((xt&4194048)===xt?Kn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Kn))throw sl=rh,bm;t.flags|=8192}}function ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,Za|=n)}function pl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function cE(t,n,r){var l=n.pendingProps;switch(Zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ee),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ee(n),qg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ee(n),qg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ee(n),n.flags&=-16777217),null;case 27:ri(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=dt.current,Ws(n)?ym(n):(t=qp(c,l,r),n.stateNode=t,Ri(n))}return ee(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=dt.current,Ws(n))ym(n);else{switch(c=vo(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,Ws(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||xp(t.nodeValue,r)),t||$r(n)}else t=vo(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=vm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ao(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&of(n.stateNode.containerInfo),ee(n),null;case 10:return Ti(n.type),ee(n),null;case 19:if(it(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=to(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,ao(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)gm(r,t),r=r.sibling;return W(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>uo&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=to(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ao(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*gn()-c.renderingStartTime>uo&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Te.current,W(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Si(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&ao(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function hE(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ee),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Te),null;case 4:return xn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),ch(),t!==null&&it(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ee),null;case 25:return null;default:return null}}function jg(t,n){switch(Zc(n),n.tag){case 3:Ti(Ee),xn();break;case 26:case 27:case 5:ri(n);break;case 4:xn();break;case 13:Si(n);break;case 19:it(Te);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),ch(),t!==null&&it(ta);break;case 24:Ti(Ee)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function Yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(Q){Zt(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){Zt(n,n.return,Q)}}function Hg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Im(n,r)}catch(l){Zt(t,t.return,l)}}}function Gg(t,n,r){r.props=na(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Yn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function Qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Ph(t,n,r){try{var l=t.stateNode;OE(l,t.type,r,n),l[fe]=n}catch(c){Zt(t,t.return,c)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=_o));else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(kh(t,n,r),t=t.sibling;t!==null;)kh(t,n,r),t=t.sibling}function so(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(so(t,n,r),t=t.sibling;t!==null;)so(t,n,r),t=t.sibling}function Kg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[ye]=t,n[fe]=r}catch(f){Zt(t,t.return,f)}}var wi=!1,ce=!1,qh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function fE(t,n){if(t=t.containerInfo,ff=Ro,t=am(t),Bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,R=-1,P=0,Q=0,K=t,B=null;e:for(;;){for(var k;K!==r||c!==0&&K.nodeType!==3||(E=v+c),K!==f||l!==0&&K.nodeType!==3||(R=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===r&&++P===c&&(E=v),B===f&&++Q===l&&(R=v),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(df={focusedElem:t,selectionRange:r},Ro=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=na(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Zt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)pf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Xg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(t,r),l&4&&yl(5,r);break;case 1:if(Xi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Zt(r,r.return,v)}else{var c=na(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(r,r.return,v)}}l&64&&Hg(r),l&512&&_l(r,r.return);break;case 3:if(Xi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Im(t,n)}catch(v){Zt(r,r.return,v)}}break;case 27:n===null&&l&4&&Kg(r);case 26:case 5:Xi(t,r),n===null&&l&4&&Qg(r),l&512&&_l(r,r.return);break;case 12:Xi(t,r);break;case 13:Xi(t,r),l&4&&Jg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=TE.bind(null,r),BE(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||ce,c=wi;var f=ce;wi=l,(ce=n)&&!f?Zi(t,r,(r.subtreeFlags&8772)!==0):Xi(t,r),wi=c,ce=f}break;case 30:break;default:Xi(t,r)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Ci(t,n,r){for(r=r.child;r!==null;)$g(t,n,r),r=r.sibling}function $g(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ce||Yn(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Yn(r,n);var l=te,c=We;nr(r.type)&&(te=r.stateNode,We=!1),Ci(t,n,r),Cl(r.stateNode),te=l,We=c;break;case 5:ce||Yn(r,n);case 6:if(l=te,c=We,te=null,Ci(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:te!==null&&(We?(t=te,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):Bp(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Ci(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:ce||Yi(2,r,n),ce||Yi(4,r,n),Ci(t,n,r);break;case 1:ce||(Yn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Gg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ci(t,n,r),ce=l;break;default:Ci(t,n,r)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Zt(n,n.return,r)}}function dE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(s(435,t.tag))}}function jh(t,n){var r=dE(t);n.forEach(function(l){var c=AE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(s(160));$g(f,v,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var On=null;function Wg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(Yi(3,t,t.return),yl(3,t),Yi(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(ce||r===null||Yn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(on(n,t),cn(t),l&512&&(ce||r===null||Yn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Nr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[ye]=t,ue(f),l=f;break t;case"link":var v=Kp("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(v=Kp("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,ue(f),l=f}t.stateNode=l}else Yp(c,t.type,t.stateNode);else t.stateNode=Fp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Yp(c,t.type,t.stateNode):Fp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(ce||r===null||Yn(r,r.return)),r!==null&&l&4&&Ph(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(ce||r===null||Yn(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(k){Zt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,r!==null?r.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Zt(t,t.return,k)}}break;case 3:if(Ao=null,c=On,On=Eo(n.containerInfo),on(n,t),On=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(k){Zt(t,t.return,k)}qh&&(qh=!1,tp(t));break;case 4:l=On,On=Eo(t.stateNode.containerInfo),on(n,t),cn(t),On=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=wi,Q=ce;if(wi=P||c,ce=Q||R,on(n,t),ce=Q,wi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||wi||ce||ia(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Zt(R,R.return,k)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Zt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,jh(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Fg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Bh(t);so(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var E=Bh(t);so(t,E,v);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Bh(t);kh(t,P,R);break;default:throw Error(s(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function ia(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),ia(n);break;case 1:Yn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Gg(n,n.return,r),ia(n);break;case 27:Cl(n.stateNode);case 26:case 5:Yn(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(c,f,r),yl(4,f);break;case 1:if(Zi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Zt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Vm(R[c],E)}catch(P){Zt(l,l.return,P)}}r&&v&64&&Hg(f),_l(f,f.return);break;case 27:Kg(f);case 26:case 5:Zi(c,f,r),r&&l===null&&v&4&&Qg(f),_l(f,f.return);break;case 12:Zi(c,f,r);break;case 13:Zi(c,f,r),r&&v&4&&Jg(c,f);break;case 22:f.memoizedState===null&&Zi(c,f,r),_l(f,f.return);break;case 30:break;default:Zi(c,f,r)}n=n.sibling}}function Hh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,r,l),n=n.sibling}function ep(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):vl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hh(v,n);break;case 24:Xn(t,n,r,l),c&2048&&Gh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ka(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,R=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(f,v,E,R,c),yl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ka(f,v,E,R,c):vl(f,v):(Q._visibility|=2,Ka(f,v,E,R,c)),c&&P&2048&&Hh(v.alternate,v);break;case 24:Ka(f,v,E,R,c),c&&P&2048&&Gh(v.alternate,v);break;default:Ka(f,v,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Hh(l.alternate,l);break;case 24:vl(r,l),c&2048&&Gh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function Ya(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 26:Ya(t),t.flags&El&&t.memoizedState!==null&&JE(On,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var n=On;On=Eo(t.stateNode.containerInfo),Ya(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Ya(t),El=n):Ya(t));break;default:Ya(t)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,ap(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lo(t)):Tl(t);break;default:Tl(t)}}function lo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,ap(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),lo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lo(n));break;default:lo(n)}t=t.sibling}}function ap(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Zg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var mE={getCacheForType:function(t){var n=He(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},gE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Vt=null,xt=0,Qt=0,hn=null,$i=!1,Xa=!1,Qh=!1,Di=0,se=0,Ji=0,ra=0,Fh=0,wn=0,Za=0,Al=null,tn=null,Kh=!1,Yh=0,uo=1/0,oo=null,Wi=null,ze=0,tr=null,$a=null,Ja=0,Xh=0,Zh=null,sp=null,Sl=0,$h=null;function fn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(G.T!==null){var t=Ba;return t!==0?t:af()}return Ui()}function lp(){wn===0&&(wn=(xt&536870912)===0||kt?Os():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),er(t,xt,wn,!1)),si(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ra|=r),se===4&&er(t,xt,wn,!1)),Zn(t))}function up(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ir(t,n),c=l?_E(t,n):tf(t,n,!0),f=l;do{if(c===0){Xa&&!l&&er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!pE(r)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Al;var R=E.current.memoizedState.isDehydrated;if(R&&(Wa(E,v).flags|=256),v=tf(E,v,!1),v!==2){if(Qh&&!R){E.errorRecoveryDisabledLanes|=f,ra|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Wa(t,0),er(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:er(l,n,wn,!$i);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Yh+300-gn(),10<c)){if(er(l,n,wn,!$i),pa(l,0,!0)!==0)break t;l.timeoutHandle=zp(op.bind(null,l,r,tn,oo,Kh,n,wn,ra,Za,$i,f,2,-0,0),c);break t}op(l,r,tn,oo,Kh,n,wn,ra,Za,$i,f,0,-0,0)}}break}while(!0);Zn(t)}function op(t,n,r,l,c,f,v,E,R,P,Q,K,B,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:$E},np(n),K=WE(),K!==null)){t.cancelPendingCommit=K(pp.bind(null,t,n,f,r,l,c,v,E,R,Q,1,B,k)),er(t,f,v,!P);return}pp(t,n,f,r,l,c,v,E,R)}function pE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,r,l){n&=~Fh,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Un(t,r,n)}function co(){return(Gt&6)===0?(bl(0),!1):!0}function Jh(){if(Vt!==null){if(Qt===0)var t=Vt.return;else t=Vt,Ei=Jr=null,gh(t),Qa=null,ml=0,t=Vt;for(;t!==null;)jg(t.alternate,t),t=t.return;Vt=null}}function Wa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,xE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Jh(),Jt=t,Vt=r=yi(t.current,null),xt=n,Qt=0,hn=null,$i=!1,Xa=Ir(t,n),Qh=!1,Za=wn=Fh=ra=Ji=se=0,tn=Al=null,Kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Di=n,Ou(),r}function cp(t,n){bt=null,G.H=$u,n===al||n===qu?(n=Cm(),Qt=3):n===bm?(n=Cm(),Qt=4):Qt=n===Dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(se=1,no(t,Tn(n,t.current)))}function hp(){var t=G.H;return G.H=$u,t===null?$u:t}function fp(){var t=G.A;return G.A=mE,t}function Wh(){se=4,$i||(xt&4194048)!==xt&&Rn.current!==null||(Xa=!0),(Ji&134217727)===0&&(ra&134217727)===0||Jt===null||er(Jt,xt,wn,!1)}function tf(t,n,r){var l=Gt;Gt|=2;var c=hp(),f=fp();(Jt!==t||xt!==n)&&(oo=null,Wa(t,n)),n=!1;var v=se;t:do try{if(Qt!==0&&Vt!==null){var E=Vt,R=hn;switch(Qt){case 8:Jh(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Qt;if(Qt=0,hn=null,ts(t,E,R,P),r&&Xa){v=0;break t}break;default:P=Qt,Qt=0,hn=null,ts(t,E,R,P)}}yE(),v=se;break}catch(Q){cp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ei=Jr=null,Gt=l,G.H=c,G.A=f,Vt===null&&(Jt=null,xt=0,Ou()),v}function yE(){for(;Vt!==null;)dp(Vt)}function _E(t,n){var r=Gt;Gt|=2;var l=hp(),c=fp();Jt!==t||xt!==n?(oo=null,uo=gn()+500,Wa(t,n)):Xa=Ir(t,n);t:do try{if(Qt!==0&&Vt!==null){n=Vt;var f=hn;e:switch(Qt){case 1:Qt=0,hn=null,ts(t,n,f,1);break;case 2:case 9:if(Rm(f)){Qt=0,hn=null,mp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),Zn(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Rm(f)?(Qt=0,hn=null,mp(n)):(Qt=0,hn=null,ts(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||Xp(v)){Qt=0,hn=null;var R=E.sibling;if(R!==null)Vt=R;else{var P=E.return;P!==null?(Vt=P,ho(P)):Vt=null}break e}}Qt=0,hn=null,ts(t,n,f,5);break;case 6:Qt=0,hn=null,ts(t,n,f,6);break;case 8:Jh(),se=6;break t;default:throw Error(s(462))}}vE();break}catch(Q){cp(t,Q)}while(!0);return Ei=Jr=null,G.H=l,G.A=c,Gt=r,Vt!==null?0:(Jt=null,xt=0,Ou(),se)}function vE(){for(;Vt!==null&&!Ds();)dp(Vt)}function dp(t){var n=kg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?ho(t):Vt=n}function mp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=xg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=xg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:gh(n);default:jg(r,n),n=Vt=gm(n,Di),n=kg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?ho(t):Vt=n}function ts(t,n,r,l){Ei=Jr=null,gh(n),Qa=null,ml=0;var c=n.return;try{if(uE(t,c,n,r,xt)){se=1,no(t,Tn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;se=1,no(t,Tn(r,t.current)),Vt=null;return}n.flags&32768?(kt||l===1?t=!0:Xa||(xt&536870912)!==0?t=!1:($i=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gp(n,t)):ho(n)}function ho(t){var n=t;do{if((n.flags&32768)!==0){gp(n,$i);return}t=n.return;var r=cE(n.alternate,n,Di);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);se===0&&(se=5)}function gp(t,n){do{var r=hE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);se=6,Vt=null}function pp(t,n,r,l,c,f,v,E,R){t.cancelPendingCommit=null;do fo();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gc,xs(t,r,f,v,E,R),t===Jt&&(Vt=Jt=null,xt=0),$a=n,tr=t,Ja=r,Xh=f,Zh=c,sp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,SE(wr,function(){return Tp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=nt.p,nt.p=2,v=Gt,Gt|=4;try{fE(t,n,r)}finally{Gt=v,nt.p=c,G.T=l}}ze=1,yp(),_p(),vp()}}function yp(){if(ze===1){ze=0;var t=tr,n=$a,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Gt;Gt|=4;try{Wg(n,t);var f=df,v=am(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(R!==null&&Bc(E)){var P=R.start,Q=R.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var k=B.getSelection(),_t=E.textContent.length,mt=Math.min(R.start,_t),Xt=R.end===void 0?mt:Math.min(R.end,_t);!k.extend&&mt>Xt&&(v=Xt,Xt=mt,mt=v);var x=im(E,mt),V=im(E,Xt);if(x&&V&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var z=K.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),mt>Xt?(k.addRange(z),k.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),k.addRange(z))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ro=!!ff,df=ff=null}finally{Gt=c,nt.p=l,G.T=r}}t.current=n,ze=2}}function _p(){if(ze===2){ze=0;var t=tr,n=$a,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Gt;Gt|=4;try{Xg(t,n.alternate,n)}finally{Gt=c,nt.p=l,G.T=r}}ze=3}}function vp(){if(ze===4||ze===3){ze=0,lu();var t=tr,n=$a,r=Ja,l=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,$a=tr=null,Ep(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Wi=null),ya(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=nt.p,nt.p=2,G.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=c}}(Ja&3)!==0&&fo(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===$h?Sl++:(Sl=0,$h=t):Sl=0,bl(0)}}function Ep(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function fo(t){return yp(),_p(),vp(),Tp()}function Tp(){if(ze!==5)return!1;var t=tr,n=Xh;Xh=0;var r=ya(Ja),l=G.T,c=nt.p;try{nt.p=32>r?32:r,G.T=null,r=Zh,Zh=null;var f=tr,v=Ja;if(ze=0,$a=tr=null,Ja=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,rp(f.current),ep(f,f.current,v,r),Gt=E,bl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{nt.p=c,G.T=l,Ep(t,n)}}function Ap(t,n,r){n=Tn(r,n),n=Vh(t.stateNode,n,2),t=Gi(t,n,2),t!==null&&(si(t,2),Zn(t))}function Zt(t,n,r){if(t.tag===3)Ap(t,t,r);else for(;n!==null;){if(n.tag===3){Ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){t=Tn(r,t),r=wg(2),l=Gi(n,r,2),l!==null&&(Cg(r,l,n,t),si(l,2),Zn(l));break}}n=n.return}}function ef(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new gE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Qh=!0,c.add(r),t=EE.bind(null,t,n,r),n.then(t,t))}function EE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(xt&r)===r&&(se===4||se===3&&(xt&62914560)===xt&&300>gn()-Yh?(Gt&2)===0&&Wa(t,0):Fh|=r,Za===xt&&(Za=0)),Zn(t)}function Sp(t,n){n===0&&(n=Ms()),t=Ua(t,n),t!==null&&(si(t,n),Zn(t))}function TE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Sp(t,r)}function AE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Sp(t,r)}function SE(t,n){return br(t,n)}var mo=null,es=null,nf=!1,go=!1,rf=!1,aa=0;function Zn(t){t!==es&&t.next===null&&(es===null?mo=es=t:es=es.next=t),go=!0,nf||(nf=!0,RE())}function bl(t,n){if(!rf&&go){rf=!0;do for(var r=!1,l=mo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cp(l,f))}else f=xt,f=pa(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ir(l,f)||(r=!0,Cp(l,f));l=l.next}while(r);rf=!1}}function bE(){bp()}function bp(){go=nf=!1;var t=0;aa!==0&&(ME()&&(t=aa),aa=0);for(var n=gn(),r=null,l=mo;l!==null;){var c=l.next,f=Rp(l,n);f===0?(l.next=null,r===null?mo=c:r.next=c,c===null&&(es=r)):(r=l,(t!==0||(f&3)!==0)&&(go=!0)),l=c}bl(t)}function Rp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-je(f),E=1<<v,R=c[v];R===-1?((E&r)===0||(E&l)!==0)&&(c[v]=Ns(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=xt,r=pa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ir(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Rr(l),ya(r)){case 2:case 8:r=ma;break;case 32:r=wr;break;case 268435456:r=ga;break;default:r=wr}return l=wp.bind(null,t),r=br(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function wp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fo()&&t.callbackNode!==r)return null;var l=xt;return l=pa(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(up(t,l,n),Rp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?wp.bind(null,t):null)}function Cp(t,n){if(fo())return null;up(t,n,!0)}function RE(){UE(function(){(Gt&6)!==0?br(Vs,bE):bp()})}function af(){return aa===0&&(aa=Os()),aa}function Dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function Vp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function wE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Dp((c[fe]||null).action),v=l.submitter;v&&(n=(n=v[fe]||null)?Dp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new ba("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var R=v?Vp(c,v):new FormData(c);bh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Vp(c,v):new FormData(c),bh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var sf=0;sf<Hc.length;sf++){var lf=Hc[sf],CE=lf.toLowerCase(),DE=lf[0].toUpperCase()+lf.slice(1);Nn(CE,"on"+DE)}Nn(um,"onAnimationEnd"),Nn(om,"onAnimationIteration"),Nn(cm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Q0,"onTransitionRun"),Nn(F0,"onTransitionStart"),Nn(K0,"onTransitionCancel"),Nn(hm,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Ip(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){eo(Q)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){eo(Q)}c.currentTarget=null,f=R}}}}function It(t,n){var r=n[Ls];r===void 0&&(r=n[Ls]=new Set);var l=t+"__bubble";r.has(l)||(Np(n,t,2,!1),r.add(l))}function uf(t,n,r){var l=0;n&&(l|=4),Np(r,t,l,n)}var po="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[po]){t[po]=!0,zs.forEach(function(r){r!=="selectionchange"&&(VE.has(r)||uf(r,!1,t),uf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[po]||(n[po]=!0,uf("selectionchange",!1,n))}}function Np(t,n,r,l){switch(ey(n)){case 2:var c=nT;break;case 8:c=iT;break;default:c=Sf}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function cf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=li(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}yu(function(){var P=f,Q=_n(r),K=[];t:{var B=fm.get(t);if(B!==void 0){var k=ba,_t=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":k=Ia;break;case"focusin":_t="focus",k=Ca;break;case"focusout":_t="blur",k=Ca;break;case"beforeblur":case"afterblur":k=Ca;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ru;break;case um:case om:case cm:k=Da;break;case hm:k=Cu;break;case"scroll":case"scrollend":k=_u;break;case"wheel":k=Na;break;case"copy":case"cut":case"paste":k=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Xs;break;case"toggle":case"beforetoggle":k=Vu}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?B!==null?B+"Capture":null:B;mt=[];for(var V=P,z;V!==null;){var F=V;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||x===null||(F=Pr(V,x),F!=null&&mt.push(wl(V,F,z))),Xt)break;V=V.return}0<mt.length&&(B=new k(B,_t,null,r,Q),K.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==hi&&(_t=r.relatedTarget||r.fromElement)&&(li(_t)||_t[pn]))break t;if((k||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(_t=r.relatedTarget||r.toElement,k=P,_t=_t?li(_t):null,_t!==null&&(Xt=h(_t),mt=_t.tag,_t!==Xt||mt!==5&&mt!==27&&mt!==6)&&(_t=null)):(k=null,_t=P),k!==_t)){if(mt=En,F="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Xs,F="onPointerLeave",x="onPointerEnter",V="pointer"),Xt=k==null?B:zn(k),z=_t==null?B:zn(_t),B=new mt(F,V+"leave",k,r,Q),B.target=Xt,B.relatedTarget=z,F=null,li(Q)===P&&(mt=new mt(x,V+"enter",_t,r,Q),mt.target=z,mt.relatedTarget=Xt,F=mt),Xt=F,k&&_t)e:{for(mt=k,x=_t,V=0,z=mt;z;z=ns(z))V++;for(z=0,F=x;F;F=ns(F))z++;for(;0<V-z;)mt=ns(mt),V--;for(;0<z-V;)x=ns(x),z--;for(;V--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=ns(mt),x=ns(x)}mt=null}else mt=null;k!==null&&Op(K,B,k,mt,!1),_t!==null&&Xt!==null&&Op(K,Xt,_t,mt,!0)}}t:{if(B=P?zn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var lt=$d;else if(ve(B))if(Jd)lt=j0;else{lt=k0;var Dt=B0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&js(P.elementType)&&(lt=$d):lt=q0;if(lt&&(lt=lt(t,P))){pi(K,lt,r,Q);break t}Dt&&Dt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Bi(B,"number",B.value)}switch(Dt=P?zn(P):window,t){case"focusin":(ve(Dt)||Dt.contentEditable==="true")&&(Oa=Dt,kc=P,Js=null);break;case"focusout":Js=kc=Oa=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,sm(K,r,Q);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":sm(K,r,Q)}var ot;if(Gn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?H(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(p&&r.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(ot=Gs()):(kn=Q,ki="value"in kn?kn.value:kn.textContent,Ot=!0)),Dt=yo(P,pt),0<Dt.length&&(pt=new Ks(pt,t,null,r,Q),K.push({event:pt,listeners:Dt}),ot?pt.data=ot:(ot=tt(r),ot!==null&&(pt.data=ot)))),(ot=m?_e(t,r):Mt(t,r))&&(pt=yo(P,"onBeforeInput"),0<pt.length&&(Dt=new Ks("onBeforeInput","beforeinput",null,r,Q),K.push({event:Dt,listeners:pt}),Dt.data=ot)),wE(K,t,P,r,Q)}Ip(K,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=Pr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Op(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Pr(r,f),P!=null&&v.unshift(wl(r,P,R))):c||(P=Pr(r,f),P!=null&&v.push(wl(r,P,R)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var IE=/\r\n?/g,NE=/\u0000|\uFFFD/g;function Mp(t){return(typeof t=="string"?t:""+t).replace(IE,`
`).replace(NE,"")}function xp(t,n){return n=Mp(n),Mp(t)===n}function _o(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=_o);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Pi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Mc.get(r)||r,Pi(t,r,l))}}function hf(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Pi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=v=c=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Q,r,null)}}Ur(t,f,E,R,P,v,c,!1),Aa(t);return;case"select":It("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,v,E,r,null)}Lr(t,l,c,f),Aa(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)It(Rl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(js(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&hf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function OE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,P=null,Q=null;for(k in r){var K=r[k];if(r.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=r[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":Q=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==K&&Yt(t,n,B,k,l,K)}}sn(t,v,E,R,P,Q,f,c);return;case"select":k=v=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,r=v,l=k,B!=null?ci(t,!!r,B,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}Ft(t,B,k);return;case"option":for(var _t in r)if(B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Yt(t,n,_t,null,l,B)}for(R in l)if(B=l[R],k=r[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Yt(t,n,mt,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(js(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&hf(t,n,Xt,void 0,l,B);for(Q in l)B=l[Q],k=r[Q],!l.hasOwnProperty(Q)||B===k||B===void 0&&k===void 0||hf(t,n,Q,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(K in l)B=l[K],k=r[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Yt(t,n,K,B,l,k)}var ff=null,df=null;function vo(t){return t.nodeType===9?t:t.ownerDocument}function Up(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function ME(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(LE)}:zp;function LE(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function Bp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Cl(v.documentElement),r&2&&Cl(v.body),r&4)for(r=v.head,Cl(r),v=r.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Nr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pf(r),zi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function zE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Nr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function PE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function BE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var _f=null;function kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function qp(t,n,r){switch(n=vo(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zi(t)}var Cn=new Map,jp=new Set;function Eo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=nt.d;nt.d={f:kE,r:qE,D:jE,C:HE,L:GE,m:QE,X:KE,S:FE,M:YE};function kE(){var t=Vi.f(),n=co();return t||n}function qE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?ug(n):Vi.r(t)}var is=typeof document>"u"?null:document;function Hp(t,n,r){var l=is;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),jp.has(c)||(jp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function jE(t){Vi.D(t),Hp("dns-prefetch",t,null)}function HE(t,n){Vi.C(t,n),Hp("preconnect",t,n)}function GE(t,n,r){Vi.L(t,n,r);var l=is;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=rs(t);break;case"script":f=as(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function QE(t,n){Vi.m(t,n);var r=is;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=as(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function FE(t,n,r){Vi.S(t,n,r);var l=is;if(l&&t){var c=Ye(l).hoistableStyles,f=rs(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&vf(t,r);var R=v=l.createElement("link");ue(R),Pe(R,"link",t),R._p=new Promise(function(P,Q){R.onload=P,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,To(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function KE(t,n){Vi.X(t,n);var r=is;if(r&&t){var l=Ye(r).hoistableScripts,c=as(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&Ef(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function YE(t,n){Vi.M(t,n);var r=is;if(r&&t){var l=Ye(r).hoistableScripts,c=as(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Ef(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gp(t,n,r,l){var c=(c=Et.current)?Eo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=rs(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=rs(r.href);var f=Ye(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Dl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||XE(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=as(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function rs(t){return'href="'+de(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Qp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function XE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function as(t){return'[src="'+de(t)+'"]'}function Vl(t){return"script[async]"+t}function Fp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),To(l,r.precedence,t),n.instance=l;case"stylesheet":c=rs(r.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Qp(r),(c=Cn.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",l),n.state.loading|=4,To(f,r.precedence,t),n.instance=f;case"script":return f=as(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,ue(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,To(l,r.precedence,t));return n.instance}function To(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ao=null;function Kp(t,n,r){if(Ao===null){var l=new Map,c=Ao=new Map;c.set(r,l)}else c=Ao,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Nr]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function Yp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function ZE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function $E(){}function JE(t,n,r){if(Il===null)throw Error(s(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=rs(r.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=So.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Qp(r),(c=Cn.get(c))&&vf(r,c),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=So.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function WE(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function So(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bo=null;function Tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bo=new Map,n.forEach(tT,t),bo=null,So.call(t))}function tT(t,n){if(!(n.state.loading&4)){var r=bo.get(t);if(r)var l=r.get(null);else{r=new Map,bo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=So.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:st,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function eT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zp(t,n,r,l,c,f,v,E,R,P,Q,K){return t=new eT(t,n,r,v,E,R,P,K),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ah(f),t}function $p(t){return t?(t=La,t):La}function Jp(t,n,r,l,c,f){c=$p(c),l.context===null?l.context=c:l.pendingContext=c,l=Hi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Gi(t,l,n),r!==null&&(dn(r,t,n),ll(r,t,n))}function Wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Af(t,n){Wp(t,n),(t=t.alternate)&&Wp(t,n)}function ty(t){if(t.tag===13){var n=Ua(t,67108864);n!==null&&dn(n,t,67108864),Af(t,67108864)}}var Ro=!0;function nT(t,n,r,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=2,Sf(t,n,r,l)}finally{nt.p=f,G.T=c}}function iT(t,n,r,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=8,Sf(t,n,r,l)}finally{nt.p=f,G.T=c}}function Sf(t,n,r,l){if(Ro){var c=bf(l);if(c===null)cf(t,n,l,wo,r),ny(t,l);else if(aT(c,t,n,r,l))l.stopPropagation();else if(ny(t,l),n&4&&-1<rT.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-je(v);E.entanglements[1]|=R,v&=~R}Zn(f),(Gt&6)===0&&(uo=gn()+500,bl(0))}}break;case 13:E=Ua(f,2),E!==null&&dn(E,f,2),co(),Af(f,2)}if(f=bf(l),f===null&&cf(t,n,l,wo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,r)}}function bf(t){return t=_n(t),Rf(t)}var wo=null;function Rf(t){if(wo=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wo=t,null}function ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case Vs:return 2;case ma:return 8;case wr:case Dc:return 32;case ga:return 268435456;default:return 32}default:return 32}}var wf=!1,ir=null,rr=null,ar=null,Ol=new Map,Ml=new Map,sr=[],rT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function xl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function aT(t,n,r,l,c){switch(n){case"focusin":return ir=xl(ir,t,n,r,l,c),!0;case"dragenter":return rr=xl(rr,t,n,r,l,c),!0;case"mouseover":return ar=xl(ar,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,xl(Ol.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,xl(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function iy(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,cu(t.priority,function(){if(r.tag===13){var l=fn();l=xi(l);var c=Ua(r,l);c!==null&&dn(c,r,l),Af(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=Ln(r),n!==null&&ty(n),t.blockedOn=r,!1;n.shift()}return!0}function ry(t,n,r){Co(t)&&r.delete(n)}function sT(){wf=!1,ir!==null&&Co(ir)&&(ir=null),rr!==null&&Co(rr)&&(rr=null),ar!==null&&Co(ar)&&(ar=null),Ol.forEach(ry),Ml.forEach(ry)}function Do(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sT)))}var Vo=null;function ay(t){Vo!==t&&(Vo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vo===t&&(Vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(R){return Do(R,t)}ir!==null&&Do(ir,t),rr!==null&&Do(rr,t),ar!==null&&Do(ar,t),Ol.forEach(n),Ml.forEach(n);for(var r=0;r<sr.length;r++){var l=sr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)iy(r),r.blockedOn===null&&sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[fe]||null;if(typeof f=="function")v||ay(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[fe]||null)E=v.formAction;else if(Rf(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ay(r)}}}function Cf(t){this._internalRoot=t}Io.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();Jp(r,l,t,n,null,null)},Io.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jp(t.current,2,null,t,null,null),co(),n[pn]=null}};function Io(t){this._internalRoot=t}Io.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ui();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,t),r===0&&iy(t)}};var sy=e.version;if(sy!=="19.1.0")throw Error(s(527,sy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var lT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{re=No.inject(lT),Ht=No}catch{}}return zl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=Ag,f=Sg,v=bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Zp(t,1,!1,null,null,r,l,c,f,v,E,null),t[pn]=n.current,of(t),new Cf(n)},zl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=Ag,v=Sg,E=bg,R=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Zp(t,1,!0,n,r??null,l,c,f,v,E,R,P),n.context=$p(null),r=n.current,l=fn(),l=xi(l),c=Hi(l),c.callback=null,Gi(r,c,l),r=l,n.current.lanes=r,si(n,r),Zn(n),t[pn]=n.current,of(t),new Io(n)},zl.version="19.1.0",zl}var py;function _T(){if(py)return If.exports;py=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),If.exports=yT(),If.exports}var vT=_T();const ET=M_(vT);U_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},Fl.apply(this,arguments)}var ur;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(ur||(ur={}));const yy="popstate";function TT(a){a===void 0&&(a={});function e(s,u){let{pathname:h,search:d,hash:g}=s.location;return Gf("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(s,u){return typeof u=="string"?u:z_(u)}return ST(e,i,null,a)}function Se(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function L_(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AT(){return Math.random().toString(36).substr(2,8)}function _y(a,e){return{usr:a.state,key:a.key,idx:e}}function Gf(a,e,i,s){return i===void 0&&(i=null),Fl({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?As(e):e,{state:i,key:e&&e.key||s||AT()})}function z_(a){let{pathname:e="/",search:i="",hash:s=""}=a;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function As(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substr(i),a=a.substr(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substr(s),a=a.substr(0,s)),a&&(e.pathname=a)}return e}function ST(a,e,i,s){s===void 0&&(s={});let{window:u=document.defaultView,v5Compat:h=!1}=s,d=u.history,g=ur.Pop,y=null,_=A();_==null&&(_=0,d.replaceState(Fl({},d.state,{idx:_}),""));function A(){return(d.state||{idx:null}).idx}function S(){g=ur.Pop;let q=A(),et=q==null?null:q-_;_=q,y&&y({action:g,location:J.location,delta:et})}function I(q,et){g=ur.Push;let ut=Gf(J.location,q,et);_=A()+1;let st=_y(ut,_),wt=J.createHref(ut);try{d.pushState(st,"",wt)}catch(yt){if(yt instanceof DOMException&&yt.name==="DataCloneError")throw yt;u.location.assign(wt)}h&&y&&y({action:g,location:J.location,delta:1})}function j(q,et){g=ur.Replace;let ut=Gf(J.location,q,et);_=A();let st=_y(ut,_),wt=J.createHref(ut);d.replaceState(st,"",wt),h&&y&&y({action:g,location:J.location,delta:0})}function Y(q){let et=u.location.origin!=="null"?u.location.origin:u.location.href,ut=typeof q=="string"?q:z_(q);return ut=ut.replace(/ $/,"%20"),Se(et,"No window.location.(origin|href) available to create URL for href: "+ut),new URL(ut,et)}let J={get action(){return g},get location(){return a(u,d)},listen(q){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(yy,S),y=q,()=>{u.removeEventListener(yy,S),y=null}},createHref(q){return e(u,q)},createURL:Y,encodeLocation(q){let et=Y(q);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:I,replace:j,go(q){return d.go(q)}};return J}var vy;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(vy||(vy={}));function bT(a,e,i){return i===void 0&&(i="/"),RT(a,e,i)}function RT(a,e,i,s){let u=typeof e=="string"?As(e):e,h=k_(u.pathname||"/",i);if(h==null)return null;let d=P_(a);wT(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let _=PT(h);g=UT(d[y],_)}return g}function P_(a,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let u=(h,d,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(Se(y.relativePath.startsWith(s),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(s.length));let _=ua([s,y.relativePath]),A=i.concat(y);h.children&&h.children.length>0&&(Se(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),P_(h.children,e,A,_)),!(h.path==null&&!h.index)&&e.push({path:_,score:MT(_,h.index),routesMeta:A})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))u(h,d);else for(let y of B_(h.path))u(h,d,y)}),e}function B_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let d=B_(s.join("/")),g=[];return g.push(...d.map(y=>y===""?h:[h,y].join("/"))),u&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function wT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:xT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const CT=/^:[\w-]+$/,DT=3,VT=2,IT=1,NT=10,OT=-2,Ey=a=>a==="*";function MT(a,e){let i=a.split("/"),s=i.length;return i.some(Ey)&&(s+=OT),e&&(s+=VT),i.filter(u=>!Ey(u)).reduce((u,h)=>u+(CT.test(h)?DT:h===""?IT:NT),s)}function xT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,u)=>s===e[u])?a[a.length-1]-e[e.length-1]:0}function UT(a,e,i){let{routesMeta:s}=a,u={},h="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],_=g===s.length-1,A=h==="/"?e:e.slice(h.length)||"/",S=LT({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},A),I=y.route;if(!S)return null;Object.assign(u,S.params),d.push({params:u,pathname:ua([h,S.pathname]),pathnameBase:GT(ua([h,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(h=ua([h,S.pathnameBase]))}return d}function LT(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=zT(a.path,a.caseSensitive,a.end),u=e.match(i);if(!u)return null;let h=u[0],d=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((_,A,S)=>{let{paramName:I,isOptional:j}=A;if(I==="*"){let J=g[S]||"";d=h.slice(0,h.length-J.length).replace(/(.)\/+$/,"$1")}const Y=g[S];return j&&!Y?_[I]=void 0:_[I]=(Y||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:d,pattern:a}}function zT(a,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),L_(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let s=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function PT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L_(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),a}}function k_(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function BT(a,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:u=""}=typeof a=="string"?As(a):a;return{pathname:i?i.startsWith("/")?i:kT(i,e):e,search:QT(s),hash:FT(u)}}function kT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function xf(a,e,i,s){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function jT(a,e){let i=qT(a);return e?i.map((s,u)=>u===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function HT(a,e,i,s){s===void 0&&(s=!1);let u;typeof a=="string"?u=As(a):(u=Fl({},a),Se(!u.pathname||!u.pathname.includes("?"),xf("?","pathname","search",u)),Se(!u.pathname||!u.pathname.includes("#"),xf("#","pathname","hash",u)),Se(!u.search||!u.search.includes("#"),xf("#","search","hash",u)));let h=a===""||u.pathname==="",d=h?"/":u.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),S-=1;u.pathname=I.join("/")}g=S>=0?e[S]:"/"}let y=BT(u,g),_=d&&d!=="/"&&d.endsWith("/"),A=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(_||A)&&(y.pathname+="/"),y}const ua=a=>a.join("/").replace(/\/\/+/g,"/"),GT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,FT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function KT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const q_=["post","put","patch","delete"];new Set(q_);const YT=["get",...q_];new Set(YT);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},Kl.apply(this,arguments)}const pd=rt.createContext(null),XT=rt.createContext(null),lc=rt.createContext(null),uc=rt.createContext(null),ha=rt.createContext({outlet:null,matches:[],isDataRoute:!1}),j_=rt.createContext(null);function oc(){return rt.useContext(uc)!=null}function H_(){return oc()||Se(!1),rt.useContext(uc).location}function G_(a){rt.useContext(lc).static||rt.useLayoutEffect(a)}function ZT(){let{isDataRoute:a}=rt.useContext(ha);return a?oA():$T()}function $T(){oc()||Se(!1);let a=rt.useContext(pd),{basename:e,future:i,navigator:s}=rt.useContext(lc),{matches:u}=rt.useContext(ha),{pathname:h}=H_(),d=JSON.stringify(jT(u,i.v7_relativeSplatPath)),g=rt.useRef(!1);return G_(()=>{g.current=!0}),rt.useCallback(function(_,A){if(A===void 0&&(A={}),!g.current)return;if(typeof _=="number"){s.go(_);return}let S=HT(_,JSON.parse(d),h,A.relative==="path");a==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:ua([e,S.pathname])),(A.replace?s.replace:s.push)(S,A.state,A)},[e,s,d,h,a])}function Q_(){let{matches:a}=rt.useContext(ha),e=a[a.length-1];return e?e.params:{}}function JT(a,e){return WT(a,e)}function WT(a,e,i,s){oc()||Se(!1);let{navigator:u,static:h}=rt.useContext(lc),{matches:d}=rt.useContext(ha),g=d[d.length-1],y=g?g.params:{};g&&g.pathname;let _=g?g.pathnameBase:"/";g&&g.route;let A=H_(),S;if(e){var I;let et=typeof e=="string"?As(e):e;_==="/"||(I=et.pathname)!=null&&I.startsWith(_)||Se(!1),S=et}else S=A;let j=S.pathname||"/",Y=j;if(_!=="/"){let et=_.replace(/^\//,"").split("/");Y="/"+j.replace(/^\//,"").split("/").slice(et.length).join("/")}let J=bT(a,{pathname:Y}),q=rA(J&&J.map(et=>Object.assign({},et,{params:Object.assign({},y,et.params),pathname:ua([_,u.encodeLocation?u.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?_:ua([_,u.encodeLocation?u.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&q?rt.createElement(uc.Provider,{value:{location:Kl({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:ur.Pop}},q):q}function tA(){let a=uA(),e=KT(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return rt.createElement(rt.Fragment,null,rt.createElement("h2",null,"Unexpected Application Error!"),rt.createElement("h3",{style:{fontStyle:"italic"}},e),i?rt.createElement("pre",{style:u},i):null,null)}const eA=rt.createElement(tA,null);class nA extends rt.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?rt.createElement(ha.Provider,{value:this.props.routeContext},rt.createElement(j_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iA(a){let{routeContext:e,match:i,children:s}=a,u=rt.useContext(pd);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),rt.createElement(ha.Provider,{value:e},s)}function rA(a,e,i,s){var u;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),a==null){var h;if(!i)return null;if(i.errors)a=i.matches;else if((h=s)!=null&&h.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let d=a,g=(u=i)==null?void 0:u.errors;if(g!=null){let A=d.findIndex(S=>S.route.id&&(g==null?void 0:g[S.route.id])!==void 0);A>=0||Se(!1),d=d.slice(0,Math.min(d.length,A+1))}let y=!1,_=-1;if(i&&s&&s.v7_partialHydration)for(let A=0;A<d.length;A++){let S=d[A];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(_=A),S.route.id){let{loaderData:I,errors:j}=i,Y=S.route.loader&&I[S.route.id]===void 0&&(!j||j[S.route.id]===void 0);if(S.route.lazy||Y){y=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((A,S,I)=>{let j,Y=!1,J=null,q=null;i&&(j=g&&S.route.id?g[S.route.id]:void 0,J=S.route.errorElement||eA,y&&(_<0&&I===0?(cA("route-fallback"),Y=!0,q=null):_===I&&(Y=!0,q=S.route.hydrateFallbackElement||null)));let et=e.concat(d.slice(0,I+1)),ut=()=>{let st;return j?st=J:Y?st=q:S.route.Component?st=rt.createElement(S.route.Component,null):S.route.element?st=S.route.element:st=A,rt.createElement(iA,{match:S,routeContext:{outlet:A,matches:et,isDataRoute:i!=null},children:st})};return i&&(S.route.ErrorBoundary||S.route.errorElement||I===0)?rt.createElement(nA,{location:i.location,revalidation:i.revalidation,component:J,error:j,children:ut(),routeContext:{outlet:null,matches:et,isDataRoute:!0}}):ut()},null)}var F_=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(F_||{}),K_=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(K_||{});function aA(a){let e=rt.useContext(pd);return e||Se(!1),e}function sA(a){let e=rt.useContext(XT);return e||Se(!1),e}function lA(a){let e=rt.useContext(ha);return e||Se(!1),e}function Y_(a){let e=lA(),i=e.matches[e.matches.length-1];return i.route.id||Se(!1),i.route.id}function uA(){var a;let e=rt.useContext(j_),i=sA(),s=Y_();return e!==void 0?e:(a=i.errors)==null?void 0:a[s]}function oA(){let{router:a}=aA(F_.UseNavigateStable),e=Y_(K_.UseNavigateStable),i=rt.useRef(!1);return G_(()=>{i.current=!0}),rt.useCallback(function(u,h){h===void 0&&(h={}),i.current&&(typeof u=="number"?a.navigate(u):a.navigate(u,Kl({fromRouteId:e},h)))},[a,e])}const Ty={};function cA(a,e,i){Ty[a]||(Ty[a]=!0)}function hA(a,e){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function zo(a){Se(!1)}function fA(a){let{basename:e="/",children:i=null,location:s,navigationType:u=ur.Pop,navigator:h,static:d=!1,future:g}=a;oc()&&Se(!1);let y=e.replace(/^\/*/,"/"),_=rt.useMemo(()=>({basename:y,navigator:h,static:d,future:Kl({v7_relativeSplatPath:!1},g)}),[y,g,h,d]);typeof s=="string"&&(s=As(s));let{pathname:A="/",search:S="",hash:I="",state:j=null,key:Y="default"}=s,J=rt.useMemo(()=>{let q=k_(A,y);return q==null?null:{location:{pathname:q,search:S,hash:I,state:j,key:Y},navigationType:u}},[y,A,S,I,j,Y,u]);return J==null?null:rt.createElement(lc.Provider,{value:_},rt.createElement(uc.Provider,{children:i,value:J}))}function dA(a){let{children:e,location:i}=a;return JT(Qf(e),i)}new Promise(()=>{});function Qf(a,e){e===void 0&&(e=[]);let i=[];return rt.Children.forEach(a,(s,u)=>{if(!rt.isValidElement(s))return;let h=[...e,u];if(s.type===rt.Fragment){i.push.apply(i,Qf(s.props.children,h));return}s.type!==zo&&Se(!1),!s.props.index||!s.props.children||Se(!1);let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Qf(s.props.children,h)),i.push(d)}),i}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const mA="6";try{window.__reactRouterVersion=mA}catch{}const gA="startTransition",Ay=dT[gA];function pA(a){let{basename:e,children:i,future:s,window:u}=a,h=rt.useRef();h.current==null&&(h.current=TT({window:u,v5Compat:!0}));let d=h.current,[g,y]=rt.useState({action:d.action,location:d.location}),{v7_startTransition:_}=s||{},A=rt.useCallback(S=>{_&&Ay?Ay(()=>y(S)):y(S)},[y,_]);return rt.useLayoutEffect(()=>d.listen(A),[d,A]),rt.useEffect(()=>hA(s),[s]),rt.createElement(fA,{basename:e,children:i,location:g.location,navigationType:g.action,navigator:d,future:s})}var Sy;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Sy||(Sy={}));var by;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(by||(by={}));const yA=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},_A=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],y=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,y=u+2<a.length,_=y?a[u+2]:0,A=h>>2,S=(h&3)<<4|g>>4;let I=(g&15)<<2|_>>6,j=_&63;y||(j=64,d||(I=64)),s.push(i[A],i[S],i[I],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(X_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):_A(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const _=u<a.length?i[a.charAt(u)]:64;++u;const S=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||_==null||S==null)throw new vA;const I=h<<2|g>>4;if(s.push(I),_!==64){const j=g<<4&240|_>>2;if(s.push(j),S!==64){const Y=_<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(a){const e=X_(a);return Z_.encodeByteArray(e,!0)},Go=function(a){return EA(a).replace(/\./g,"")},TA=function(a){try{return Z_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=()=>AA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof Ry>"u")return;const a=Ry.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},RA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&TA(a[1]);return e&&JSON.parse(e)},yd=()=>{try{return yA()||SA()||bA()||RA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},wA=a=>{var e,i;return(i=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},CA=a=>{const e=wA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$_=()=>{var a;return(a=yd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Go(JSON.stringify(i)),Go(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){var a;const e=(a=yd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return!NA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class Ss extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=UA,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J_.prototype.create)}}class J_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?LA(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ss(u,g,s)}}function LA(a,e){return a.replace(zA,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const zA=/\{\$([^}]+)}/g;function Qo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(wy(h)&&wy(d)){if(!Qo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function wy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(a){return a&&a._delegate?a._delegate:a}class Yl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new DA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kA(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(a){return a===sa?void 0:a}function kA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const jA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},HA=Lt.INFO,GA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},QA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=GA[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W_{constructor(e){this.name=e,this._logLevel=HA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const FA=(a,e)=>e.some(i=>a instanceof i);let Cy,Dy;function KA(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Ff=new WeakMap,ev=new WeakMap,Uf=new WeakMap,_d=new WeakMap;function XA(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(cr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tv.set(i,a)}).catch(()=>{}),_d.set(e,a),e}function ZA(a){if(Ff.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ff.set(a,e)}let Kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Ff.get(a);if(e==="objectStoreNames")return a.objectStoreNames||ev.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function $A(a){Kf=a(Kf)}function JA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Lf(this),e,...i);return ev.set(s,e.sort?e.sort():[e]),cr(s)}:YA().includes(a)?function(...e){return a.apply(Lf(this),e),cr(tv.get(this))}:function(...e){return cr(a.apply(Lf(this),e))}}function WA(a){return typeof a=="function"?JA(a):(a instanceof IDBTransaction&&ZA(a),FA(a,KA())?new Proxy(a,Kf):a)}function cr(a){if(a instanceof IDBRequest)return XA(a);if(Uf.has(a))return Uf.get(a);const e=WA(a);return e!==a&&(Uf.set(a,e),_d.set(e,a)),e}const Lf=a=>_d.get(a);function tS(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=cr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(cr(d.result),y.oldVersion,y.newVersion,cr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),u&&y.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const eS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],zf=new Map;function Vy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=nS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||eS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,u?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&y.done]))[0]};return zf.set(e,h),h}$A(a=>({...a,get:(e,i,s)=>Vy(e,i)||a.get(e,i,s),has:(e,i)=>!!Vy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function rS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",Iy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new W_("@firebase/app"),aS="@firebase/app-compat",sS="@firebase/analytics-compat",lS="@firebase/analytics",uS="@firebase/app-check-compat",oS="@firebase/app-check",cS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",dS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",pS="@firebase/functions-compat",yS="@firebase/installations",_S="@firebase/installations-compat",vS="@firebase/messaging",ES="@firebase/messaging-compat",TS="@firebase/performance",AS="@firebase/performance-compat",SS="@firebase/remote-config",bS="@firebase/remote-config-compat",RS="@firebase/storage",wS="@firebase/storage-compat",CS="@firebase/firestore",DS="@firebase/vertexai",VS="@firebase/firestore-compat",IS="firebase",NS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",OS={[Yf]:"fire-core",[aS]:"fire-core-compat",[lS]:"fire-analytics",[sS]:"fire-analytics-compat",[oS]:"fire-app-check",[uS]:"fire-app-check-compat",[cS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[dS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[pS]:"fire-fn-compat",[yS]:"fire-iid",[_S]:"fire-iid-compat",[vS]:"fire-fcm",[ES]:"fire-fcm-compat",[TS]:"fire-perf",[AS]:"fire-perf-compat",[SS]:"fire-rc",[bS]:"fire-rc-compat",[RS]:"fire-gcs",[wS]:"fire-gcs-compat",[CS]:"fire-fst",[VS]:"fire-fst-compat",[DS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Map,MS=new Map,Zf=new Map;function Ny(a,e){try{a.container.addComponent(e)}catch(i){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ko(a){const e=a.name;if(Zf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,a);for(const i of Fo.values())Ny(i,a);for(const i of MS.values())Ny(i,a);return!0}function xS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function US(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new J_("app","Firebase",LS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=NS;function nv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xf,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw hr.create("bad-app-name",{appName:String(u)});if(i||(i=$_()),!i)throw hr.create("no-options");const h=Fo.get(u);if(h){if(Qo(i,h.options)&&Qo(s,h.config))return h;throw hr.create("duplicate-app",{appName:u})}const d=new qA(u);for(const y of Zf.values())d.addComponent(y);const g=new zS(i,s,d);return Fo.set(u,g),g}function BS(a=Xf){const e=Fo.get(a);if(!e&&a===Xf&&$_())return nv();if(!e)throw hr.create("no-app",{appName:a});return e}function fs(a,e,i){var s;let u=(s=OS[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(g.join(" "));return}Ko(new Yl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebase-heartbeat-database",qS=1,Xl="firebase-heartbeat-store";let Pf=null;function iv(){return Pf||(Pf=tS(kS,qS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw hr.create("idb-open",{originalErrorMessage:a.message})})),Pf}async function jS(a){try{const i=(await iv()).transaction(Xl),s=await i.objectStore(Xl).get(rv(a));return await i.done,s}catch(e){if(e instanceof Ss)Ii.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(i.message)}}}async function Oy(a,e){try{const s=(await iv()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,rv(a)),await s.done}catch(i){if(i instanceof Ss)Ii.warn(i.message);else{const s=hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ii.warn(s.message)}}}function rv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=1024,GS=30;class QS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>GS){const d=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ii.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=My(),{heartbeatsToSend:s,unsentEntries:u}=FS(this._heartbeatsCache.heartbeats),h=Go(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ii.warn(i),""}}}function My(){return new Date().toISOString().substring(0,10)}function FS(a,e=HS){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),xy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class KS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function xy(a){return Go(JSON.stringify({version:2,heartbeats:a})).length}function YS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(a){Ko(new Yl("platform-logger",e=>new iS(e),"PRIVATE")),Ko(new Yl("heartbeat",e=>new QS(e),"PRIVATE")),fs(Yf,Iy,a),fs(Yf,Iy,"esm2017"),fs("fire-js","")}XS("");var ZS="firebase",$S="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(ZS,$S,"app");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,av;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function C(){}C.prototype=b.prototype,O.D=b.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(N,M,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return b.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,b,C){C||(C=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=O.g[0],C=O.g[1],M=O.g[2];var U=O.g[3],w=b+(U^C&(M^U))+N[0]+3614090360&4294967295;b=C+(w<<7&4294967295|w>>>25),w=U+(M^b&(C^M))+N[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(C^U&(b^C))+N[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(b^M&(U^b))+N[3]+3250441966&4294967295,C=M+(w<<22&4294967295|w>>>10),w=b+(U^C&(M^U))+N[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(M^b&(C^M))+N[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(C^U&(b^C))+N[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(b^M&(U^b))+N[7]+4249261313&4294967295,C=M+(w<<22&4294967295|w>>>10),w=b+(U^C&(M^U))+N[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(M^b&(C^M))+N[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(C^U&(b^C))+N[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(b^M&(U^b))+N[11]+2304563134&4294967295,C=M+(w<<22&4294967295|w>>>10),w=b+(U^C&(M^U))+N[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=U+(M^b&(C^M))+N[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(C^U&(b^C))+N[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=C+(b^M&(U^b))+N[15]+1236535329&4294967295,C=M+(w<<22&4294967295|w>>>10),w=b+(M^U&(C^M))+N[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(b^C))+N[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^C&(U^b))+N[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(M^U))+N[0]+3921069994&4294967295,C=M+(w<<20&4294967295|w>>>12),w=b+(M^U&(C^M))+N[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(b^C))+N[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^C&(U^b))+N[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(M^U))+N[4]+3889429448&4294967295,C=M+(w<<20&4294967295|w>>>12),w=b+(M^U&(C^M))+N[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(b^C))+N[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^C&(U^b))+N[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(M^U))+N[8]+1163531501&4294967295,C=M+(w<<20&4294967295|w>>>12),w=b+(M^U&(C^M))+N[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=U+(C^M&(b^C))+N[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^C&(U^b))+N[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=C+(U^b&(M^U))+N[12]+2368359562&4294967295,C=M+(w<<20&4294967295|w>>>12),w=b+(C^M^U)+N[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^M)+N[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^C)+N[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^b)+N[14]+4259657740&4294967295,C=M+(w<<23&4294967295|w>>>9),w=b+(C^M^U)+N[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^M)+N[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^C)+N[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^b)+N[10]+3200236656&4294967295,C=M+(w<<23&4294967295|w>>>9),w=b+(C^M^U)+N[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^M)+N[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^C)+N[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^b)+N[6]+76029189&4294967295,C=M+(w<<23&4294967295|w>>>9),w=b+(C^M^U)+N[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=U+(b^C^M)+N[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^C)+N[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=C+(M^U^b)+N[2]+3299628645&4294967295,C=M+(w<<23&4294967295|w>>>9),w=b+(M^(C|~U))+N[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~M))+N[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~C))+N[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~b))+N[5]+4237533241&4294967295,C=M+(w<<21&4294967295|w>>>11),w=b+(M^(C|~U))+N[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~M))+N[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~C))+N[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~b))+N[1]+2240044497&4294967295,C=M+(w<<21&4294967295|w>>>11),w=b+(M^(C|~U))+N[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~M))+N[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~C))+N[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~b))+N[13]+1309151649&4294967295,C=M+(w<<21&4294967295|w>>>11),w=b+(M^(C|~U))+N[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=U+(C^(b|~M))+N[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~C))+N[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=C+(U^(M|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var C=b-this.blockSize,N=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=C;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<b;)if(N[M++]=O[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var C=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=C&255,C/=256;for(this.u(O),O=Array(16),b=C=0;4>b;++b)for(var N=0;32>N;N+=8)O[C++]=this.g[b]>>>N&255;return O};function h(O,b){var C=g;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=b(O)}function d(O,b){this.h=b;for(var C=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==b||(C[M]=U,N=!1)}this.g=C}var g={};function y(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return q(_(-O));for(var b=[],C=1,N=0;O>=C;N++)b[N]=O/C|0,C*=4294967296;return new d(b,0)}function A(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return q(A(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(b,8)),N=S,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+U),b);8>U?(U=_(Math.pow(b,U)),N=N.j(U).add(_(w))):(N=N.j(C),N=N.add(_(w)))}return N}var S=y(0),I=y(1),j=y(16777216);a=d.prototype,a.m=function(){if(J(this))return-q(this).m();for(var O=0,b=1,C=0;C<this.g.length;C++){var N=this.i(C);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Y(this))return"0";if(J(this))return"-"+q(this).toString(O);for(var b=_(Math.pow(O,6)),C=this,N="";;){var M=wt(C,b).g;C=et(C,M.j(b));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=M,Y(C))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Y(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function J(O){return O.h==-1}a.l=function(O){return O=et(this,O),J(O)?-1:Y(O)?0:1};function q(O){for(var b=O.g.length,C=[],N=0;N<b;N++)C[N]=~O.g[N];return new d(C,~O.h).add(I)}a.abs=function(){return J(this)?q(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0,M=0;M<=b;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=w>>>16,U&=65535,w&=65535,C[M]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function et(O,b){return O.add(q(b))}a.j=function(O){if(Y(this)||Y(O))return S;if(J(this))return J(O)?q(this).j(q(O)):q(q(this).j(O));if(J(O))return q(this.j(q(O)));if(0>this.l(j)&&0>O.l(j))return _(this.m()*O.m());for(var b=this.g.length+O.g.length,C=[],N=0;N<2*b;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,w=this.i(N)&65535,Me=O.i(M)>>>16,ie=O.i(M)&65535;C[2*N+2*M]+=w*ie,ut(C,2*N+2*M),C[2*N+2*M+1]+=U*ie,ut(C,2*N+2*M+1),C[2*N+2*M+1]+=w*Me,ut(C,2*N+2*M+1),C[2*N+2*M+2]+=U*Me,ut(C,2*N+2*M+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function ut(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function st(O,b){this.g=O,this.h=b}function wt(O,b){if(Y(b))throw Error("division by zero");if(Y(O))return new st(S,S);if(J(O))return b=wt(q(O),b),new st(q(b.g),q(b.h));if(J(b))return b=wt(O,q(b)),new st(q(b.g),b.h);if(30<O.g.length){if(J(O)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var C=I,N=b;0>=N.l(O);)C=yt(C),N=yt(N);var M=zt(C,1),U=zt(N,1);for(N=zt(N,2),C=zt(C,2);!Y(N);){var w=U.add(N);0>=w.l(O)&&(M=M.add(C),U=w),N=zt(N,1),C=zt(C,1)}return b=et(O,M.j(b)),new st(M,b)}for(M=S;0<=O.l(b);){for(C=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(C),w=U.j(b);J(w)||0<w.l(O);)C-=N,U=_(C),w=U.j(b);Y(U)&&(U=I),M=M.add(U),O=et(O,w)}return new st(M,O)}a.A=function(O){return wt(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0;N<b;N++)C[N]=this.i(N)&O.i(N);return new d(C,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0;N<b;N++)C[N]=this.i(N)|O.i(N);return new d(C,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0;N<b;N++)C[N]=this.i(N)^O.i(N);return new d(C,this.h^O.h)};function yt(O){for(var b=O.g.length+1,C=[],N=0;N<b;N++)C[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(C,O.h)}function zt(O,b){var C=b>>5;b%=32;for(var N=O.g.length-C,M=[],U=0;U<N;U++)M[U]=0<b?O.i(U+C)>>>b|O.i(U+C+1)<<32-b:O.i(U+C);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,av=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,fr=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sv,Pl,lv,Po,$f,uv,ov,cv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oo=="object"&&Oo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var H=p++;return{value:m(H,o[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function S(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function I(o,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,I.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Y(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,H){for(var tt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)tt[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,tt)}}function J(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function q(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const L=o.length||0,H=T.length||0;o.length=L+H;for(let tt=0;tt<H;tt++)o[L+tt]=T[tt]}else o.push(T)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(o){return/^[\s\xa0]*$/.test(o)}function st(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function wt(o){return wt[" "](o),o}wt[" "]=function(){};var yt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let H=0;H<C.length;H++)p=C[H],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new et(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ct=!1,Bt=new Me,D=()=>{const o=g.Promise.resolve(void 0);nt=()=>{o.then(Z)}};var Z=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){U(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ct=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Ct(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{wt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Et[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ct.aa.h.call(this)}}Y(Ct,W);var Et={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),$t=0;function xn(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++$t,this.da=this.fa=!1}function Mi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ri(o){this.src=o,this.g={},this.h=0}ri.prototype.add=function(o,m,p,T,L){var H=o.toString();o=this.g[H],o||(o=this.g[H]=[],this.h++);var tt=br(o,m,T,L);return-1<tt?(m=o[tt],p||(m.fa=!1)):(m=new xn(m,this.src,H,!!T,L),m.fa=p,o.push(m)),m};function Sr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(T,L,1),H&&(Mi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function br(o,m,p,T){for(var L=0;L<o.length;++L){var H=o[L];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==T)return L}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Ds={};function lu(o,m,p,T,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)lu(o,m[H],p,T,L);return null}return p=uu(p),o&&o[we]?o.K(m,p,_(T)?!!T.capture:!1,L):gn(o,m,p,!1,T,L)}function gn(o,m,p,T,L,H){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Ot=ga(o);if(Ot||(o[Rr]=Ot=new ri(o)),p=Ot.add(m,p,T,tt,H),p.proxy)return p;if(T=Cc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)dt||(L=tt),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(wr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Cc(){function o(p){return m.call(o.src,o.listener,p)}const m=Dc;return o}function Vs(o,m,p,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Vs(o,m[H],p,T,L);else T=_(T)?!!T.capture:!!T,p=uu(p),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(H=o.g[m],p=br(H,p,T,L),-1<p&&(Mi(H[p]),Array.prototype.splice.call(H,p,1),H.length==0&&(delete o.g[m],o.h--)))):o&&(o=ga(o))&&(m=o.g[m.toString()],o=-1,m&&(o=br(m,p,T,L)),(p=-1<o?m[o]:null)&&ma(p))}function ma(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Sr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(wr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ga(m))?(Sr(p,o),p.h==0&&(p.src=null,m[Rr]=null)):Mi(o)}}}function wr(o){return o in Ds?Ds[o]:Ds[o]="on"+o}function Dc(o,m){if(o.da)o=!0;else{m=new Ct(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ma(o),o=p.call(T,m)}return o}function ga(o){return o=o[Rr],o instanceof ri?o:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(o){return typeof o=="function"?o:(o[Is]||(o[Is]=function(m){return o.handleEvent(m)}),o[Is])}function re(){it.call(this),this.i=new ri(this),this.M=this,this.F=null}Y(re,it),re.prototype[we]=!0,re.prototype.removeEventListener=function(o,m,p,T){Vs(this,o,m,p,T)};function Ht(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var L=m;m=new W(T,o),N(m,L)}if(L=!0,p)for(var H=p.length-1;0<=H;H--){var tt=m.g=p[H];L=an(tt,T,!0,m)&&L}if(tt=m.g=o,L=an(tt,T,!0,m)&&L,L=an(tt,T,!1,m)&&L,p)for(H=0;H<p.length;H++)tt=m.g=p[H],L=an(tt,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Mi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function an(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var tt=m[H];if(tt&&!tt.da&&tt.capture==p){var Ot=tt.listener,_e=tt.ha||tt.src;tt.fa&&Sr(o.i,tt),L=Ot.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(o,m,p){if(typeof o=="function")p&&(o=I(o,p));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function ou(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,ou(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Vc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(o){it.call(this),this.h=o,this.g={}}Y(Cr,it);var Dr=[];function Vr(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ma(m)},o),o.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Vr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,pa=g.JSON.parse,Ir=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function Os(o){return o.h||(o.h=o.i())}function Ms(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){W.call(this,"d")}Y(si,W);function xs(){W.call(this,"c")}Y(xs,W);var Un={},Us=null;function xi(){return Us=Us||new re}Un.La="serverreachability";function ya(o){W.call(this,Un.La,o)}Y(ya,W);function Ui(o){const m=xi();Ht(m,new ya(m))}Un.STAT_EVENT="statevent";function cu(o,m){W.call(this,Un.STAT_EVENT,o),this.stat=m}Y(cu,W);function Wt(o){const m=xi();Ht(m,new cu(m,o))}Un.Ma="timingevent";function ye(o,m){W.call(this,Un.Ma,o),this.size=m}Y(ye,W);function fe(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Ls(o,m,p,T,L,H){o.info(function(){if(o.g)if(H)for(var tt="",Ot=H.split("&"),_e=0;_e<Ot.length;_e++){var Mt=Ot[_e].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var ve=De.split("_");tt=2<=ve.length&&ve[1]=="type"?tt+(De+"="+Mt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Ic(o,m,p,T,L,H,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+H+" "+tt})}function Li(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nr(o,p)+(T?" "+T:"")})}function hu(o,m){o.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Nr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Dn(p)}catch{return m}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}Y(zn,Ns),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var zs={},_a={};function Vn(o,m,p){o.L=1,o.v=Lr(sn(m)),o.m=p,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Or(o),o.A=sn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Hs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new ue,o.g=Cu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Vc(I(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Dr[0]=L.toString()),L=Dr);for(var H=0;H<L.length;H++){var tt=lu(p,L[H],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ui(),Ls(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const ve=En(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?Ui(3):Ui(2)),Pi(this);var p=this.g.Z();this.X=p;e:if(fu(this)){var T=vu(this.g);o="";var L=T.length,H=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Pn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(H&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Ic(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Li(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,p);else{this.o=!1,this.s=3,Wt(12),xe(this),Pn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=du(this,tt),Ue==_a){ve==4&&(this.s=4,Wt(14),p=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==zs){this.s=4,Wt(15),Li(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Li(this.i,this.l,Ue,null),Mr(this,Ue);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Li(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),Pn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Gr(De),De.M=!0,Wt(11))}}else Li(this.i,this.l,tt,null),Mr(this,tt);ve==4&&xe(this),this.o&&!this.J&&(ve==4?bu(this.j,this):(this.o=!1,Or(this)))}else Uc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),xe(this),Pn(this)}}}catch{}finally{}};function fu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function du(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?_a:(p=Number(m.substring(p,T)),isNaN(p)?zs:(T+=1,T+p>m.length?_a:(m=m.slice(T,T+p),o.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,xe(this)};function Or(o){o.S=Date.now()+o.I,mu(o,o.I)}function mu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=fe(I(o.ba,o),m)}function Pi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(hu(this.i,this.A),this.L!=2&&(Ui(),Wt(17)),xe(this),this.s=2,Pn(this)):mu(this,this.S-o)};function Pn(o){o.j.G==0||o.J||bu(o.j,o)}function xe(o){Pi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Vr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Mr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ps(p.h,o))){if(!o.K&&Ps(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ia(p),Da(p);else break t;Ys(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(I(p.Za,p),6e3));if(1>=Ea(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&Ia(p),!ut(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const De=Mt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ve=Mt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=o.g;if(Ue){const Qn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var H=T.h;H.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ta(H,H.h),H.h=null))}if(T.D){const Zs=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Ft(T.I,T.D,Zs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=o;if(T.qa=wu(T,T.J?T.ia:null,T.W),tt.K){Xe(T.h,tt);var Ot=tt,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(Pi(Ot),Or(Ot)),T.g=tt}else Au(T);0<p.i.length&&Va(p)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(p,7):Fs(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Ui(4)}catch{}}var gu=class{constructor(o,m){this.g=o,this.map=m}};function oi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ea(o){return o.h?1:o.g?o.g.size:0}function Ps(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ta(o,m){o.g?o.g.add(m):o.h=m}function Xe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}oi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Bs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return J(o.i)}function Nc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(y(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Aa(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(y(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function ks(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(y(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Aa(o),T=Nc(o),L=T.length,H=0;H<L;H++)m.call(void 0,T[H],p&&p[H],o)}var xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var H=o[p].substring(0,T);L=o[p].substring(T+1)}else H=o[p];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof de){this.h=o.h,Ur(this,o.j),this.o=o.o,this.g=o.g,Bi(this,o.s),this.l=o.l;var m=o.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ci(this,p),this.m=o.m}else o&&(m=String(o).match(xr))?(this.h=!1,Ur(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Bi(this,m[4]),this.l=yn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var o=[],m=this.j;m&&o.push(zr(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(zr(m,qs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(zr(p,p.charAt(0)=="/"?Mc:js,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",zr(p,Sa)),o.join("")};function sn(o){return new de(o)}function Ur(o,m,p){o.j=p?yn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Bi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ci(o,m,p){m instanceof hi?(o.i=m,yu(o.i,o.h)):(p||(m=zr(m,xc)),o.i=new hi(m,o.h))}function Ft(o,m,p){o.i.set(m,p)}function Lr(o){return Ft(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function yn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,pu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function pu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,js=/[#\?:]/g,Mc=/[#\?]/g,xc=/[#\?@]/g,Sa=/#/g;function hi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&Oc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=hi.prototype,a.add=function(o,m){_n(this),this.i=null,o=Bn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function fi(o,m){_n(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function di(o,m){return _n(o),m=Bn(o,m),o.g.has(m)}a.forEach=function(o,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},a.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let H=0;H<L.length;H++)p.push(m[T])}return p},a.V=function(o){_n(this);let m=[];if(typeof o=="string")di(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},a.set=function(o,m){return _n(this),this.i=null,o=Bn(this,o),di(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Hs(o,m,p){fi(o,m),0<p.length&&(o.i=null,o.g.set(Bn(o,m),J(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const H=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=H;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),o.push(L)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function yu(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(fi(this,T),Hs(this,L,p))},o)),o.j=m}function Pr(o,m){const p=new pn;if(g.Image){const T=new Image;T.onload=j(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function In(o,m){const p=new pn,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Br(){this.g=new Ir}function kn(o,m,p){const T=p||"";try{ks(o,function(L,H){let tt=L;_(L)&&(tt=Dn(L)),m.push(T+H+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ki(o){this.l=o.Ub||null,this.j=o.eb||!1}Y(ki,Ns),ki.prototype.g=function(){return new mi(this.l,this.j)},ki.prototype.i=function(o){return function(){return o}}({});function mi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(mi,re),a=mi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?qn(this):jn(this),this.readyState==3&&Gs(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,qn(this))},a.Qa=function(o){this.g&&(this.response=o,qn(this))},a.ga=function(){this.g&&qn(this)};function qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Qs(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Ft(o,m,p))}function qt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(qt,re);var ba=/^https?$/i,kr=["POST","PUT"];a=qt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Os(this.o):Os(Ln),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(H){_u(this,H);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())p.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(kr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of p)this.g.setRequestHeader(H,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(o),this.u=!1}catch(H){_u(this,H)}};function _u(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ra(o),Hn(o)}function Ra(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),Hn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},a.bb=function(){wa(this)};function wa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)je(o.Ea,0,o);else if(Ht(o,"readystatechange"),En(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(o.D).match(xr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!ba.test(L?L.toLowerCase():"")}p=T}if(p)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var H=2<En(o)?o.g.statusText:""}catch{H=""}o.l=H+" ["+o.Z()+"]",Ra(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){qr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{p.onreadystatechange=T}catch{}}}function qr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),pa(m)}};function vu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ut(o[T]))continue;var p=M(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[L]||[];m[L]=H,H.push(p)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ca(o){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,o),this.cb=jr("retryDelaySeedMs",1e4,o),this.Wa=jr("forwardChannelMaxRetries",2,o),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(o&&o.concurrentRequestLimit),this.Da=new Br,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ca.prototype,a.la=8,a.G=1,a.connect=function(o,m,p,T){Wt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=wu(this,null,this.W),Va(this)};function Fs(o){if(Eu(o),o.G==3){var m=o.U++,p=sn(o.I);if(Ft(p,"SID",o.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Hr(o,p),m=new Ye(o,o.j,m),m.L=2,m.v=Lr(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Cu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Or(m)}Ru(o)}function Da(o){o.g&&(Gr(o),o.g.cancel(),o.g=null)}function Eu(o){Da(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ia(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Va(o){if(!va(o.h)&&!o.s){o.s=!0;var m=o.Ga;nt||D(),ct||(nt(),ct=!0),Bt.add(m,o),o.B=0}}function Lc(o,m){return Ea(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=fe(I(o.Ga,o,m),Xs(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Ye(this,this.j,o);let H=this.o;if(this.S&&(H?(H=b(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Tu(this,L,m),p=sn(this.I),Ft(p,"RID",o),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Hr(this,p),H&&(this.O?m="headers="+encodeURIComponent(String(Qs(H)))+"&"+m:this.m&&Ce(p,this.m,H)),Ta(this.h,L),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),L.T=!0,Vn(L,p,null)):Vn(L,p,m),this.G=2}}else this.G==3&&(o?Ks(this,o):this.i.length==0||va(this.h)||Ks(this))};function Ks(o,m){var p;m?p=m.l:p=o.U++;const T=sn(o.I);Ft(T,"SID",o.K),Ft(T,"RID",p),Ft(T,"AID",o.T),Hr(o,T),o.m&&o.o&&Ce(T,o.m,o.o),p=new Ye(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Tu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ta(o.h,p),Vn(p,T,m)}function Hr(o,m){o.H&&zt(o.H,function(p,T){Ft(m,T,p)}),o.l&&ks({},function(p,T){Ft(m,T,p)})}function Tu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?I(o.l.Na,o.l,o):null;t:{var L=o.i;let H=-1;for(;;){const tt=["count="+p];H==-1?0<p?(H=L[0].g,tt.push("ofs="+H)):H=0:tt.push("ofs="+H);let Ot=!0;for(let _e=0;_e<p;_e++){let Mt=L[_e].g;const De=L[_e].map;if(Mt-=H,0>Mt)H=Math.max(0,L[_e].g-100),Ot=!1;else try{kn(De,tt,"req"+Mt+"_")}catch{T&&T(De)}}if(Ot){T=tt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Au(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;nt||D(),ct||(nt(),ct=!0),Bt.add(m,o),o.v=0}}function Ys(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=fe(I(o.Fa,o),Xs(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,Su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=fe(I(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Da(this),Su(this))};function Gr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Su(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=sn(o.qa);Ft(m,"RID","rpc"),Ft(m,"SID",o.K),Ft(m,"AID",o.T),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ft(m,"TO",o.ja),Ft(m,"TYPE","xmlhttp"),Hr(o,m),o.m&&o.o&&Ce(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Lr(sn(m)),p.m=null,p.P=!0,ui(p,o)}a.Za=function(){this.C!=null&&(this.C=null,Da(this),Ys(this),Wt(19))};function Ia(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function bu(o,m){var p=null;if(o.g==m){Ia(o),Gr(o),o.g=null;var T=2}else if(Ps(o.h,m))p=m.D,Xe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=xi(),Ht(T,new ye(T,p)),Va(o)}else Au(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Lc(o,m)||T==2&&Ys(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Xs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=I(o.fb,o),T=o.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ur(T,"https"),Lr(T),L?Pr(T.toString(),p):In(T.toString(),p)}else Wt(2);o.G=0,o.l&&o.l.sa(m),Ru(o),Eu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Ru(o){if(o.G=0,o.ka=[],o.l){const m=Bs(o.h);(m.length!=0||o.i.length!=0)&&(q(o.ka,m),q(o.ka,o.i),o.h.i.length=0,J(o.i),o.i.length=0),o.l.ra()}}function wu(o,m,p){var T=p instanceof de?sn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Bi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new de(null);T&&Ur(H,T),m&&(H.g=m),L&&Bi(H,L),p&&(H.l=p),T=H}return p=o.D,m=o.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",o.la),Hr(o,T),T}function Cu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new ki({eb:p})):new qt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}a=Du.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Na(){}Na.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){re.call(this),this.g=new Ca(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ut(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}Y(Ze,re),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Fs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Dn(o),o=p);m.i.push(new gu(m.Ya++,o)),m.G==3&&Va(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ze.aa.N.call(this)};function Vu(o){si.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Y(Vu,si);function Iu(){xs.call(this),this.status=1}Y(Iu,xs);function Gn(o){this.g=o}Y(Gn,Du),Gn.prototype.ua=function(){Ht(this.g,"a")},Gn.prototype.ta=function(o){Ht(this.g,new Vu(o))},Gn.prototype.sa=function(o){Ht(this.g,new Iu)},Gn.prototype.ra=function(){Ht(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,cv=function(){return new Na},ov=function(){return xi()},uv=Un,$f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Po=zi,li.COMPLETE="complete",lv=li,Ms.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",re.prototype.listen=re.prototype.K,Pl=Ms,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,sv=qt}).apply(typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",zy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new W_("@firebase/firestore");function ss(){return oa.logLevel}function at(a,...e){if(oa.logLevel<=Lt.DEBUG){const i=e.map(vd);oa.debug(`Firestore (${bs}): ${a}`,...i)}}function Ni(a,...e){if(oa.logLevel<=Lt.ERROR){const i=e.map(vd);oa.error(`Firestore (${bs}): ${a}`,...i)}}function ms(a,...e){if(oa.logLevel<=Lt.WARN){const i=e.map(vd);oa.warn(`Firestore (${bs}): ${a}`,...i)}}function vd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+a;throw Ni(e),new Error(e)}function jt(a,e){a||vt()}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class WS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class t1{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0);let s=this.i;const u=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new dr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await u(this.currentUser)})},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new dr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string"),new hv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Fe(e)}}class e1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class n1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new e1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,US(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Py(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new Py(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=r1(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Rt(a,e){return a<e?-1:a>e?1:0}function Jf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Rt(s,u);{const h=fv(),d=a1(h.encode(By(a,i)),h.encode(By(e,i)));return d!==0?d:Rt(s,u)}}i+=s>65535?2:1}return Rt(a.length,e.length)}function By(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function a1(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Rt(a[i],e[i]);return Rt(a.length,e.length)}function gs(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,qy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*qy);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ky)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new be(0,0))}static max(){return new Tt(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class $n{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(),s===void 0?s=e.length-i:s>e.length-i&&vt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=$n.isNumericId(e),u=$n.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class le extends $n{construct(e,i,s){return new le(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new le(i)}static emptyPath(){return new le([])}}const s1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends $n{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return s1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new ke([jy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ft($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ft($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[u+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new ft($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(le.fromString(e))}static fromName(e){return new gt(le.fromString(e).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function l1(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new gr(u,gt.empty(),e)}function u1(a){return new gr(a.readTime,a.key,Zl)}class gr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new gr(Tt.min(),gt.empty(),Zl)}static max(){return new gr(Tt.max(),gt.empty(),Zl)}}function o1(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Rt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(a){if(a.code!==$.FAILED_PRECONDITION||a.message!==c1)throw a;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},y=>s(y))}),d=!0,h===u&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(u=>u?X.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new X((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const _=y;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new X((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function f1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}cc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function hc(a){return a==null}function Yo(a){return a===0&&1/a==-1/0}function d1(a){return typeof a=="number"&&Number.isInteger(a)&&!Yo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="";function m1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Hy(e)),e=g1(a.get(i),e);return Hy(e)}function g1(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case mv:i+="";break;default:i+=h}}return i}function Hy(a){return a+mv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Tr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function gv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mo(this.root,e,this.comparator,!0)}}class Mo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Be(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,i,s,u,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new pv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const p1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(a){if(jt(!!a),typeof a=="string"){let e=0;const i=p1.exec(a);if(jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function yr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="server_timestamp",_v="__type__",vv="__previous_value__",Ev="__local_write_time__";function Td(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[_v])===null||i===void 0?void 0:i.stringValue)===yv}function fc(a){const e=a.mapValue.fields[vv];return Td(e)?fc(e):e}function $l(a){const e=pr(a.mapValue.fields[Ev].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,i,s,u,h,d,g,y,_){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_}}const Xo="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||Xo}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Xo}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__type__",_1="__max__",xo={mapValue:{}},Av="__vector__",Zo="value";function _r(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Td(a)?4:E1(a)?9007199254740991:v1(a)?10:11:vt()}function ni(a,e){if(a===e)return!0;const i=_r(a);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return $l(a).isEqual($l(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=pr(u.timestampValue),g=pr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return yr(u.bytesValue).isEqual(yr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),g=he(h.doubleValue);return d===g?Yo(d)===Yo(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return gs(a.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ni(d[y],g[y])))return!1;return!0}(a,e);default:return vt()}}function Wl(a,e){return(a.values||[]).find(i=>ni(i,e))!==void 0}function ps(a,e){if(a===e)return 0;const i=_r(a),s=_r(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),y=he(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return Fy(a.timestampValue,e.timestampValue);case 4:return Fy($l(a),$l(e));case 5:return Jf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=yr(h),y=yr(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Rt(g[_],y[_]);if(A!==0)return A}return Rt(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(he(h.latitude),he(d.latitude));return g!==0?g:Rt(he(h.longitude),he(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Ky(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,y,_,A;const S=h.fields||{},I=d.fields||{},j=(g=S[Zo])===null||g===void 0?void 0:g.arrayValue,Y=(y=I[Zo])===null||y===void 0?void 0:y.arrayValue,J=Rt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=Y==null?void 0:Y.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:Ky(j,Y)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===xo.mapValue&&d===xo.mapValue)return 0;if(h===xo.mapValue)return 1;if(d===xo.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const I=Jf(y[S],A[S]);if(I!==0)return I;const j=ps(g[y[S]],_[A[S]]);if(j!==0)return j}return Rt(y.length,A.length)}(a.mapValue,e.mapValue);default:throw vt()}}function Fy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Rt(a,e);const i=pr(a),s=pr(e),u=Rt(i.seconds,s.seconds);return u!==0?u:Rt(i.nanos,s.nanos)}function Ky(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=ps(i[u],s[u]);if(h)return h}return Rt(i.length,s.length)}function ys(a){return Wf(a)}function Wf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=pr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return yr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Wf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Wf(i.fields[d])}`;return u+"}"}(a.mapValue):vt()}function Bo(a){switch(_r(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fc(a);return e?16+Bo(e):16;case 5:return 2*a.stringValue.length;case 6:return yr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Bo(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return Tr(s.fields,(h,d)=>{u+=h.length+Bo(d)}),u}(a.mapValue);default:throw vt()}}function td(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function Yy(a){return!!a&&"nullValue"in a}function Xy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ko(a){return!!a&&"mapValue"in a}function v1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tv])===null||i===void 0?void 0:i.stringValue)===Av}function jl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Tr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=jl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function E1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===_1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ko(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=ke.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=jl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Tr(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new nn(jl(this.value))}}function Sv(a){const e=[];return Tr(a.fields,(i,s)=>{const u=new ke([i]);if(ko(s)){const h=Sv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),nn.empty(),0)}static newFoundDocument(e,i,s,u){return new Ke(e,1,i,Tt.min(),s,u,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.position=e,this.inclusive=i}}function Zy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=ps(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function $y(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ni(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i="asc"){this.field=e,this.dir=i}}function T1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{}class Ae extends bv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new S1(e,i,s):i==="array-contains"?new w1(e,s):i==="in"?new C1(e,s):i==="not-in"?new D1(e,s):i==="array-contains-any"?new V1(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new b1(e,s):new R1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends bv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ii(e,i)}matches(e){return Rv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Rv(a){return a.op==="and"}function wv(a){return A1(a)&&Rv(a)}function A1(a){for(const e of a.filters)if(e instanceof ii)return!1;return!0}function ed(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+ys(a.value);if(wv(a))return a.filters.map(e=>ed(e)).join(",");{const e=a.filters.map(i=>ed(i)).join(",");return`${a.op}(${e})`}}function Cv(a,e){return a instanceof Ae?function(s,u){return u instanceof Ae&&s.op===u.op&&s.field.isEqual(u.field)&&ni(s.value,u.value)}(a,e):a instanceof ii?function(s,u){return u instanceof ii&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&Cv(d,u.filters[g]),!0):!1}(a,e):void vt()}function Dv(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(a):a instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(Dv).join(" ,")+"}"}(a):"Filter"}class S1 extends Ae{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class b1 extends Ae{constructor(e,i){super(e,"in",i),this.keys=Vv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class R1 extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=Vv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Vv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class w1 extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&Wl(i.arrayValue,this.value)}}class C1 extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class D1 extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Wl(this.value.arrayValue,i)}}class V1 extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Jy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new I1(a,e,i,s,u,h,d)}function Sd(a){const e=At(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>ed(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),hc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ys(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ys(s)).join(",")),e.le=i}return e.le}function bd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!T1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Cv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!$y(a.startAt,e.startAt)&&$y(a.endAt,e.endAt)}function nd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N1(a,e,i,s,u,h,d,g){return new dc(a,e,i,s,u,h,d,g)}function mc(a){return new dc(a)}function Wy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function O1(a){return a.collectionGroup!==null}function Hl(a){const e=At(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Jo(h,s))}),i.has(ke.keyField().canonicalString())||e.he.push(new Jo(ke.keyField(),s))}return e.he}function Jn(a){const e=At(a);return e.Pe||(e.Pe=M1(e,Hl(a))),e.Pe}function M1(a,e){if(a.limitType==="F")return Jy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Jo(u.field,h)});const i=a.endAt?new $o(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new $o(a.startAt.position,a.startAt.inclusive):null;return Jy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function id(a,e,i){return new dc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function gc(a,e){return bd(Jn(a),Jn(e))&&a.limitType===e.limitType}function Iv(a){return`${Sd(Jn(a))}|lt:${a.limitType}`}function ls(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Dv(u)).join(", ")}]`),hc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${s})`}(Jn(a))}; limitType=${a.limitType})`}function pc(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Hl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,y){const _=Zy(d,g,y);return d.inclusive?_<=0:_<0}(s.startAt,Hl(s),u)||s.endAt&&!function(d,g,y){const _=Zy(d,g,y);return d.inclusive?_>=0:_>0}(s.endAt,Hl(s),u))}(a,e)}function x1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Nv(a){return(e,i)=>{let s=!1;for(const u of Hl(a)){const h=U1(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function U1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const y=d.data.field(h),_=g.data.field(h);return y!==null&&_!==null?ps(y,_):vt()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return gv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new ne(gt.comparator);function Oi(){return L1}const Ov=new ne(gt.comparator);function Bl(...a){let e=Ov;for(const i of a)e=e.insert(i.key,i);return e}function Mv(a){let e=Ov;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function la(){return Gl()}function xv(){return Gl()}function Gl(){return new fa(a=>a.toString(),(a,e)=>a.isEqual(e))}const z1=new ne(gt.comparator),P1=new Re(gt.comparator);function Nt(...a){let e=P1;for(const i of a)e=e.add(i);return e}const B1=new Re(Rt);function k1(){return B1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function Uv(a){return{integerValue:""+a}}function q1(a,e){return d1(e)?Uv(e):Rd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function j1(a,e,i){return a instanceof Wo?function(u,h){const d={fields:{[_v]:{stringValue:yv},[Ev]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Td(h)&&(h=fc(h)),h&&(d.fields[vv]=h),{mapValue:d}}(i,e):a instanceof tu?zv(a,e):a instanceof eu?Pv(a,e):function(u,h){const d=Lv(u,h),g=t_(d)+t_(u.Ie);return td(d)&&td(u.Ie)?Uv(g):Rd(u.serializer,g)}(a,e)}function H1(a,e,i){return a instanceof tu?zv(a,e):a instanceof eu?Pv(a,e):i}function Lv(a,e){return a instanceof tc?function(s){return td(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Wo extends yc{}class tu extends yc{constructor(e){super(),this.elements=e}}function zv(a,e){const i=Bv(e);for(const s of a.elements)i.some(u=>ni(u,s))||i.push(s);return{arrayValue:{values:i}}}class eu extends yc{constructor(e){super(),this.elements=e}}function Pv(a,e){let i=Bv(e);for(const s of a.elements)i=i.filter(u=>!ni(u,s));return{arrayValue:{values:i}}}class tc extends yc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function t_(a){return he(a.integerValue||a.doubleValue)}function Bv(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function G1(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof tu&&u instanceof tu||s instanceof eu&&u instanceof eu?gs(s.elements,u.elements,ni):s instanceof tc&&u instanceof tc?ni(s.Ie,u.Ie):s instanceof Wo&&u instanceof Wo}(a.transform,e.transform)}class Q1{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class _c{}function kv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new jv(a.key,Wn.none()):new iu(a.key,a.data,Wn.none());{const i=a.data,s=nn.empty();let u=new Re(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Ar(a.key,s,new mn(u.toArray()),Wn.none())}}function F1(a,e,i){a instanceof iu?function(u,h,d){const g=u.value.clone(),y=n_(u.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ar?function(u,h,d){if(!qo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=n_(u.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(qv(u)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ql(a,e,i,s){return a instanceof iu?function(h,d,g,y){if(!qo(h.precondition,d))return g;const _=h.value.clone(),A=i_(h.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,s):a instanceof Ar?function(h,d,g,y){if(!qo(h.precondition,d))return g;const _=i_(h.fieldTransforms,y,d),A=d.data;return A.setAll(qv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(h,d,g){return qo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function K1(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=Lv(s.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(s.field,h))}return i||null}function e_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&gs(s,u,(h,d)=>G1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class iu extends _c{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ar extends _c{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function n_(a,e,i){const s=new Map;jt(a.length===i.length);for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,H1(d,g,i[u]))}return s}function i_(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,j1(h,d,e))}return s}class jv extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y1 extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&F1(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=xv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const y=kv(d,g);y!==null&&s.set(u.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,s)=>e_(i,s))&&gs(this.baseMutations,e.baseMutations,(i,s)=>e_(i,s))}}class wd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){jt(e.mutations.length===s.length);let u=function(){return z1}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new wd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function J1(a){switch(a){case $.OK:return vt();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt()}}function Hv(a){if(a===void 0)return Ni("GRPC error has no .code"),$.UNKNOWN;switch(a){case pe.OK:return $.OK;case pe.CANCELLED:return $.CANCELLED;case pe.UNKNOWN:return $.UNKNOWN;case pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pe.INTERNAL:return $.INTERNAL;case pe.UNAVAILABLE:return $.UNAVAILABLE;case pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pe.NOT_FOUND:return $.NOT_FOUND;case pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pe.ABORTED:return $.ABORTED;case pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pe.DATA_LOSS:return $.DATA_LOSS;default:return vt()}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new fr([4294967295,4294967295],0);function r_(a){const e=fv().encode(a),i=new av;return i.update(e),new Uint8Array(i.digest())}function a_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new fr([i,s],0),new fr([u,h],0)]}class Cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=fr.fromNumber(this.Ee)}Ae(e,i,s){let u=e.add(i.multiply(fr.fromNumber(s)));return u.compare(W1)===1&&(u=new fr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=r_(e),[s,u]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=r_(e),[s,u]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new vc(Tt.min(),u,new ne(Rt),Oi(),Nt())}}class ru{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ru(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i,s,u){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=u}}class Gv{constructor(e,i){this.targetId=e,this.ge=i}}class Qv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class s_{constructor(){this.pe=0,this.ye=l_(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:vt()}}),new ru(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=l_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class tb{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Oi(),this.$e=Uo(),this.Ue=Uo(),this.Ke=new ne(Rt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,s=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(nd(h))if(s===0){const d=new gt(h.path);this.ze(i,d,Ke.newNoDocument(d,Tt.min()))}else jt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),y=g?this.nt(g,e,d):1;if(y!==0){this.Ye(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,_)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=yr(s).toUint8Array()}catch(y){if(y instanceof pv)return ms("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Cd(d,u,h)}catch(y){return ms(y instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&nd(g.target)){const y=new gt(g.target.path);this._t(y).has(d)||this.ut(d,y)||this.ze(d,y,Ke.newNoDocument(y,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const _=this.Xe(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new vc(e,i,this.Ke,this.Qe,s);return this.Qe=Oi(),this.$e=Uo(),this.Ue=Uo(),this.Ke=new ne(Rt),u}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new s_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(Rt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Rt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new s_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Uo(){return new ne(gt.comparator)}function l_(){return new ne(gt.comparator)}const eb={asc:"ASCENDING",desc:"DESCENDING"},nb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ib={and:"AND",or:"OR"};class rb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rd(a,e){return a.useProto3Json||hc(e)?e:{value:e}}function ec(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ab(a,e){return ec(a,e.toTimestamp())}function ti(a){return jt(!!a),Tt.fromTimestamp(function(i){const s=pr(i);return new be(s.seconds,s.nanos)}(a))}function Dd(a,e){return ad(a,e).canonicalString()}function ad(a,e){const i=function(u){return new le(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Kv(a){const e=le.fromString(a);return jt(Jv(e)),e}function sd(a,e){return Dd(a.databaseId,e.path)}function Bf(a,e){const i=Kv(e);if(i.get(1)!==a.databaseId.projectId)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(Xv(i))}function Yv(a,e){return Dd(a.databaseId,e)}function sb(a){const e=Kv(a);return e.length===4?le.emptyPath():Xv(e)}function ld(a){return new le(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Xv(a){return jt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function u_(a,e,i){return{name:sd(a,e),fields:i.value.mapValue.fields}}function lb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?$.UNKNOWN:Hv(_.code);return new ft(A,_.message||"")}(d);i=new Qv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Bf(a,s.document.name),h=ti(s.document.updateTime),d=s.document.createTime?ti(s.document.createTime):Tt.min(),g=new nn({mapValue:{fields:s.document.fields}}),y=Ke.newFoundDocument(u,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new jo(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Bf(a,s.document),h=s.readTime?ti(s.readTime):Tt.min(),d=Ke.newNoDocument(u,h),g=s.removedTargetIds||[];i=new jo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Bf(a,s.document),h=s.removedTargetIds||[];i=new jo([],h,u,null)}else{if(!("filter"in e))return vt();{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new $1(u,h),g=s.targetId;i=new Gv(g,d)}}return i}function ub(a,e){let i;if(e instanceof iu)i={update:u_(a,e.key,e.value)};else if(e instanceof jv)i={delete:sd(a,e.key)};else if(e instanceof Ar)i={update:u_(a,e.key,e.data),updateMask:yb(e.fieldMask)};else{if(!(e instanceof Y1))return vt();i={verify:sd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Wo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw vt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:ab(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt()}(a,e.precondition)),i}function ob(a,e){return a&&a.length>0?(jt(e!==void 0),a.map(i=>function(u,h){let d=u.updateTime?ti(u.updateTime):ti(h);return d.isEqual(Tt.min())&&(d=ti(h)),new Q1(d,u.transformResults||[])}(i,e))):[]}function cb(a,e){return{documents:[Yv(a,e.path)]}}function hb(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Yv(a,u);const h=function(_){if(_.length!==0)return $v(ii.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:us(I.field),direction:mb(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:i,parent:u}}function fb(a){let e=sb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){jt(s===1);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(S){const I=Zv(S);return I instanceof ii&&wv(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(I=>function(Y){return new Jo(os(Y.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(I))}(i.orderBy));let g=null;i.limit&&(g=function(S){let I;return I=typeof S=="object"?S.value:S,hc(I)?null:I}(i.limit));let y=null;i.startAt&&(y=function(S){const I=!!S.before,j=S.values||[];return new $o(j,I)}(i.startAt));let _=null;return i.endAt&&(_=function(S){const I=!S.before,j=S.values||[];return new $o(j,I)}(i.endAt)),N1(e,u,d,h,g,"F",y,_)}function db(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=os(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=os(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=os(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=os(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(os(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(s=>Zv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(a):vt()}function mb(a){return eb[a]}function gb(a){return nb[a]}function pb(a){return ib[a]}function us(a){return{fieldPath:a.canonicalString()}}function os(a){return ke.fromServerFormat(a.fieldPath)}function $v(a){return a instanceof Ae?function(i){if(i.op==="=="){if(Xy(i.value))return{unaryFilter:{field:us(i.field),op:"IS_NAN"}};if(Yy(i.value))return{unaryFilter:{field:us(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xy(i.value))return{unaryFilter:{field:us(i.field),op:"IS_NOT_NAN"}};if(Yy(i.value))return{unaryFilter:{field:us(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(i.field),op:gb(i.op),value:i.value}}}(a):a instanceof ii?function(i){const s=i.getFilters().map(u=>$v(u));return s.length===1?s[0]:{compositeFilter:{op:pb(i.op),filters:s}}}(a):vt()}function yb(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Jv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,i,s,u,h=Tt.min(),d=Tt.min(),g=qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.Tt=e}}function vb(a){const e=fb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.Tn=new Tb}addToCollectionParentIndex(e,i){return this.Tn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(gr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class Tb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Re(le.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Re(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Wv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new _s(0)}static Kn(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",Ab=1048576;function h_([a,e],[i,s]){const u=Rt(a,i);return u===0?Rt(e,s):u}class Sb{constructor(e){this.Hn=e,this.buffer=new Re(h_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(c_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?at(c_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.er(3e5)})}}class Rb{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(cc.ae);const s=new Sb(i);return this.tr.forEachTarget(e,u=>s.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>s.Zn(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(o_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,u,h,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),u=this.params.maximumSequenceNumbersToCollect):u=S,d=Date.now(),this.nthSequenceNumber(e,u))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(h=S,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),ss()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:S})))}}function wb(a,e){return new Rb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.changes=new fa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Ql(s.mutation,u,mn.empty(),be.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const u=la();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Bl();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=la();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Oi();const d=Gl(),g=function(){return Gl()}();return i.forEach((y,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ar)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ql(A.mutation,_,A.mutation.getFieldMask(),be.now())):d.set(_.key,mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var S;return g.set(_,new Db(A,(S=d.get(_))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Gl();let u=new ne((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const _=i.get(y);if(_===null)return;let A=s.get(y)||mn.empty();A=g.applyToLocalView(_,A),s.set(y,A);const S=(u.get(g.batchId)||Nt()).add(y);u=u.insert(g.batchId,S)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,S=xv();A.forEach(I=>{if(!h.has(I)){const j=kv(i.get(I),s.get(I));j!==null&&S.set(I,j),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):O1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):X.resolve(la());let g=Zl,y=h;return d.next(_=>X.forEach(_,(A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{y=y.insert(A,I)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,y,_,Nt())).next(A=>({batchId:g,changes:Mv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let u=Bl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,y=>{const _=function(S,I){return new dc(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next(A=>{A.forEach((S,I)=>{d=d.insert(S,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Bl();return d.forEach((y,_)=>{const A=h.get(y);A!==void 0&&Ql(A.mutation,_,mn.empty(),be.now()),pc(i,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ti(u.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:vb(u.bundledQuery),readTime:ti(u.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=la();return X.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.Et(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Rr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const u=la(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&y.largestBatchId>s&&u.set(y.getKey(),y)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=la(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=la(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return X.resolve(g)}Et(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(s.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Z1(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.Vr=new Re(Oe.mr),this.gr=new Re(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new le([])),s=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.gr.forEachInRange([s,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new le([])),s=new Oe(i,e),u=new Oe(i,e+1);let h=Nt();return this.gr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Rt(e.Cr,i.Cr)}static pr(e,i){return Rt(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Oe.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new X1(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Nr(s),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ed:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,u],d=>{const g=this.Or(d.Cr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Rt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new gt(h),0);let g=new Re(Rt);return this.Mr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(g=g.add(y.Cr)),!0)},d),X.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const u=this.Or(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Oe(i,0),u=this.Mr.firstAfterOrEqual(s);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.kr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Oi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ke.newInvalidDocument(u))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Oi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||o1(u1(A),s)<=0||(u.has(A.key)||pc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,u){vt()}qr(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Ub(this)}getSize(e){return X.resolve(this.size)}}class Ub extends Cb{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.persistence=e,this.Qr=new fa(i=>Sd(i),bd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vd,this.targetCount=0,this.Kr=_s.Un()}forEachTarget(e,i){return this.Qr.forEach((s,u)=>i(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),X.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.zn(i),X.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),X.waitFor(h).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new cc(0),this.zr=!1,this.zr=!0,this.jr=new Ob,this.referenceDelegate=e(this),this.Hr=new Lb(this),this.indexManager=new Eb,this.remoteDocumentCache=function(u){return new xb(u)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new _b(i),this.Yr=new Ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Nb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new Mb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const u=new zb(this.Gr.next());return this.referenceDelegate.Zr(),s(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class zb extends h1{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.ti=new Vd,this.ni=null}static ri(e){return new Id(e)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const u=gt.fromPath(s);return this.si(e,u).next(h=>{h||i.removeEntry(u,Tt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class nc{constructor(e,i){this.persistence=e,this.oi=new fa(s=>m1(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=wb(this,i)}static ri(e,i){return new nc(e,i)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return X.forEach(this.oi,(s,u)=>this.ar(e,s,u).next(h=>h?X.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bo(e.data.value)),i}ar(e,i,s){return X.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return X.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=u}static Yi(e,i){let s=Nt(),u=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Nd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return OA()?8:f1(IA())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Pb;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,u){return s.documentReadCount<this.es?(ss()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ls(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(ss()<=Lt.DEBUG&&at("QueryEngine","Query:",ls(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ts*u?(ss()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ls(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):X.resolve())}rs(e,i){if(Wy(i))return X.resolve(null);let s=Jn(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=id(i,null,"F"),s=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.cs(i,g);return this.ls(i,_,d,y.readTime)?this.rs(e,id(i,null,"F")):this.hs(e,_,i,y)}))})))}ss(e,i,s,u){return Wy(i)||u.isEqual(Tt.min())?X.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,u)?X.resolve(null):(ss()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ls(i)),this.hs(e,d,i,l1(u,Zl)).next(g=>g))})}cs(e,i){let s=new Re(Nv(e));return i.forEach((u,h)=>{pc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,s){return ss()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ls(i)),this.ns.getDocumentsMatchingQuery(e,i,gr.min(),s)}hs(e,i,s,u){return this.ns.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="LocalStore",kb=3e8;class qb{constructor(e,i,s,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ne(Rt),this.Is=new fa(h=>Sd(h),bd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vb(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function jb(a,e,i,s){return new qb(a,e,i,s)}async function e0(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=Nt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:g}))})})}function Hb(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,y,_,A){const S=_.batch,I=S.keys();let j=X.resolve();return I.forEach(Y=>{j=j.next(()=>A.getEntry(y,Y)).next(J=>{const q=_.docVersions.get(Y);jt(q!==null),J.version.compareTo(q)<0&&(S.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(y,S))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function n0(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function Gb(a,e){const i=At(a),s=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((A,S)=>{const I=u.get(S);if(!I)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,S)));let j=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),u=u.insert(S,j),function(J,q,et){return J.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=kb?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(I,j,A)&&g.push(i.Hr.updateTargetData(h,j))});let y=Oi(),_=Nt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(Qb(h,d,e.documentUpdates).next(A=>{y=A.Vs,_=A.fs})),!s.isEqual(Tt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(S=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,_)).next(()=>y)}).then(h=>(i.Ts=u,h))}function Qb(a,e,i){let s=Nt(),u=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Oi();return i.forEach((g,y)=>{const _=h.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):at(Od,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)}),{Vs:d,fs:u}})}function Fb(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Kb(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Hr.getTargetData(s,e).next(h=>h?(u=h,X.resolve(u)):i.Hr.allocateTargetId(s).next(d=>(u=new or(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ts.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function ud(a,e,i){const s=At(a),u=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!ws(d))throw d;at(Od,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(u.target)}function f_(a,e,i){const s=At(a);let u=Tt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,A){const S=At(y),I=S.Is.get(A);return I!==void 0?X.resolve(S.Ts.get(I)):S.Hr.getTargetData(_,A)}(s,d,Jn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Nt())).next(g=>(Yb(s,x1(e),g),{documents:g,gs:h})))}function Yb(a,e,i){let s=a.Es.get(e)||Tt.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class d_{constructor(){this.activeTargetIds=k1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xb{constructor(){this.ho=new d_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new d_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(m_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=null;function od(){return Lo===null?Lo=function(){return 268435456+Math.round(2147483648*Math.random())}():Lo++,"0x"+Lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",$b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jb{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${u}`,this.wo=this.databaseId.database===Xo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}So(e,i,s,u,h){const d=od(),g=this.bo(e,i.toUriEncodedString());at(kf,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,u,h),this.vo(e,g,y,s).then(_=>(at(kf,`Received RPC '${e}' ${d}: `,_),_),_=>{throw ms(kf,`RPC '${e}' ${d} failed with error: `,_,"url: ",g,"request:",s),_})}Co(e,i,s,u,h,d){return this.So(e,i,s,u,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const s=$b[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class tR extends Jb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,u){const h=od();return new Promise((d,g)=>{const y=new sv;y.setWithCredentials(!0),y.listenOnce(lv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Po.NO_ERROR:const A=y.getResponseJson();at(Qe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Po.TIMEOUT:at(Qe,`RPC '${e}' ${h} timed out`),g(new ft($.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:const S=y.getStatus();if(at(Qe,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const j=I==null?void 0:I.error;if(j&&j.status&&j.message){const Y=function(q){const et=q.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(et)>=0?et:$.UNKNOWN}(j.status);g(new ft(Y,j.message))}else g(new ft($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ft($.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{at(Qe,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(u);at(Qe,`RPC '${e}' ${h} sending request:`,u),y.send(i,"POST",_,s,15)})}Wo(e,i,s){const u=od(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cv(),g=ov(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=h.join("");at(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,y);const S=d.createWebChannel(A,y);let I=!1,j=!1;const Y=new Wb({Fo:q=>{j?at(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,q):(I||(at(Qe,`Opening RPC '${e}' stream ${u} transport.`),S.open(),I=!0),at(Qe,`RPC '${e}' stream ${u} sending:`,q),S.send(q))},Mo:()=>S.close()}),J=(q,et,ut)=>{q.listen(et,st=>{try{ut(st)}catch(wt){setTimeout(()=>{throw wt},0)}})};return J(S,Pl.EventType.OPEN,()=>{j||(at(Qe,`RPC '${e}' stream ${u} transport opened.`),Y.Qo())}),J(S,Pl.EventType.CLOSE,()=>{j||(j=!0,at(Qe,`RPC '${e}' stream ${u} transport closed`),Y.Uo())}),J(S,Pl.EventType.ERROR,q=>{j||(j=!0,ms(Qe,`RPC '${e}' stream ${u} transport errored:`,q),Y.Uo(new ft($.UNAVAILABLE,"The operation could not be completed")))}),J(S,Pl.EventType.MESSAGE,q=>{var et;if(!j){const ut=q.data[0];jt(!!ut);const st=ut,wt=(st==null?void 0:st.error)||((et=st[0])===null||et===void 0?void 0:et.error);if(wt){at(Qe,`RPC '${e}' stream ${u} received error:`,wt);const yt=wt.status;let zt=function(C){const N=pe[C];if(N!==void 0)return Hv(N)}(yt),O=wt.message;zt===void 0&&(zt=$.INTERNAL,O="Unknown error status: "+yt+" with message "+wt.message),j=!0,Y.Uo(new ft(zt,O)),S.close()}else at(Qe,`RPC '${e}' stream ${u} received:`,ut),Y.Ko(ut)}}),J(g,uv.STAT_EVENT,q=>{q.stat===$f.PROXY?at(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):q.stat===$f.NOPROXY&&at(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(a){return new rb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-s);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class r0{constructor(e,i,s,u,h,d,g,y){this.Ti=e,this.n_=s,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new i0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ni(i.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.i_===i&&this.V_(s,u)},s=>{e(()=>{const u=new ft($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(u)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{s(()=>this.m_(u))}),this.stream.onMessage(u=>{s(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return at(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(at(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eR extends r0{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=lb(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ti(d.readTime):Tt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=ld(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=nd(y)?{documents:cb(h,y)}:{query:hb(h,y).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Fv(h,d.resumeToken);const _=rd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=ec(h,d.snapshotVersion.toTimestamp());const _=rd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=db(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.I_(i)}}class nR extends r0{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=ob(e.writeResults,e.commitTime),s=ti(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=ld(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>ub(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{}class rR extends iR{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,ad(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft($.UNKNOWN,h.toString())})}Co(e,i,s,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,ad(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft($.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ni(i),this.N_=!1):at("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class sR{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{da(this)&&(at(ca,"Restarting streams for network reachability change."),await async function(y){const _=At(y);_.W_.add(4),await au(_),_.j_.set("Unknown"),_.W_.delete(4),await Tc(_)}(this))})}),this.j_=new aR(s,u)}}async function Tc(a){if(da(a))for(const e of a.G_)await e(!0)}async function au(a){for(const e of a.G_)await e(!1)}function a0(a,e){const i=At(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Ld(i)?Ud(i):Cs(i).c_()&&xd(i,e))}function Md(a,e){const i=At(a),s=Cs(i);i.K_.delete(e),s.c_()&&s0(i,e),i.K_.size===0&&(s.c_()?s.P_():da(i)&&i.j_.set("Unknown"))}function xd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cs(a).y_(e)}function s0(a,e){a.H_.Ne(e),Cs(a).w_(e)}function Ud(a){a.H_=new tb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Cs(a).start(),a.j_.B_()}function Ld(a){return da(a)&&!Cs(a).u_()&&a.K_.size>0}function da(a){return At(a).W_.size===0}function l0(a){a.H_=void 0}async function lR(a){a.j_.set("Online")}async function uR(a){a.K_.forEach((e,i)=>{xd(a,e)})}async function oR(a,e){l0(a),Ld(a)?(a.j_.q_(e),Ud(a)):a.j_.set("Unknown")}async function cR(a,e,i){if(a.j_.set("Online"),e instanceof Qv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(a,e)}catch(s){at(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ic(a,s)}else if(e instanceof jo?a.H_.We(e):e instanceof Gv?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Tt.min()))try{const s=await n0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.K_.get(_);A&&h.K_.set(_,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,_)=>{const A=h.K_.get(y);if(!A)return;h.K_.set(y,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),s0(h,y);const S=new or(A.target,y,_,A.sequenceNumber);xd(h,S)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){at(ca,"Failed to raise snapshot:",s),await ic(a,s)}}async function ic(a,e,i){if(!ws(e))throw e;a.W_.add(1),await au(a),a.j_.set("Offline"),i||(i=()=>n0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{at(ca,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Tc(a)})}function u0(a,e){return e().catch(i=>ic(a,i,e))}async function Ac(a){const e=At(a),i=vr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ed;for(;hR(e);)try{const u=await Fb(e.localStore,s);if(u===null){e.U_.length===0&&i.P_();break}s=u.batchId,fR(e,u)}catch(u){await ic(e,u)}o0(e)&&c0(e)}function hR(a){return da(a)&&a.U_.length<10}function fR(a,e){a.U_.push(e);const i=vr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function o0(a){return da(a)&&!vr(a).u_()&&a.U_.length>0}function c0(a){vr(a).start()}async function dR(a){vr(a).C_()}async function mR(a){const e=vr(a);for(const i of a.U_)e.b_(i.mutations)}async function gR(a,e,i){const s=a.U_.shift(),u=wd.from(s,e,i);await u0(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await Ac(a)}async function pR(a,e){e&&vr(a).S_&&await async function(s,u){if(function(d){return J1(d)&&d!==$.ABORTED}(u.code)){const h=s.U_.shift();vr(s).h_(),await u0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await Ac(s)}}(a,e),o0(a)&&c0(a)}async function y_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),at(ca,"RemoteStore received new credentials");const s=da(i);i.W_.add(3),await au(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Tc(i)}async function yR(a,e){const i=At(a);e?(i.W_.delete(2),await Tc(i)):e||(i.W_.add(2),await au(i),i.j_.set("Unknown"))}function Cs(a){return a.J_||(a.J_=function(i,s,u){const h=At(i);return h.M_(),new eR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{xo:lR.bind(null,a),No:uR.bind(null,a),Lo:oR.bind(null,a),p_:cR.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Ld(a)?Ud(a):a.j_.set("Unknown")):(await a.J_.stop(),l0(a))})),a.J_}function vr(a){return a.Y_||(a.Y_=function(i,s,u){const h=At(i);return h.M_(),new nR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:dR.bind(null,a),Lo:pR.bind(null,a),D_:mR.bind(null,a),v_:gR.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Ac(a)):(await a.Y_.stop(),a.U_.length>0&&(at(ca,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new zd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(a,e){if(Ni("AsyncQueue",`${e}: ${a}`),ws(a))return new ft($.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.Z_=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):vt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class vs{constructor(e,i,s,u,h,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new vs(e,i,ds.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class vR{constructor(){this.queries=v_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const u=At(i),h=u.queries;u.queries=v_(),h.forEach((d,g)=>{for(const y of g.ta)y.onError(s)})})(this,new ft($.ABORTED,"Firestore shutting down"))}}function v_(){return new fa(a=>Iv(a),gc)}async function h0(a,e){const i=At(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(s=2):(h=new _R,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Pd(d,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Bd(i)}async function f0(a,e){const i=At(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ER(a,e){const i=At(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(s=!0);d.ea=u}}s&&Bd(i)}function TR(a,e,i){const s=At(a),u=s.queries.get(e);if(u)for(const h of u.ta)h.onError(i);s.queries.delete(e)}function Bd(a){a.ia.forEach(e=>{e.next()})}var cd,E_;(E_=cd||(cd={}))._a="default",E_.Cache="cache";class d0{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new vs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class AR{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=Nv(e),this.wa=new ds(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new __,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const y=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,S)=>{const I=u.get(A),j=pc(this.query,S)?S:null,Y=!!I&&this.mutatedKeys.has(I.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let q=!1;I&&j?I.data.isEqual(j.data)?Y!==J&&(s.track({type:3,doc:j}),q=!0):this.va(I,j)||(s.track({type:2,doc:j}),q=!0,(y&&this.ya(j,y)>0||_&&this.ya(j,_)<0)&&(g=!0)):!I&&j?(s.track({type:0,doc:j}),q=!0):I&&!j&&(s.track({type:1,doc:I}),q=!0,(y||_)&&(g=!0)),q&&(j?(d=d.add(j),h=J?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,S)=>function(j,Y){const J=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return J(j)-J(Y)}(A.type,S.type)||this.ya(A.doc,S.doc)),this.Ca(s),u=u!=null&&u;const g=i&&!u?this.Fa():[],y=this.pa.size===0&&this.current&&!u?1:0,_=y!==this.ga;return this.ga=y,d.length!==0||_?{snapshot:new vs(this.query,e.wa,h,d,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new __,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new g0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new m0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const kd="SyncEngine";class SR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class bR{constructor(e){this.key=e,this.Ba=!1}}class RR{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new fa(g=>Iv(g),gc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ua=new Map,this.Ka=new Vd,this.Wa={},this.Ga=new Map,this.za=_s.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wR(a,e,i=!0){const s=T0(a);let u;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await p0(s,e,i,!0),u}async function CR(a,e){const i=T0(a);await p0(i,e,!0,!1)}async function p0(a,e,i,s){const u=await Kb(a.localStore,Jn(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await DR(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&a0(a.remoteStore,u),g}async function DR(a,e,i,s,u){a.Ha=(S,I,j)=>async function(J,q,et,ut){let st=q.view.ba(et);st.ls&&(st=await f_(J.localStore,q.query,!1).then(({documents:O})=>q.view.ba(O,st)));const wt=ut&&ut.targetChanges.get(q.targetId),yt=ut&&ut.targetMismatches.get(q.targetId)!=null,zt=q.view.applyChanges(st,J.isPrimaryClient,wt,yt);return A_(J,q.targetId,zt.Ma),zt.snapshot}(a,S,I,j);const h=await f_(a.localStore,e,!0),d=new AR(e,h.gs),g=d.ba(h.documents),y=ru.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),_=d.applyChanges(g,a.isPrimaryClient,y);A_(a,i,_.Ma);const A=new SR(e,i,d);return a.ka.set(e,A),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),_.snapshot}async function VR(a,e,i){const s=At(a),u=s.ka.get(e),h=s.qa.get(u.targetId);if(h.length>1)return s.qa.set(u.targetId,h.filter(d=>!gc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await ud(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Md(s.remoteStore,u.targetId),hd(s,u.targetId)}).catch(Rs)):(hd(s,u.targetId),await ud(s.localStore,u.targetId,!0))}async function IR(a,e){const i=At(a),s=i.ka.get(e),u=i.qa.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Md(i.remoteStore,s.targetId))}async function NR(a,e,i){const s=PR(a);try{const u=await function(d,g){const y=At(d),_=be.now(),A=g.reduce((j,Y)=>j.add(Y.key),Nt());let S,I;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Y=Oi(),J=Nt();return y.ds.getEntries(j,A).next(q=>{Y=q,Y.forEach((et,ut)=>{ut.isValidDocument()||(J=J.add(et))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,Y)).next(q=>{S=q;const et=[];for(const ut of g){const st=K1(ut,S.get(ut.key).overlayedDocument);st!=null&&et.push(new Ar(ut.key,st,Sv(st.value.mapValue),Wn.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,et,g)}).next(q=>{I=q;const et=q.applyToLocalDocumentSet(S,J);return y.documentOverlayCache.saveOverlays(j,q.batchId,et)})}).then(()=>({batchId:I.batchId,changes:Mv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,y){let _=d.Wa[d.currentUser.toKey()];_||(_=new ne(Rt)),_=_.insert(g,y),d.Wa[d.currentUser.toKey()]=_}(s,u.batchId,i),await su(s,u.changes),await Ac(s.remoteStore)}catch(u){const h=Pd(u,"Failed to persist write");i.reject(h)}}async function y0(a,e){const i=At(a);try{const s=await Gb(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?jt(d.Ba):u.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await su(i,s,e)}catch(s){await Rs(s)}}function T_(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let _=!1;y.queries.forEach((A,S)=>{for(const I of S.ta)I.sa(g)&&(_=!0)}),_&&Bd(y)}(s.eventManager,e),u.length&&s.La.p_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OR(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Ua.get(e),h=u&&u.key;if(h){let d=new ne(gt.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const g=Nt().add(h),y=new vc(Tt.min(),new Map,new ne(Rt),d,g);await y0(s,y),s.$a=s.$a.remove(h),s.Ua.delete(e),qd(s)}else await ud(s.localStore,e,!1).then(()=>hd(s,e,i)).catch(Rs)}async function MR(a,e){const i=At(a),s=e.batch.batchId;try{const u=await Hb(i.localStore,e);v0(i,s,null),_0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await su(i,u)}catch(u){await Rs(u)}}async function xR(a,e,i){const s=At(a);try{const u=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next(S=>(jt(S!==null),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>y.localDocuments.getDocuments(_,A))})}(s.localStore,e);v0(s,e,i),_0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await su(s,u)}catch(u){await Rs(u)}}function _0(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function v0(a,e,i){const s=At(a);let u=s.Wa[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Wa[s.currentUser.toKey()]=u}}function hd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||E0(a,s)})}function E0(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Md(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),qd(a))}function A_(a,e,i){for(const s of i)s instanceof m0?(a.Ka.addReference(s.key,e),UR(a,s)):s instanceof g0?(at(kd,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||E0(a,s.key)):vt()}function UR(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(at(kd,"New document in limbo: "+i),a.Qa.add(s),qd(a))}function qd(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new gt(le.fromString(e)),s=a.za.next();a.Ua.set(s,new bR(i)),a.$a=a.$a.insert(i,s),a0(a.remoteStore,new or(Jn(mc(i.path)),s,"TargetPurposeLimboResolution",cc.ae))}}async function su(a,e,i){const s=At(a),u=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,y)=>{d.push(s.Ha(y,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){u.push(_);const S=Nd.Yi(y.targetId,_);h.push(S)}}))}),await Promise.all(d),s.La.p_(u),await async function(y,_){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(_,I=>X.forEach(I.Hi,j=>A.persistence.referenceDelegate.addReference(S,I.targetId,j)).next(()=>X.forEach(I.Ji,j=>A.persistence.referenceDelegate.removeReference(S,I.targetId,j)))))}catch(S){if(!ws(S))throw S;at(Od,"Failed to update sequence numbers: "+S)}for(const S of _){const I=S.targetId;if(!S.fromCache){const j=A.Ts.get(I),Y=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(Y);A.Ts=A.Ts.insert(I,J)}}}(s.localStore,h))}async function LR(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){at(kd,"User change. New user:",e.toKey());const s=await e0(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(y=>{y.reject(new ft($.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(i,s.Rs)}}function zR(a,e){const i=At(a),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let u=Nt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function T0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OR.bind(null,e),e.La.p_=ER.bind(null,e.eventManager),e.La.Ja=TR.bind(null,e.eventManager),e}function PR(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xR.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return jb(this.persistence,new Bb,e.initialUser,this.serializer)}Xa(e){return new t0(Id.ri,this.serializer)}Za(e){return new Xb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class BR extends rc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){jt(this.persistence.referenceDelegate instanceof nc);const s=this.persistence.referenceDelegate.garbageCollector;return new bb(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new t0(s=>nc.ri(s,i),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LR.bind(null,this.syncEngine),await yR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vR}()}createDatastore(e){const i=Ec(e.databaseInfo.databaseId),s=function(h){return new tR(h)}(e.databaseInfo);return function(h,d,g,y){return new rR(h,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new sR(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>T_(this.syncEngine,i,0),function(){return g_.D()?new g_:new Zb}())}createSyncEngine(e,i){return function(u,h,d,g,y,_,A){const S=new RR(u,h,d,g,y,_);return A&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=At(u);at(ca,"RemoteStore shutting down."),h.W_.add(5),await au(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class kR{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{at(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(at(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Pd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jf(a,e){a.asyncQueue.verifyOperationInProgress(),at(Er,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await e0(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function S_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await qR(a);at(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>y_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>y_(e.remoteStore,u)),a._onlineComponents=e}async function qR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(Er,"Using user provided OfflineComponentProvider");try{await jf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===$.FAILED_PRECONDITION||u.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await jf(a,new rc)}}else at(Er,"Using default OfflineComponentProvider"),await jf(a,new BR(void 0));return a._offlineComponents}async function S0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(Er,"Using user provided OnlineComponentProvider"),await S_(a,a._uninitializedComponentsProvider._online)):(at(Er,"Using default OnlineComponentProvider"),await S_(a,new fd))),a._onlineComponents}function jR(a){return S0(a).then(e=>e.syncEngine)}async function dd(a){const e=await S0(a),i=e.eventManager;return i.onListen=wR.bind(null,e.syncEngine),i.onUnlisten=VR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=CR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=IR.bind(null,e.syncEngine),i}function HR(a,e,i={}){const s=new dr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,_){const A=new A0({next:I=>{A.su(),d.enqueueAndForget(()=>f0(h,S));const j=I.docs.has(g);!j&&I.fromCache?_.reject(new ft($.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&I.fromCache&&y&&y.source==="server"?_.reject(new ft($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new d0(mc(g.path),A,{includeMetadataChanges:!0,Ta:!0});return h0(h,S)}(await dd(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(a,e,i){if(!i)throw new ft($.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function QR(a,e,i,s){if(e===!0&&s===!0)throw new ft($.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function R_(a){if(!gt.isDocumentKey(a))throw new ft($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function jd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt()}function ei(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jd(a);throw new ft($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firestore.googleapis.com",w_=!0;class C_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ft($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=w_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:w_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ab)throw new ft($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JS;switch(s.type){case"firstParty":return new n1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=b_.get(i);s&&(at("ComponentProvider","Removing Datastore"),b_.delete(i),s.terminate())}(this),Promise.resolve()}}function FR(a,e,i,s={}){var u;const h=(a=ei(a,Hd))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==R0&&h.host!==g&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Qo(y,d)&&(a._setSettings(y),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Fe.MOCK_USER;else{_=VA(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ft($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(S)}a._authCredentials=new WS(new hv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sc(this.firestore,e,this._query)}}class rn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class nu extends Sc{constructor(e,i,s){super(e,i,mc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new gt(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function cs(a,e,...i){if(a=mr(a),arguments.length===1&&(e=dv.newId()),GR("doc","path",e),a instanceof Hd){const s=le.fromString(e,...i);return R_(s),new rn(a,null,new gt(s))}{if(!(a instanceof rn||a instanceof nu))throw new ft($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(le.fromString(e,...i));return R_(s),new rn(a.firestore,a instanceof nu?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new i0(this,"async_queue_retry"),this.Su=()=>{const s=qf();s&&at(D_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ws(e))throw e;at(D_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Ni("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=zd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function I_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Es extends Hd{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new V_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function KR(a,e){const i=typeof a=="object"?a:BS(),s=typeof a=="string"?a:Xo,u=xS(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=CA("firestore");h&&FR(u,...h)}return u}function Gd(a){if(a._terminated)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||YR(a),a._firestoreClient}function YR(a){var e,i,s;const u=a._freezeSettings(),h=function(g,y,_,A){return new y1(g,y,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,b0(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new kR(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(qe.fromBase64String(e))}catch(i){throw new ft($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ts(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^__.*__$/;class ZR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class w0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function C0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class Yd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.$u(e),u}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ac(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(C0(this.Lu)&&XR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $R{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ec(e)}ju(e,i,s,u=!1){return new Yd({Lu:e,methodName:i,zu:s,path:ke.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(a){const e=a._freezeSettings(),i=Ec(a._databaseId);return new $R(a._databaseId,!!e.ignoreUndefinedProperties,i)}function JR(a,e,i,s,u,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,u);Xd("Data must be an object, but it was:",d,s);const g=V0(s,d);let y,_;if(h.merge)y=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const I=md(e,S,i);if(!d.contains(I))throw new ft($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);N0(A,I)||A.push(I)}y=new mn(A),_=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,_=d.fieldTransforms;return new ZR(new nn(g),y,_)}class Rc extends Qd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}function WR(a,e,i,s){const u=a.ju(1,e,i);Xd("Data must be an object, but it was:",u,s);const h=[],d=nn.empty();Tr(s,(y,_)=>{const A=Zd(e,y,i);_=mr(_);const S=u.Uu(A);if(_ instanceof Rc)h.push(A);else{const I=wc(_,S);I!=null&&(h.push(A),d.set(A,I))}});const g=new mn(h);return new w0(d,g,u.fieldTransforms)}function t2(a,e,i,s,u,h){const d=a.ju(1,e,i),g=[md(e,s,i)],y=[u];if(h.length%2!=0)throw new ft($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)g.push(md(e,h[I])),y.push(h[I+1]);const _=[],A=nn.empty();for(let I=g.length-1;I>=0;--I)if(!N0(_,g[I])){const j=g[I];let Y=y[I];Y=mr(Y);const J=d.Uu(j);if(Y instanceof Rc)_.push(j);else{const q=wc(Y,J);q!=null&&(_.push(j),A.set(j,q))}}const S=new mn(_);return new w0(A,S,d.fieldTransforms)}function wc(a,e){if(I0(a=mr(a)))return Xd("Unsupported field value:",e,a),V0(a,e);if(a instanceof Qd)return function(s,u){if(!C0(u.Lu))throw u.Wu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let y=wc(g,u.Ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if((s=mr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q1(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:ec(u.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ec(u.serializer,h)}}if(s instanceof Fd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ts)return{bytesValue:Fv(u.serializer,s._byteString)};if(s instanceof rn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Kd)return function(d,g){return{mapValue:{fields:{[Tv]:{stringValue:Av},[Zo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return Rd(g.serializer,_)})}}}}}}(s,u);throw u.Wu(`Unsupported field value: ${jd(s)}`)}(a,e)}function V0(a,e){const i={};return gv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(a,(s,u)=>{const h=wc(u,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function I0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof Fd||a instanceof Ts||a instanceof rn||a instanceof Qd||a instanceof Kd)}function Xd(a,e,i){if(!I0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=jd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function md(a,e,i){if((e=mr(e))instanceof bc)return e._internalPath;if(typeof e=="string")return Zd(a,e);throw ac("Field path arguments must be of type string or ",a,!1,void 0,i)}const e2=new RegExp("[~\\*/\\[\\]]");function Zd(a,e,i){if(e.search(e2)>=0)throw ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new bc(...e.split("."))._internalPath}catch{throw ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function ac(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${u}`),y+=")"),new ft($.INVALID_ARGUMENT,g+a+y)}function N0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(M0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class n2 extends O0{data(){return super.data()}}function M0(a,e){return typeof e=="string"?Zd(a,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r2{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Tr(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[Zo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>he(d.doubleValue));return new Kd(h)}convertGeoPoint(e){return new Fd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=fc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=pr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=le.fromString(e);jt(Jv(s));const u=new Jl(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return u.isEqual(i)||Ni(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x0 extends O0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(M0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Ho extends x0{data(e={}){return super.data(e)}}class s2{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Ho(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const y=new Ho(u._firestore,u._userDataWriter,g.doc.key,g.doc,new ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new Ho(u._firestore,u._userDataWriter,g.doc.key,g.doc,new ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:l2(g.type),doc:y,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function l2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(a){a=ei(a,rn);const e=ei(a.firestore,Es);return HR(Gd(e),a._key).then(i=>P0(e,a,i))}class U0 extends r2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function o2(a,e,i){a=ei(a,rn);const s=ei(a.firestore,Es),u=a2(a.converter,e);return z0(s,[JR(D0(s),"setDoc",a._key,u,a.converter!==null,i).toMutation(a._key,Wn.none())])}function Hf(a,e,i,...s){a=ei(a,rn);const u=ei(a.firestore,Es),h=D0(u);let d;return d=typeof(e=mr(e))=="string"||e instanceof bc?t2(h,"updateDoc",a._key,e,i,s):WR(h,"updateDoc",a._key,e),z0(u,[d.toMutation(a._key,Wn.exists(!0))])}function L0(a,...e){var i,s,u;a=mr(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||I_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(I_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(u=S.complete)===null||u===void 0?void 0:u.bind(S)}let y,_,A;if(a instanceof rn)_=ei(a.firestore,Es),A=mc(a._key.path),y={next:S=>{e[d]&&e[d](P0(_,a,S))},error:e[d+1],complete:e[d+2]};else{const S=ei(a,Sc);_=ei(S.firestore,Es),A=S._query;const I=new U0(_);y={next:j=>{e[d]&&e[d](new s2(_,I,S,j))},error:e[d+1],complete:e[d+2]},i2(a._query)}return function(I,j,Y,J){const q=new A0(J),et=new d0(j,q,Y);return I.asyncQueue.enqueueAndForget(async()=>h0(await dd(I),et)),()=>{q.su(),I.asyncQueue.enqueueAndForget(async()=>f0(await dd(I),et))}}(Gd(_),A,g,y)}function z0(a,e){return function(s,u){const h=new dr;return s.asyncQueue.enqueueAndForget(async()=>NR(await jR(s),u,h)),h.promise}(Gd(a),e)}function P0(a,e,i){const s=i.docs.get(e._key),u=new U0(a);return new x0(a,u,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){bs=u})(PS),Ko(new Yl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Es(new t1(s.getProvider("auth-internal")),new i1(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),fs(Ly,zy,e),fs(Ly,zy,"esm2017")})();const c2={apiKey:"AIzaSyD1PdpuW0WkZbQytZfYSJQ1JCeqcr4DNCE",authDomain:"high-low-game-ff568.firebaseapp.com",projectId:"high-low-game-ff568",storageBucket:"high-low-game-ff568.firebasestorage.app",messagingSenderId:"459362458752",appId:"1:459362458752:web:c151ad73644cfe3b281a65"},h2=nv(c2),hs=KR(h2);function f2(){return Math.random().toString(36).substring(2,8).toUpperCase()}function d2(){const[a,e]=rt.useState(""),i=ZT(),s=async()=>{const d=f2();await o2(cs(hs,"rooms",d),{currentCard:h(),declaration:"",betPoint:0}),i(`/host/${d}`)},u=()=>{a.trim()!==""&&i(`/guest/${a.trim().toUpperCase()}`)},h=()=>{const d=["1","2","3","4","5","6","7","8","9","10","J","Q","K"];return d[Math.floor(Math.random()*d.length)]+"_of_spades"};return ht.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white",children:[ht.jsx("h1",{className:"text-4xl font-bold mb-6",children:"High & Low ゲーム"}),ht.jsx("button",{onClick:s,className:"mb-4 px-4 py-2 bg-blue-600 rounded hover:bg-blue-700",children:"部屋を建てる人"}),ht.jsx("input",{type:"text",placeholder:"部屋IDを入力",className:"mb-2 px-2 py-1 text-black rounded",value:a,onChange:d=>e(d.target.value)}),ht.jsx("button",{onClick:u,className:"px-4 py-2 bg-green-600 rounded hover:bg-green-700",children:"部屋に入る人"})]})}const sc=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],m2=()=>sc[Math.floor(Math.random()*sc.length)],N_=a=>`https://deckofcardsapi.com/static/img/${a[0].toUpperCase()}H.png`,g2=(a,e)=>{const i=sc.indexOf(a),s=sc.indexOf(e);return s>i?"HIGH":s<i?"LOW":"EQUAL"};function p2(){const{roomId:a}=Q_(),[e,i]=rt.useState(""),[s,u]=rt.useState(""),[h,d]=rt.useState(""),[g,y]=rt.useState(0),[_,A]=rt.useState([]),[S,I]=rt.useState(0);rt.useEffect(()=>{if(!a)return;const q=cs(hs,"rooms",a),et=L0(q,ut=>{if(ut.exists()){const st=ut.data();i(st.currentCard),d(st.declaration),y(st.betPoint),A(st.history||[])}});return()=>et()},[a]);const j=async()=>{if(!a||!h)return;const q=m2(),et=cs(hs,"rooms",a),ut=await u2(et);if(ut.exists()){const st=ut.data(),wt=st.currentCard,yt=g2(wt,q),O=yt!=="EQUAL"&&yt===st.declaration?st.betPoint*2:0,b=[...st.history||[],q];u(wt),i(q),y(O),A(b),await Hf(et,{currentCard:q,betPoint:O,history:b})}},Y=async q=>{if(d(q),!a)return;const et=cs(hs,"rooms",a);await Hf(et,{declaration:q})},J=async()=>{if(y(S),!a)return;const q=cs(hs,"rooms",a);await Hf(q,{betPoint:S})};return ht.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 text-white p-4",children:[ht.jsxs("h2",{className:"text-2xl mb-4",children:["ホストビュー - 部屋ID: ",a]}),s&&ht.jsxs("div",{className:"mb-2",children:[ht.jsx("p",{className:"text-sm",children:"前のカード"}),ht.jsx("img",{src:N_(s),alt:s,className:"w-24 mx-auto"})]}),e&&ht.jsxs("div",{className:"mb-4",children:[ht.jsx("p",{className:"text-sm",children:"現在のカード"}),ht.jsx("img",{src:N_(e),alt:e,className:"w-32 mx-auto"})]}),ht.jsxs("div",{className:"mb-4",children:[ht.jsx("label",{className:"block mb-1",children:"宣言（High / Low）:"}),ht.jsxs("select",{value:h,onChange:q=>Y(q.target.value),className:"text-black px-2 py-1 rounded",children:[ht.jsx("option",{value:"",children:"選択"}),ht.jsx("option",{value:"HIGH",children:"HIGH"}),ht.jsx("option",{value:"LOW",children:"LOW"})]})]}),ht.jsxs("div",{className:"mb-4",children:[ht.jsx("label",{className:"block mb-1",children:"賭けポイント:"}),ht.jsx("input",{type:"number",value:S,onChange:q=>I(Number(q.target.value)),className:"text-black px-2 py-1 rounded"}),ht.jsx("button",{onClick:J,className:"ml-2 px-3 py-1 bg-blue-600 rounded",children:"セット"})]}),ht.jsxs("div",{className:"mb-4",children:["現在のポイント: ",g]}),ht.jsx("button",{onClick:j,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-white",children:"カードを引く"}),_.length>0&&ht.jsxs("div",{className:"mt-6",children:[ht.jsx("h3",{className:"text-lg underline mb-2",children:"カード履歴"}),ht.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((q,et)=>ht.jsx("span",{className:"bg-slate-700 px-2 py-1 rounded text-sm",children:q},et))})]})]})}const O_=a=>`https://deckofcardsapi.com/static/img/${a[0].toUpperCase()}H.png`;function y2(){const{roomId:a}=Q_(),[e,i]=rt.useState(""),[s,u]=rt.useState(""),[h,d]=rt.useState(""),[g,y]=rt.useState(0),[_,A]=rt.useState([]);rt.useEffect(()=>{if(!a)return;const I=cs(hs,"rooms",a),j=L0(I,Y=>{var J;if(Y.exists()){const q=Y.data();u(((J=q.history)==null?void 0:J[q.history.length-2])||""),i(q.currentCard),d(q.declaration),y(q.betPoint),A((q.history||[]).map(et=>et.replace(/[^0-9JQKA]/g,"")))}});return()=>j()},[a]);const S=()=>{if(!s||!e)return"判定待ち";const I=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],j=I.indexOf(s),Y=I.indexOf(e);return Y>j?"HIGH":Y<j?"LOW":"EQUAL"};return ht.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white p-4",children:[ht.jsxs("h2",{className:"text-2xl mb-4",children:["ゲストビュー - 部屋ID: ",a]}),ht.jsxs("div",{className:"mb-2",children:["宣言: ",h]}),ht.jsxs("div",{className:"mb-2",children:["ベットポイント: ",g]}),s&&ht.jsxs("div",{className:"mb-2",children:[ht.jsx("p",{className:"text-sm",children:"前のカード"}),ht.jsx("img",{src:O_(s),alt:s,className:"w-24 mx-auto"})]}),e&&ht.jsxs("div",{className:"mb-4",children:[ht.jsx("p",{className:"text-sm",children:"現在のカード"}),ht.jsx("img",{src:O_(e),alt:e,className:"w-32 mx-auto"})]}),ht.jsxs("div",{className:"mb-4",children:["結果判定: ",S()]}),_.length>0&&ht.jsxs("div",{className:"mt-6",children:[ht.jsx("h3",{className:"text-lg underline mb-2",children:"カード履歴"}),ht.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((I,j)=>ht.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-sm",children:I},j))})]})]})}function _2(){return ht.jsx(pA,{children:ht.jsxs(dA,{children:[ht.jsx(zo,{path:"/",element:ht.jsx(d2,{})}),ht.jsx(zo,{path:"/host/:roomId",element:ht.jsx(p2,{})}),ht.jsx(zo,{path:"/guest/:roomId",element:ht.jsx(y2,{})})]})})}ET.createRoot(document.getElementById("root")).render(ht.jsx(x_.StrictMode,{children:ht.jsx(_2,{})}));
