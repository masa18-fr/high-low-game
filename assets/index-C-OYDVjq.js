(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function K_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Bf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function CT(){if(Sy)return kl;Sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var by;function DT(){return by||(by=1,Bf.exports=CT()),Bf.exports}var dt=DT(),kf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function VT(){if(Ry)return bt;Ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,X={};function z(V,tt,st){this.props=V,this.context=tt,this.refs=X,this.updater=st||M}z.prototype.isReactComponent={},z.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function it(V,tt,st){this.props=V,this.context=tt,this.refs=X,this.updater=st||M}var W=it.prototype=new Q;W.constructor=it,L(W,z.prototype),W.isPureReactComponent=!0;var ht=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function x(V,tt,st,nt,gt,Dt){return st=Dt.ref,{$$typeof:a,type:V,key:tt,ref:st!==void 0?st:null,props:Dt}}function b(V,tt){return x(V.type,tt,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return tt[st]})}var O=/\/+/g;function P(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):tt.toString(36)}function D(){}function Oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function re(V,tt,st,nt,gt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var Tt=!1;if(V===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(V.$$typeof){case a:case e:Tt=!0;break;case T:return Tt=V._init,re(Tt(V._payload),tt,st,nt,gt)}}if(Tt)return gt=gt(V),Tt=nt===""?"."+P(V,0):nt,ht(gt)?(st="",Tt!=null&&(st=Tt.replace(O,"$&/")+"/"),re(gt,tt,st,"",function(Mn){return Mn})):gt!=null&&(w(gt)&&(gt=b(gt,st+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+Tt)),tt.push(gt)),1;Tt=0;var we=nt===""?".":nt+":";if(ht(V))for(var Zt=0;Zt<V.length;Zt++)nt=V[Zt],Dt=we+P(nt,Zt),Tt+=re(nt,tt,st,Dt,gt);else if(Zt=R(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(nt=V.next()).done;)nt=nt.value,Dt=we+P(nt,Zt++),Tt+=re(nt,tt,st,Dt,gt);else if(Dt==="object"){if(typeof V.then=="function")return re(Oe(V),tt,st,nt,gt);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(V,tt,st){if(V==null)return V;var nt=[],gt=0;return re(V,nt,"","",function(Dt){return tt.call(st,Dt,gt++)}),nt}function at(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return bt.Children={map:K,forEach:function(V,tt,st){K(V,function(){tt.apply(this,arguments)},st)},count:function(V){var tt=0;return K(V,function(){tt++}),tt},toArray:function(V){return K(V,function(tt){return tt})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=z,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=it,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ut.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,tt,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var nt=L({},V.props),gt=V.key,Dt=void 0;if(tt!=null)for(Tt in tt.ref!==void 0&&(Dt=void 0),tt.key!==void 0&&(gt=""+tt.key),tt)!Rt.call(tt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&tt.ref===void 0||(nt[Tt]=tt[Tt]);var Tt=arguments.length-2;if(Tt===1)nt.children=st;else if(1<Tt){for(var we=Array(Tt),Zt=0;Zt<Tt;Zt++)we[Zt]=arguments[Zt+2];nt.children=we}return x(V.type,gt,void 0,void 0,Dt,nt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},bt.createElement=function(V,tt,st){var nt,gt={},Dt=null;if(tt!=null)for(nt in tt.key!==void 0&&(Dt=""+tt.key),tt)Rt.call(tt,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(gt[nt]=tt[nt]);var Tt=arguments.length-2;if(Tt===1)gt.children=st;else if(1<Tt){for(var we=Array(Tt),Zt=0;Zt<Tt;Zt++)we[Zt]=arguments[Zt+2];gt.children=we}if(V&&V.defaultProps)for(nt in Tt=V.defaultProps,Tt)gt[nt]===void 0&&(gt[nt]=Tt[nt]);return x(V,Dt,void 0,void 0,null,gt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=w,bt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:at}},bt.memo=function(V,tt){return{$$typeof:y,type:V,compare:tt===void 0?null:tt}},bt.startTransition=function(V){var tt=ut.T,st={};ut.T=st;try{var nt=V(),gt=ut.S;gt!==null&&gt(st,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Bt,ft)}catch(Dt){ft(Dt)}finally{ut.T=tt}},bt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},bt.use=function(V){return ut.H.use(V)},bt.useActionState=function(V,tt,st){return ut.H.useActionState(V,tt,st)},bt.useCallback=function(V,tt){return ut.H.useCallback(V,tt)},bt.useContext=function(V){return ut.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,tt){return ut.H.useDeferredValue(V,tt)},bt.useEffect=function(V,tt,st){var nt=ut.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(V,tt)},bt.useId=function(){return ut.H.useId()},bt.useImperativeHandle=function(V,tt,st){return ut.H.useImperativeHandle(V,tt,st)},bt.useInsertionEffect=function(V,tt){return ut.H.useInsertionEffect(V,tt)},bt.useLayoutEffect=function(V,tt){return ut.H.useLayoutEffect(V,tt)},bt.useMemo=function(V,tt){return ut.H.useMemo(V,tt)},bt.useOptimistic=function(V,tt){return ut.H.useOptimistic(V,tt)},bt.useReducer=function(V,tt,st){return ut.H.useReducer(V,tt,st)},bt.useRef=function(V){return ut.H.useRef(V)},bt.useState=function(V){return ut.H.useState(V)},bt.useSyncExternalStore=function(V,tt,st){return ut.H.useSyncExternalStore(V,tt,st)},bt.useTransition=function(){return ut.H.useTransition()},bt.version="19.1.0",bt}var wy;function Cd(){return wy||(wy=1,kf.exports=VT()),kf.exports}var F=Cd();const IT=K_(F);var qf={exports:{}},ql={},Hf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function NT(){return Cy||(Cy=1,function(a){function e(K,at){var ft=K.length;K.push(at);t:for(;0<ft;){var Bt=ft-1>>>1,V=K[Bt];if(0<o(V,at))K[Bt]=at,K[ft]=V,ft=Bt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],ft=K.pop();if(ft!==at){K[0]=ft;t:for(var Bt=0,V=K.length,tt=V>>>1;Bt<tt;){var st=2*(Bt+1)-1,nt=K[st],gt=st+1,Dt=K[gt];if(0>o(nt,ft))gt<V&&0>o(Dt,nt)?(K[Bt]=Dt,K[gt]=ft,Bt=gt):(K[Bt]=nt,K[st]=ft,Bt=st);else if(gt<V&&0>o(Dt,ft))K[Bt]=Dt,K[gt]=ft,Bt=gt;else break t}}return at}function o(K,at){var ft=K.sortIndex-at.sortIndex;return ft!==0?ft:K.id-at.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,S=null,R=3,M=!1,L=!1,X=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ht(K){for(var at=i(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=K)s(y),at.sortIndex=at.expirationTime,e(p,at);else break;at=i(y)}}function ut(K){if(X=!1,ht(K),!L)if(i(p)!==null)L=!0,Rt||(Rt=!0,P());else{var at=i(y);at!==null&&re(ut,at.startTime-K)}}var Rt=!1,x=-1,b=5,w=-1;function N(){return z?!0:!(a.unstable_now()-w<b)}function O(){if(z=!1,Rt){var K=a.unstable_now();w=K;var at=!0;try{t:{L=!1,X&&(X=!1,it(x),x=-1),M=!0;var ft=R;try{e:{for(ht(K),S=i(p);S!==null&&!(S.expirationTime>K&&N());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,R=S.priorityLevel;var V=Bt(S.expirationTime<=K);if(K=a.unstable_now(),typeof V=="function"){S.callback=V,ht(K),at=!0;break e}S===i(p)&&s(p),ht(K)}else s(p);S=i(p)}if(S!==null)at=!0;else{var tt=i(y);tt!==null&&re(ut,tt.startTime-K),at=!1}}break t}finally{S=null,R=ft,M=!1}at=void 0}}finally{at?P():Rt=!1}}}var P;if(typeof W=="function")P=function(){W(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Oe=D.port2;D.port1.onmessage=O,P=function(){Oe.postMessage(null)}}else P=function(){Q(O,0)};function re(K,at){x=Q(function(){K(a.unstable_now())},at)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(K){switch(R){case 1:case 2:case 3:var at=3;break;default:at=R}var ft=R;R=at;try{return K()}finally{R=ft}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=R;R=K;try{return at()}finally{R=ft}},a.unstable_scheduleCallback=function(K,at,ft){var Bt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,K={id:T++,callback:at,priorityLevel:K,startTime:ft,expirationTime:V,sortIndex:-1},ft>Bt?(K.sortIndex=ft,e(y,K),i(p)===null&&K===i(y)&&(X?(it(x),x=-1):X=!0,re(ut,ft-Bt))):(K.sortIndex=V,e(p,K),L||M||(L=!0,Rt||(Rt=!0,P()))),K},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(K){var at=R;return function(){var ft=R;R=at;try{return K.apply(this,arguments)}finally{R=ft}}}}(jf)),jf}var Dy;function xT(){return Dy||(Dy=1,Hf.exports=NT()),Hf.exports}var Gf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function OT(){if(Vy)return Ge;Vy=1;var a=Cd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Iy;function MT(){if(Iy)return Gf.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Gf.exports=OT(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function UT(){if(Ny)return ql;Ny=1;var a=xT(),e=Cd(),i=MT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===r){v=!0,r=h,l=f;break}if(E===l){v=!0,l=h,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=h;break}if(E===l){v=!0,l=f,r=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case z:return"Profiler";case X:return"StrictMode";case ut:return"Suspense";case Rt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case W:return(t.displayName||"Context")+".Provider";case it:return(t._context.displayName||"Context")+".Consumer";case ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var re=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],V=-1;function tt(t){return{current:t}}function st(t){0>V||(t.current=Bt[V],Bt[V]=null,V--)}function nt(t,n){V++,Bt[V]=t.current,t.current=n}var gt=tt(null),Dt=tt(null),Tt=tt(null),we=tt(null);function Zt(t,n){switch(nt(Tt,n),nt(Dt,t),nt(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zp(n),t=Jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(gt),nt(gt,t)}function Mn(){st(gt),st(Dt),st(Tt)}function zi(t){t.memoizedState!==null&&nt(we,t);var n=gt.current,r=Jp(n,t.type);n!==r&&(nt(Dt,t),nt(gt,r))}function li(t){Dt.current===t&&(st(gt),st(Dt)),we.current===t&&(st(we),Ul._currentValue=ft)}var Cr=Object.prototype.hasOwnProperty,Dr=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,xs=a.unstable_shouldYield,po=a.unstable_requestPaint,gn=a.unstable_now,zc=a.unstable_getCurrentPriorityLevel,Os=a.unstable_ImmediatePriority,ya=a.unstable_UserBlockingPriority,Ir=a.unstable_NormalPriority,Bc=a.unstable_LowPriority,_a=a.unstable_IdlePriority,Ms=a.log,yo=a.unstable_setDisableYieldValue,ae=null,jt=null;function an(t){if(typeof Ms=="function"&&yo(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var He=Math.clz32?Math.clz32:Nr,_o=Math.log,kc=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(_o(t)/kc|0)|0}var xr=256,Or=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function va(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Dn(l):(v&=E,v!==0?h=Dn(v):r||(r=E&~t,r!==0&&(h=Dn(r))))):(E=l&~f,E!==0?h=Dn(E):v!==0?h=Dn(v):r||(r=l&~t,r!==0&&(h=Dn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Mr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Us(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Ps(){var t=Or;return Or<<=1,(Or&62914560)===0&&(Or=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zs(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(r=v&~r;0<r;){var Y=31-He(r),Z=1<<Y;E[Y]=0,C[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var j=H[Y];j!==null&&(j.lane&=-536870913)}r&=~Z}l!==0&&Un(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Bs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:yy(t.type))}function vo(t,n){var r=at.p;try{return at.p=t,n()}finally{at.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,de="__reactProps$"+Wt,pn="__reactContainer$"+Wt,ks="__reactEvents$"+Wt,qc="__reactListeners$"+Wt,qi="__reactHandles$"+Wt,Eo="__reactResources$"+Wt,Ur="__reactMarker$"+Wt;function Hi(t){delete t[_e],delete t[de],delete t[ks],delete t[qc],delete t[qi]}function ci(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ny(t);t!==null;){if(r=t[_e])return r;t=ny(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Ur]=!0}var qs=new Set,Ta={};function Vn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Ta[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},Lr={};function So(t){return Cr.call(Lr,t)?!0:Cr.call(Ao,t)?!1:To.test(t)?Lr[t]=!0:(Ao[t]=!0,!1)}function ji(t,n,r){if(So(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Pr,bo;function fi(t){if(Pr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",bo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+t+bo}var Aa=!1;function Sa(t,n){if(!t||Aa)return"";Aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(j){var H=j}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(j){H=j}t.call(Z.prototype)}}else{try{throw Error()}catch(j){H=j}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(j){if(j&&H&&typeof j.stack=="string")return[j.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var C=v.split(`
`),q=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Aa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Hs(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Sa(t.type,!1);case 11:return Sa(t.type.render,!1);case 1:return Sa(t.type,!0);case 31:return fi("Activity");default:return""}}function ba(t){try{var n="";do n+=Hs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hc(t){var n=js(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Hc(t))}function Gs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=js(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jc=/[\n"\\]/g;function me(t){return t.replace(jc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,v,Xe(n)):r!=null?Gi(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Br(t,n,r,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Gi(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function kr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ro(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ro(t,f,n[f])}function Fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Qc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Ks(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[de]||null;if(!h)throw Error(s(90));sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Gs(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var Bn=!1;function wo(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(gi!==null||pi!==null)&&(vu(),gi&&(n=gi,t=pi,pi=gi=null,Ks(n),t)))for(n=0;n<t.length;n++)Ks(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(In)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{vn=!1}var kn=null,Qi=null,yi=null;function Ys(){if(yi)return yi;var t,n=Qi,r=n.length,l,h="value"in kn?kn.value:kn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return yi=h.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Xs(){return!1}function Ce(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Xs,this.isPropagationStopped=Xs,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Ce(qt),Gr=T({},qt,{view:0,detail:0}),Co=Ce(Gr),Da,Va,jn,Qr=T({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Da=t.screenX-jn.screenX,Va=t.screenY-jn.screenY):Va=Da=0,jn=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),En=Ce(Qr),Do=T({},Qr,{dataTransfer:0}),Fc=Ce(Do),Fr=T({},Gr,{relatedTarget:0}),Ia=Ce(Fr),$s=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Ce($s),Vo=T({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=Ce(Vo),Kc=T({},qt,{data:0}),Zs=Ce(Kc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function Yr(){return Js}var xo=T({},Gr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=Ce(xo),Oo=T({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=Ce(Oo),_i=T({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Mo=Ce(_i),Uo=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=Ce(Uo),Po=T({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Ce(Po),$e=T({},qt,{newState:0,oldState:0}),zo=Ce($e),Bo=[9,13,27,32],Gn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,_=In&&(!Gn||u&&8<u&&11>=u),A=" ",B=!1;function G(t,n){switch(t){case"keyup":return Bo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ve(t,n){switch(t){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(B=!0,A);case"textInput":return t=n.data,t===A&&B?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Gn&&G(t,n)?(t=Ys(),yi=Qi=kn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Ru(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Qn=null;function tl(t){Fp(t,0)}function ko(t){var n=Pn(t);if(Gs(n))return t}function dm(t,n){if(t==="change")return n}var mm=!1;if(In){var Yc;if(In){var Xc="oninput"in document;if(!Xc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Xc=typeof gm.oninput=="function"}Yc=Xc}else Yc=!1;mm=Yc&&(!document.documentMode||9<document.documentMode)}function pm(){Ue&&(Ue.detachEvent("onpropertychange",ym),Qn=Ue=null)}function ym(t){if(t.propertyName==="value"&&ko(Qn)){var n=[];vi(n,Qn,t,_n(t)),wo(tl,n)}}function iE(t,n,r){t==="focusin"?(pm(),Ue=n,Qn=r,Ue.attachEvent("onpropertychange",ym)):t==="focusout"&&pm()}function rE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(Qn)}function aE(t,n){if(t==="click")return ko(n)}function sE(t,n){if(t==="input"||t==="change")return ko(n)}function lE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:lE;function el(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Cr.call(n,h)||!ln(t[h],n[h]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,n){var r=_m(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_m(r)}}function Em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function $c(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oE=In&&"documentMode"in document&&11>=document.documentMode,Ua=null,Zc=null,nl=null,Jc=!1;function Am(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jc||Ua==null||Ua!==zr(l)||(l=Ua,"selectionStart"in l&&$c(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Ru(Zc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ua)))}function Xr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Wc={},Sm={};In&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function $r(t){if(Wc[t])return Wc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sm)return Wc[t]=n[r];return t}var bm=$r("animationend"),Rm=$r("animationiteration"),wm=$r("animationstart"),uE=$r("transitionrun"),cE=$r("transitionstart"),hE=$r("transitioncancel"),Cm=$r("transitionend"),Dm=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function Nn(t,n){Dm.set(t,n),Vn(n,[t])}var Vm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=Vm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ba(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:ba(n)}}var An=[],Pa=0,eh=0;function qo(){for(var t=Pa,n=eh=Pa=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Im(r,h,f)}}function Ho(t,n,r,l){An[Pa++]=t,An[Pa++]=n,An[Pa++]=r,An[Pa++]=l,eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nh(t,n,r,l){return Ho(t,n,r,l),jo(t)}function za(t,n){return Ho(t,null,null,n),jo(t)}function Im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-He(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function jo(t){if(50<Cl)throw Cl=0,uf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function fE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new fE(t,n,r,l)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Nm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")ih(t)&&(v=1);else if(typeof t=="string")v=mT(t,r,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,r,n,h),t.elementType=w,t.lanes=f,t;case L:return Zr(r.children,h,f,n);case X:v=8,h|=24;break;case z:return t=on(12,r,n,h|2),t.elementType=z,t.lanes=f,t;case ut:return t=on(13,r,n,h),t.elementType=ut,t.lanes=f,t;case Rt:return t=on(19,r,n,h),t.elementType=Rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case W:v=10;break t;case it:v=9;break t;case ht:v=11;break t;case x:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Zr(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function rh(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function ah(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ka=[],qa=0,Qo=null,Fo=0,Sn=[],bn=0,Jr=null,Ti=1,Ai="";function Wr(t,n){ka[qa++]=Fo,ka[qa++]=Qo,Qo=t,Fo=n}function xm(t,n,r){Sn[bn++]=Ti,Sn[bn++]=Ai,Sn[bn++]=Jr,Jr=t;var l=Ti;t=Ai;var h=32-He(l)-1;l&=~(1<<h),r+=1;var f=32-He(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ti=1<<32-He(n)+h|r<<h|l,Ai=f+t}else Ti=1<<f|r<<h|l,Ai=t}function sh(t){t.return!==null&&(Wr(t,1),xm(t,1,0))}function lh(t){for(;t===Qo;)Qo=ka[--qa],ka[qa]=null,Fo=ka[--qa],ka[qa]=null;for(;t===Jr;)Jr=Sn[--bn],Sn[bn]=null,Ai=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null}var Ze=null,se=null,kt=!1,ta=null,Fn=!1,oh=Error(s(519));function ea(t){var n=Error(s(418,""));throw al(Tn(n,t)),oh}function Om(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[de]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)Nt(Vl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),kr(n,l.value,l.defaultValue,l.children),Ra(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||$p(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=wu),n=!0):n=!1,n||ea(t)}function Mm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function il(t){if(t!==Ze)return!1;if(!kt)return Mm(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rf(t.type,t.memoizedProps)),r=!r),r&&se&&ea(t),Mm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,lr(t.type)?(t=Vf,Vf=null,se=t):se=n):se=Ze?On(t.stateNode.nextSibling):null;return!0}function rl(){se=Ze=null,kt=!1}function Um(){var t=ta;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ta=null),t}function al(t){ta===null?ta=[t]:ta.push(t)}var uh=tt(null),na=null,Si=null;function Fi(t,n,r){nt(uh,n._currentValue),n._currentValue=r}function bi(t){t._currentValue=uh.current,st(uh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ch(f.return,r,t),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),ch(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function sl(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}h=h.return}t!==null&&hh(n,t,r,l),n.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Lm(na,t)}function Yo(t,n){return na===null&&ia(t),Lm(t,n)}function Lm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(s(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var dE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},mE=a.unstable_scheduleCallback,gE=a.unstable_NormalPriority,Te={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new dE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&mE(gE,function(){t.controller.abort()})}var ol=null,dh=0,Ha=0,ja=null;function pE(t,n){if(ol===null){var r=ol=[];dh=0,Ha=pf(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return dh++,n.then(Pm,Pm),n}function Pm(){if(--dh===0&&ol!==null){ja!==null&&(ja.status="fulfilled");var t=ol;ol=null,Ha=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var zm=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pE(t,n),zm!==null&&zm(t,n)};var ra=tt(null);function mh(){var t=ra.current;return t!==null?t:Jt.pooledCache}function Xo(t,n){n===null?nt(ra,ra.current):nt(ra,n.pool)}function Bm(){var t=mh();return t===null?null:{parent:Te._currentValue,pool:t}}var ul=Error(s(460)),km=Error(s(474)),$o=Error(s(542)),gh={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function Hm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t}throw cl=n,ul}}var cl=null;function jm(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Gm(t){if(t===ul||t===$o)throw Error(s(483))}var Ki=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=jo(t),Im(t,null,r),n}return Ho(t,l,n,r),jo(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Bs(t,r)}}function _h(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var vh=!1;function fl(){if(vh){var t=ja;if(t!==null)throw t}}function dl(t,n,r,l){vh=!1;var h=t.updateQueue;Ki=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,q=C.next;C.next=null,v===null?f=q:v.next=q,v=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==v&&(E===null?Y.firstBaseUpdate=q:E.next=q,Y.lastBaseUpdate=C))}if(f!==null){var Z=h.baseState;v=0,Y=q=C=null,E=f;do{var H=E.lane&-536870913,j=H!==E.lane;if(j?(Ut&H)===H:(l&H)===H){H!==0&&H===Ha&&(vh=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,pt=E;H=n;var Xt=r;switch(pt.tag){case 1:if(vt=pt.payload,typeof vt=="function"){Z=vt.call(Xt,Z,H);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=pt.payload,H=typeof vt=="function"?vt.call(Xt,Z,H):vt,H==null)break t;Z=T({},Z,H);break t;case 2:Ki=!0}}H=E.callback,H!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[H]:j.push(H))}else j={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(q=Y=j,C=Z):Y=Y.next=j,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ir|=v,t.lanes=v,t.memoizedState=Z}}function Qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Fm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qm(r[t],n)}var Ga=tt(null),Jo=tt(0);function Km(t,n){t=Ni,nt(Jo,t),nt(Ga,n),Ni=t|n.baseLanes}function Eh(){nt(Jo,Ni),nt(Ga,Ga.current)}function Th(){Ni=Jo.current,st(Ga),st(Jo)}var $i=0,wt=null,Kt=null,ge=null,Wo=!1,Qa=!1,aa=!1,tu=0,ml=0,Fa=null,_E=0;function ce(){throw Error(s(321))}function Ah(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Sh(t,n,r,l,h,f){return $i=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Ig:Ng,aa=!1,f=r(l,h),aa=!1,Qa&&(f=Xm(n,r,l,h)),Ym(t),f}function Ym(t){K.H=su;var n=Kt!==null&&Kt.next!==null;if($i=0,ge=Kt=wt=null,Wo=!1,ml=0,Fa=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Ko(t)&&(Ve=!0))}function Xm(t,n,r,l){wt=t;var h=0;do{if(Qa&&(Fa=null),ml=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,ge=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=RE,f=n(r,l)}while(Qa);return f}function vE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(wt.flags|=1024),n}function bh(){var t=tu!==0;return tu=0,t}function Rh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}$i=0,ge=Kt=wt=null,Qa=!1,ml=tu=0,Fa=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Kt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Kt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,Fa===null&&(Fa=[]),t=Hm(Fa,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Ig:Ng),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===W)return je(t)}throw Error(s(438,String(t)))}function Dh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ch(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=pe();return Vh(n,Kt,t)}function Vh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=v=null,C=null,q=n,Y=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Ut&Z)===Z:($i&Z)===Z){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ha&&(Y=!0);else if(($i&H)===H){q=q.next,H===Ha&&(Y=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=Z,v=f):C=C.next=Z,wt.lanes|=H,ir|=H;Z=q.action,aa&&r(f,Z),f=q.hasEagerState?q.eagerState:r(f,Z)}else H={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=H,v=f):C=C.next=H,wt.lanes|=Z,ir|=Z;q=q.next}while(q!==null&&q!==n);if(C===null?v=f:C.next=E,!ln(f,t.memoizedState)&&(Ve=!0,Y&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ih(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function $m(t,n,r){var l=wt,h=pe(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Kt||h).memoizedState,r);v&&(h.memoizedState=r,Ve=!0),h=h.queue;var E=Wm.bind(null,l,h,t);if(pl(2048,8,E,[t]),h.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ka(9,iu(),Jm.bind(null,l,h,r,n),null),Jt===null)throw Error(s(349));f||($i&124)!==0||Zm(l,n,r)}return r}function Zm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Ch(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Jm(t,n,r,l){n.value=r,n.getSnapshot=l,tg(n)&&eg(t)}function Wm(t,n,r){return r(function(){tg(n)&&eg(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function eg(t){var n=za(t,2);n!==null&&dn(n,t,2)}function Nh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),aa){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function ng(t,n,r,l){return t.baseState=r,Vh(t,Kt,typeof l=="function"?l:Ri)}function EE(t,n,r,l,h){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ig(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,v={};K.T=v;try{var E=r(h,l),C=K.S;C!==null&&C(v,E),rg(t,n,E)}catch(q){xh(t,n,q)}finally{K.T=f}}else try{f=r(h,l),rg(t,n,f)}catch(q){xh(t,n,q)}}function rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ag(t,n,l)},function(l){return xh(t,n,l)}):ag(t,n,r)}function ag(t,n,r){n.status="fulfilled",n.value=r,sg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ig(t,r)))}function xh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,sg(n),n=n.next;while(n!==l)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(kt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(kt){if(se){e:{for(var h=se,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=On(h.nextSibling),l=h.data==="F!";break t}}ea(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},r.queue=l,r=Cg.bind(null,wt,l),l.dispatch=r,l=Nh(!1),f=Ph.bind(null,wt,!1,l.queue),l=Je(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=EE.bind(null,wt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function ug(t){var n=pe();return cg(n,Kt,t)}function cg(t,n,r){if(n=Vh(t,n,lg)[0],t=nu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(v){throw v===ul?$o:v}else l=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Ka(9,iu(),TE.bind(null,h,r),null)),[l,f,t]}function TE(t,n){t.action=n}function hg(t){var n=pe(),r=Kt;if(r!==null)return cg(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Ch(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function fg(){return pe().memoizedState}function ru(t,n,r,l){var h=Je();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=Ka(1|n,iu(),r,l)}function pl(t,n,r,l){var h=pe();l=l===void 0?null:l;var f=h.memoizedState.inst;Kt!==null&&l!==null&&Ah(l,Kt.memoizedState.deps)?h.memoizedState=Ka(n,f,r,l):(wt.flags|=t,h.memoizedState=Ka(1|n,f,r,l))}function dg(t,n){ru(8390656,8,t,n)}function mg(t,n){pl(2048,8,t,n)}function gg(t,n){return pl(4,2,t,n)}function pg(t,n){return pl(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,r){r=r!=null?r.concat([t]):null,pl(4,4,yg.bind(null,n,t),r)}function Oh(){}function vg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ah(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Eg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ah(n,l[1]))return l[0];if(l=t(),aa){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Mh(t,n,r){return r===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Sp(),wt.lanes|=t,ir|=t,r)}function Tg(t,n,r,l){return ln(r,n)?r:Ga.current!==null?(t=Mh(t,r,l),ln(t,n)||(Ve=!0),t):($i&42)===0?(Ve=!0,t.memoizedState=r):(t=Sp(),wt.lanes|=t,ir|=t,n)}function Ag(t,n,r,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var v=K.T,E={};K.T=E,Ph(t,!1,n,r);try{var C=h(),q=K.S;if(q!==null&&q(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=yE(C,l);yl(t,n,Y,fn(t))}else yl(t,n,l,fn(t))}catch(Z){yl(t,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{at.p=f,K.T=v}}function AE(){}function Uh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Sg(t).queue;Ag(t,h,n,ft,r===null?AE:function(){return bg(t),r(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Sg(t).next.queue;yl(t,n,{},fn())}function Lh(){return je(Ul)}function Rg(){return pe().memoizedState}function wg(){return pe().memoizedState}function SE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Yi(r);var l=Xi(n,t,r);l!==null&&(dn(l,n,r),hl(l,n,r)),n={cache:fh()},t.payload=n;return}n=n.return}}function bE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},au(t)?Dg(n,r):(r=nh(t,n,r,l),r!==null&&(dn(r,t,l),Vg(r,n,l)))}function Cg(t,n,r){var l=fn();yl(t,n,r,l)}function yl(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(t))Dg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return Ho(t,n,h,0),Jt===null&&qo(),!1}catch{}finally{}if(r=nh(t,n,h,l),r!==null)return dn(r,t,l),Vg(r,n,l),!0}return!1}function Ph(t,n,r,l){if(l={lane:2,revertLane:pf(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=nh(t,r,l,2),n!==null&&dn(n,t,2)}function au(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Dg(t,n){Qa=Wo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Vg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Bs(t,r)}}var su={readContext:je,use:eu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Ig={readContext:je,use:eu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:dg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ru(4194308,4,yg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ru(4194308,4,t,n)},useInsertionEffect:function(t,n){ru(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(aa){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var h=r(n);if(aa){an(!0);try{r(n)}finally{an(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Nh(t);var n=t.queue,r=Cg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Oh,useDeferredValue:function(t,n){var r=Je();return Mh(r,t,n)},useTransition:function(){var t=Nh(!1);return t=Ag.bind(null,wt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,h=Je();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||Zm(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,dg(Wm.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,iu(),Jm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(kt){var r=Ai,l=Ti;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n=""+n+"R"+r,r=tu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=_E++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Lh,useFormState:og,useActionState:og,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ph.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Dh,useCacheRefresh:function(){return Je().memoizedState=SE.bind(null,wt)}},Ng={readContext:je,use:eu,useCallback:vg,useContext:je,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:nu,useRef:fg,useState:function(){return nu(Ri)},useDebugValue:Oh,useDeferredValue:function(t,n){var r=pe();return Tg(r,Kt.memoizedState,t,n)},useTransition:function(){var t=nu(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Lh,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var r=pe();return ng(r,Kt,t,n)},useMemoCache:Dh,useCacheRefresh:wg},RE={readContext:je,use:eu,useCallback:vg,useContext:je,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:Ih,useRef:fg,useState:function(){return Ih(Ri)},useDebugValue:Oh,useDeferredValue:function(t,n){var r=pe();return Kt===null?Mh(r,t,n):Tg(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Ih(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Lh,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var r=pe();return Kt!==null?ng(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:wg},Ya=null,_l=0;function lu(t){var n=_l;return _l+=1,Ya===null&&(Ya=[]),Hm(Ya,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function xg(t){var n=t._init;return n(t._payload)}function Og(t){function n(U,I){if(t){var k=U.deletions;k===null?(U.deletions=[I],U.flags|=16):k.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function h(U,I){return U=Ei(U,I),U.index=0,U.sibling=null,U}function f(U,I,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<I?(U.flags|=67108866,I):k):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,k,$){return I===null||I.tag!==6?(I=rh(k,U.mode,$),I.return=U,I):(I=h(I,k),I.return=U,I)}function C(U,I,k,$){var ot=k.type;return ot===L?Y(U,I,k.props.children,$,k.key):I!==null&&(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&xg(ot)===I.type)?(I=h(I,k.props),vl(I,k),I.return=U,I):(I=Go(k.type,k.key,k.props,null,U.mode,$),vl(I,k),I.return=U,I)}function q(U,I,k,$){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=ah(k,U.mode,$),I.return=U,I):(I=h(I,k.children||[]),I.return=U,I)}function Y(U,I,k,$,ot){return I===null||I.tag!==7?(I=Zr(k,U.mode,$,ot),I.return=U,I):(I=h(I,k),I.return=U,I)}function Z(U,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=rh(""+I,U.mode,k),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return k=Go(I.type,I.key,I.props,null,U.mode,k),vl(k,I),k.return=U,k;case M:return I=ah(I,U.mode,k),I.return=U,I;case b:var $=I._init;return I=$(I._payload),Z(U,I,k)}if(re(I)||P(I))return I=Zr(I,U.mode,k,null),I.return=U,I;if(typeof I.then=="function")return Z(U,lu(I),k);if(I.$$typeof===W)return Z(U,Yo(U,I),k);ou(U,I)}return null}function H(U,I,k,$){var ot=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(U,I,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return k.key===ot?C(U,I,k,$):null;case M:return k.key===ot?q(U,I,k,$):null;case b:return ot=k._init,k=ot(k._payload),H(U,I,k,$)}if(re(k)||P(k))return ot!==null?null:Y(U,I,k,$,null);if(typeof k.then=="function")return H(U,I,lu(k),$);if(k.$$typeof===W)return H(U,I,Yo(U,k),$);ou(U,k)}return null}function j(U,I,k,$,ot){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(k)||null,E(I,U,""+$,ot);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return U=U.get($.key===null?k:$.key)||null,C(I,U,$,ot);case M:return U=U.get($.key===null?k:$.key)||null,q(I,U,$,ot);case b:var Vt=$._init;return $=Vt($._payload),j(U,I,k,$,ot)}if(re($)||P($))return U=U.get(k)||null,Y(I,U,$,ot,null);if(typeof $.then=="function")return j(U,I,k,lu($),ot);if($.$$typeof===W)return j(U,I,k,Yo(I,$),ot);ou(I,$)}return null}function vt(U,I,k,$){for(var ot=null,Vt=null,ct=I,_t=I=0,Ne=null;ct!==null&&_t<k.length;_t++){ct.index>_t?(Ne=ct,ct=null):Ne=ct.sibling;var zt=H(U,ct,k[_t],$);if(zt===null){ct===null&&(ct=Ne);break}t&&ct&&zt.alternate===null&&n(U,ct),I=f(zt,I,_t),Vt===null?ot=zt:Vt.sibling=zt,Vt=zt,ct=Ne}if(_t===k.length)return r(U,ct),kt&&Wr(U,_t),ot;if(ct===null){for(;_t<k.length;_t++)ct=Z(U,k[_t],$),ct!==null&&(I=f(ct,I,_t),Vt===null?ot=ct:Vt.sibling=ct,Vt=ct);return kt&&Wr(U,_t),ot}for(ct=l(ct);_t<k.length;_t++)Ne=j(ct,U,_t,k[_t],$),Ne!==null&&(t&&Ne.alternate!==null&&ct.delete(Ne.key===null?_t:Ne.key),I=f(Ne,I,_t),Vt===null?ot=Ne:Vt.sibling=Ne,Vt=Ne);return t&&ct.forEach(function(fr){return n(U,fr)}),kt&&Wr(U,_t),ot}function pt(U,I,k,$){if(k==null)throw Error(s(151));for(var ot=null,Vt=null,ct=I,_t=I=0,Ne=null,zt=k.next();ct!==null&&!zt.done;_t++,zt=k.next()){ct.index>_t?(Ne=ct,ct=null):Ne=ct.sibling;var fr=H(U,ct,zt.value,$);if(fr===null){ct===null&&(ct=Ne);break}t&&ct&&fr.alternate===null&&n(U,ct),I=f(fr,I,_t),Vt===null?ot=fr:Vt.sibling=fr,Vt=fr,ct=Ne}if(zt.done)return r(U,ct),kt&&Wr(U,_t),ot;if(ct===null){for(;!zt.done;_t++,zt=k.next())zt=Z(U,zt.value,$),zt!==null&&(I=f(zt,I,_t),Vt===null?ot=zt:Vt.sibling=zt,Vt=zt);return kt&&Wr(U,_t),ot}for(ct=l(ct);!zt.done;_t++,zt=k.next())zt=j(ct,U,_t,zt.value,$),zt!==null&&(t&&zt.alternate!==null&&ct.delete(zt.key===null?_t:zt.key),I=f(zt,I,_t),Vt===null?ot=zt:Vt.sibling=zt,Vt=zt);return t&&ct.forEach(function(wT){return n(U,wT)}),kt&&Wr(U,_t),ot}function Xt(U,I,k,$){if(typeof k=="object"&&k!==null&&k.type===L&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case R:t:{for(var ot=k.key;I!==null;){if(I.key===ot){if(ot=k.type,ot===L){if(I.tag===7){r(U,I.sibling),$=h(I,k.props.children),$.return=U,U=$;break t}}else if(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&xg(ot)===I.type){r(U,I.sibling),$=h(I,k.props),vl($,k),$.return=U,U=$;break t}r(U,I);break}else n(U,I);I=I.sibling}k.type===L?($=Zr(k.props.children,U.mode,$,k.key),$.return=U,U=$):($=Go(k.type,k.key,k.props,null,U.mode,$),vl($,k),$.return=U,U=$)}return v(U);case M:t:{for(ot=k.key;I!==null;){if(I.key===ot)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){r(U,I.sibling),$=h(I,k.children||[]),$.return=U,U=$;break t}else{r(U,I);break}else n(U,I);I=I.sibling}$=ah(k,U.mode,$),$.return=U,U=$}return v(U);case b:return ot=k._init,k=ot(k._payload),Xt(U,I,k,$)}if(re(k))return vt(U,I,k,$);if(P(k)){if(ot=P(k),typeof ot!="function")throw Error(s(150));return k=ot.call(k),pt(U,I,k,$)}if(typeof k.then=="function")return Xt(U,I,lu(k),$);if(k.$$typeof===W)return Xt(U,I,Yo(U,k),$);ou(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,I!==null&&I.tag===6?(r(U,I.sibling),$=h(I,k),$.return=U,U=$):(r(U,I),$=rh(k,U.mode,$),$.return=U,U=$),v(U)):r(U,I)}return function(U,I,k,$){try{_l=0;var ot=Xt(U,I,k,$);return Ya=null,ot}catch(ct){if(ct===ul||ct===$o)throw ct;var Vt=on(29,ct,null,U.mode);return Vt.lanes=$,Vt.return=U,Vt}finally{}}}var Xa=Og(!0),Mg=Og(!1),Rn=tt(null),Kn=null;function Zi(t){var n=t.alternate;nt(Ae,Ae.current&1),nt(Rn,t),Kn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Kn=t)}function Ug(t){if(t.tag===22){if(nt(Ae,Ae.current),nt(Rn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Ji()}function Ji(){nt(Ae,Ae.current),nt(Rn,Rn.current)}function wi(t){st(Rn),Kn===t&&(Kn=null),st(Ae)}var Ae=tt(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Df(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function zh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),h=Yi(l);h.payload=n,r!=null&&(h.callback=r),n=Xi(t,h,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),h=Yi(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Xi(t,h,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Yi(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(dn(n,t,r),hl(n,t,r))}};function Lg(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!el(r,l)||!el(h,f):!0}function Pg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Bh.enqueueReplaceState(n,n.state,null)}function sa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zg(t){cu(t)}function Bg(t){console.error(t)}function kg(t){cu(t)}function hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kh(t,n,r){return r=Yi(r),r.tag=3,r.payload={element:null},r.callback=function(){hu(t,n)},r}function Hg(t){return t=Yi(t),t.tag=3,t}function jg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){qg(n,r,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Kn===null?hf():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===gh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),df(t,l,h)),!1;case 22:return r.flags|=65536,l===gh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),df(t,l,h)),!1}throw Error(s(435,r.tag))}return df(t,l,h),hf(),!1}if(kt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==oh&&(t=Error(s(422),{cause:l}),al(Tn(t,r)))):(l!==oh&&(n=Error(s(423),{cause:l}),al(Tn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tn(l,r),h=kh(t.stateNode,l,h),_h(t,h),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),wl===null?wl=[f]:wl.push(f),le!==4&&(le=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=kh(r.stateNode,l,t),_h(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Hg(h),jg(h,t,r,l),_h(r,h),!1}r=r.return}while(r!==null);return!1}var Gg=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?Mg(n,null,r,l):Xa(n,t.child,r,l)}function Qg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ia(n),l=Sh(t,n,r,v,f,h),E=bh(),t!==null&&!Ve?(Rh(t,n,h),Ci(t,n,h)):(kt&&E&&sh(n),n.flags|=1,Le(t,n,l,h),n.child)}function Fg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!ih(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kg(t,n,f,l,h)):(t=Go(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yh(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(v,l)&&t.ref===n.ref)return Ci(t,n,h)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Yh(t,h))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ci(t,n,h)}return qh(t,n,r,l,h)}function Yg(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Xg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Km(n,f):Eh(),Ug(n);else return n.lanes=n.childLanes=536870912,Xg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Xo(n,f.cachePool),Km(n,f),Ji(),n.memoizedState=null):(t!==null&&Xo(n,null),Eh(),Ji());return Le(t,n,h,r),n.child}function Xg(t,n,r,l){var h=mh();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&Xo(n,null),Eh(),Ug(n),t!==null&&sl(t,n,l,!0),null}function fu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qh(t,n,r,l,h){return ia(n),r=Sh(t,n,r,l,void 0,h),l=bh(),t!==null&&!Ve?(Rh(t,n,h),Ci(t,n,h)):(kt&&l&&sh(n),n.flags|=1,Le(t,n,r,h),n.child)}function $g(t,n,r,l,h,f){return ia(n),n.updateQueue=null,r=Xm(n,l,r,h),Ym(t),l=bh(),t!==null&&!Ve?(Rh(t,n,f),Ci(t,n,f)):(kt&&l&&sh(n),n.flags|=1,Le(t,n,r,f),n.child)}function Zg(t,n,r,l,h){if(ia(n),n.stateNode===null){var f=Ba,v=r.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?je(v):Ba,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(zh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Bh.enqueueReplaceState(f,f.state,null),dl(n,l,f,h),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=sa(r,E);f.props=C;var q=f.context,Y=r.contextType;v=Ba,typeof Y=="object"&&Y!==null&&(v=je(Y));var Z=r.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==v)&&Pg(n,f,l,v),Ki=!1;var H=n.memoizedState;f.state=H,dl(n,l,f,h),fl(),q=n.memoizedState,E||H!==q||Ki?(typeof Z=="function"&&(zh(n,r,Z,l),q=n.memoizedState),(C=Ki||Lg(n,r,C,l,H,q,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),v=n.memoizedProps,Y=sa(r,v),f.props=Y,Z=n.pendingProps,H=f.context,q=r.contextType,C=Ba,typeof q=="object"&&q!==null&&(C=je(q)),E=r.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&Pg(n,f,l,C),Ki=!1,H=n.memoizedState,f.state=H,dl(n,l,f,h),fl();var j=n.memoizedState;v!==Z||H!==j||Ki||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof E=="function"&&(zh(n,r,E,l),j=n.memoizedState),(Y=Ki||Lg(n,r,Y,l,H,j,C)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,h),n.child=Xa(n,null,r,h)):Le(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Ci(t,n,h),t}function Jg(t,n,r,l){return rl(),n.flags|=256,Le(t,n,r,l),n.child}var Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:Bm()}}function Gh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function Wg(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(h?Zi(n):Ji(),kt){var E=se,C;if(C=E){t:{for(C=E,E=Fn;C.nodeType!==8;){if(!E){E=null;break t}if(C=On(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:Jr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},C=on(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,Ze=n,se=null,C=!0):C=!1}C||ea(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Df(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,h?(Ji(),h=n.mode,E=du({mode:"hidden",children:E},h),l=Zr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=jh(r),h.childLanes=Gh(t,v,r),n.memoizedState=Hh,l):(Zi(n),Qh(n,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=Fh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),h=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),h=Zr(h,E,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Xa(n,t.child,null,r),l=n.child,l.memoizedState=jh(r),l.childLanes=Gh(t,v,r),n.memoizedState=Hh,n=h);else if(Zi(n),Df(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),n=Fh(t,n,r)}else if(Ve||sl(t,n,r,!1),v=(r&t.childLanes)!==0,Ve||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,za(t,l),dn(v,t,l),Gg;E.data==="$?"||hf(),n=Fh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,se=On(E.nextSibling),Ze=n,kt=!0,ta=null,Fn=!1,t!==null&&(Sn[bn++]=Ti,Sn[bn++]=Ai,Sn[bn++]=Jr,Ti=t.id,Ai=t.overflow,Jr=n),n=Qh(n,l.children),n.flags|=4096);return n}return h?(Ji(),h=l.fallback,E=n.mode,C=t.child,q=C.sibling,l=Ei(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Ei(q,h):(h=Zr(h,E,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=jh(r):(C=E.cachePool,C!==null?(q=Te._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Bm(),E={baseLanes:E.baseLanes|r,cachePool:C}),h.memoizedState=E,h.childLanes=Gh(t,v,r),n.memoizedState=Hh,l):(Zi(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Qh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fh(t,n,r){return Xa(n,t.child,null,r),t=Qh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function Kh(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function ep(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tp(t,r,n);else if(t.tag===19)tp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(nt(Ae,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&uu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Kh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&uu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Kh(n,!0,r,null,f);break;case"together":Kh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function CE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Fi(n,Te,t.memoizedState.cache),rl();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wg(t,n,r):(Zi(n),t=Ci(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(sl(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ep(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Yg(t,n,r);case 24:Fi(n,Te,t.memoizedState.cache)}return Ci(t,n,r)}function np(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Yh(t,r)&&(n.flags&128)===0)return Ve=!1,CE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,kt&&(n.flags&1048576)!==0&&xm(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")ih(l)?(t=sa(l,t),n.tag=1,n=Zg(null,n,l,t,r)):(n.tag=0,n=qh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===ht){n.tag=11,n=Qg(null,n,l,t,r);break t}else if(h===x){n.tag=14,n=Fg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(s(306,n,""))}}return n;case 0:return qh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=sa(l,n.pendingProps),Zg(t,n,l,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,yh(t,n),dl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Fi(n,Te,l),l!==f.cache&&hh(n,[Te],r,!0),fl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(t,n,l,r);break t}else if(l!==h){h=Tn(Error(s(424)),n),al(h),n=Jg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=On(t.firstChild),Ze=n,kt=!0,ta=null,Fn=!0,r=Mg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(rl(),l===h){n=Ci(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return fu(t,n),t===null?(r=sy(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Cu(Tt.current).createElement(r),l[_e]=n,l[de]=t,ze(l,r,t),ue(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&kt&&(l=n.stateNode=iy(n.type,n.pendingProps,Tt.current),Ze=n,Fn=!0,h=se,lr(n.type)?(Vf=h,se=On(l.firstChild)):se=h),Le(t,n,n.pendingProps.children,r),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((h=l=se)&&(l=eT(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ze=n,se=On(l.firstChild),Fn=!1,h=!0):h=!1),h||ea(n)),zi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Rf(h,f)?l=null:v!==null&&Rf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Sh(t,n,vE,null,null,r),Ul._currentValue=h),fu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=se)&&(r=nT(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Ze=n,se=null,t=!0):t=!1),t||ea(n)),null;case 13:return Wg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ia(n),h=je(h),l=l(h),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,r);case 15:return Kg(t,n,n.type,n.pendingProps,r);case 19:return ep(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=du(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Yg(t,n,r);case 24:return ia(n),l=je(Te),t===null?(h=mh(),h===null&&(h=Jt,f=fh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},ph(n),Fi(n,Te,h)):((t.lanes&r)!==0&&(yh(t,n),dl(n,null,null,r),fl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fi(n,Te,l)):(l=f.cache,Fi(n,Te,l),l!==h.cache&&hh(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hy(n)){if(n=Rn.current,n!==null&&((Ut&4194048)===Ut?Kn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Kn))throw cl=gh,km;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ps():536870912,t.lanes|=n,Wa|=n)}function El(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function DE(t,n,r){var l=n.pendingProps;switch(lh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Te),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Um())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ee(n),ip(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ee(n),ip(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ee(n),n.flags&=-16777217),null;case 27:li(n),r=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=gt.current,il(n)?Om(n):(t=iy(h,l,r),n.stateNode=t,Di(n))}return ee(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=gt.current,il(n))Om(n);else{switch(h=Cu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[_e]=n,t[de]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,il(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||$p(t.nodeValue,r)),t||ea(n)}else t=Cu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),mu(n,n.updateQueue),ee(n),null;case 4:return Mn(),t===null&&Ef(n.stateNode.containerInfo),ee(n),null;case 10:return bi(n.type),ee(n),null;case 19:if(st(Ae),h=n.memoizedState,h===null)return ee(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)El(h,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,El(h,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Nm(r,t),r=r.sibling;return nt(Ae,Ae.current&1|2),n.child}t=t.sibling}h.tail!==null&&gn()>yu&&(n.flags|=128,l=!0,El(h,!1),n.lanes=4194304)}else{if(!l)if(t=uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*gn()-h.renderingStartTime>yu&&r!==536870912&&(n.flags|=128,l=!0,El(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,t=Ae.current,nt(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return wi(n),Th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&mu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&st(ra),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function VE(t,n){switch(lh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Te),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(Ae),null;case 4:return Mn(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),Th(),t!==null&&st(ra),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Te),null;case 25:return null;default:return null}}function rp(t,n){switch(lh(n),n.tag){case 3:bi(Te),Mn();break;case 26:case 27:case 5:li(n);break;case 4:Mn();break;case 13:wi(n);break;case 19:st(Ae);break;case 10:bi(n.type);break;case 22:case 23:wi(n),Th(),t!==null&&st(ra);break;case 24:bi(Te)}}function Tl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(E){$t(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var C=r,q=E;try{q()}catch(Y){$t(h,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){$t(n,n.return,Y)}}function ap(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Fm(n,r)}catch(l){$t(t,t.return,l)}}}function sp(t,n,r){r.props=sa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){$t(t,n,h)}}function Yn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(t,n,h)}else r.current=null}function lp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(t,t.return,h)}}function Xh(t,n,r){try{var l=t.stateNode;$E(l,t.type,r,n),l[de]=n}catch(h){$t(t,t.return,h)}}function op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function $h(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=wu));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,r),t=t.sibling;t!==null;)Zh(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}function up(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ze(n,l,r),n[_e]=t,n[de]=r}catch(f){$t(t,t.return,f)}}var Vi=!1,he=!1,Jh=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function IE(t,n){if(t=t.containerInfo,Sf=Ou,t=Tm(t),$c(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,C=-1,q=0,Y=0,Z=t,H=null;e:for(;;){for(var j;Z!==r||h!==0&&Z.nodeType!==3||(E=v+h),Z!==f||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(j=Z.firstChild)!==null;)H=Z,Z=j;for(;;){if(Z===t)break e;if(H===r&&++q===h&&(E=v),H===f&&++Y===l&&(C=v),(j=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=j}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(bf={focusedElem:t,selectionRange:r},Ou=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=sa(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){$t(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Cf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function hp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Tl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var h=sa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&ap(r),l&512&&Al(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fm(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&up(r);case 26:case 5:tr(t,r),n===null&&l&4&&lp(r),l&512&&Al(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&mp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=BE.bind(null,r),iT(t,r))));break;case 22:if(l=r.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||he,h=Vi;var f=he;Vi=l,(he=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Vi=h,he=f}break;case 30:break;default:tr(t,r)}}function fp(t){var n=t.alternate;n!==null&&(t.alternate=null,fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Ii(t,n,r){for(r=r.child;r!==null;)dp(t,n,r),r=r.sibling}function dp(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:he||Yn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Yn(r,n);var l=te,h=We;lr(r.type)&&(te=r.stateNode,We=!1),Ii(t,n,r),Nl(r.stateNode),te=l,We=h;break;case 5:he||Yn(r,n);case 6:if(l=te,h=We,te=null,Ii(t,n,r),te=l,We=h,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:te!==null&&(We?(t=te,ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Bl(t)):ey(te,r.stateNode));break;case 4:l=te,h=We,te=r.stateNode.containerInfo,We=!0,Ii(t,n,r),te=l,We=h;break;case 0:case 11:case 14:case 15:he||Wi(2,r,n),he||Wi(4,r,n),Ii(t,n,r);break;case 1:he||(Yn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sp(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ii(t,n,r),he=l;break;default:Ii(t,n,r)}}function mp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){$t(n,n.return,r)}}function NE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cp),n;default:throw Error(s(435,t.tag))}}function Wh(t,n){var r=NE(t);n.forEach(function(l){var h=kE.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(s(160));dp(f,v,h),te=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gp(n,t),n=n.sibling}var xn=null;function gp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(Wi(3,t,t.return),Tl(3,t),Wi(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(he||r===null||Yn(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=xn;if(un(n,t),cn(t),l&512&&(he||r===null||Yn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ur]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,l,r),f[_e]=t,ue(f),l=f;break t;case"link":var v=uy("link","href",h).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),ze(f,l,r),h.head.appendChild(f);break;case"meta":if(v=uy("meta","content",h).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=h.createElement(l),ze(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else cy(h,t.type,t.stateNode);else t.stateNode=oy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?cy(h,t.type,t.stateNode):oy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(he||r===null||Yn(r,r.return)),r!==null&&l&4&&Xh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(he||r===null||Yn(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(j){$t(t,t.return,j)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xh(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Jh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){$t(t,t.return,j)}}break;case 3:if(Iu=null,h=xn,xn=Du(n.containerInfo),un(n,t),xn=h,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(j){$t(t,t.return,j)}Jh&&(Jh=!1,pp(t));break;case 4:l=xn,xn=Du(t.stateNode.containerInfo),un(n,t),cn(t),xn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sf=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wh(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,q=Vi,Y=he;if(Vi=q||h,he=Y||C,un(n,t),he=Y,Vi=q,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Vi||he||la(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(j){$t(C,C.return,j)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(j){$t(C,C.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wh(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(op(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=$h(t);gu(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var E=$h(t);gu(t,E,v);break;case 3:case 4:var C=r.stateNode.containerInfo,q=$h(t);Zh(t,q,C);break;default:throw Error(s(161))}}catch(Y){$t(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hp(t,n.alternate,n),n=n.sibling}function la(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),la(n);break;case 1:Yn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sp(n,n.return,r),la(n);break;case 27:Nl(n.stateNode);case 26:case 5:Yn(n,n.return),la(n);break;case 22:n.memoizedState===null&&la(n);break;case 30:la(n);break;default:la(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:er(h,f,r),Tl(4,f);break;case 1:if(er(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){$t(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Qm(C[h],E)}catch(q){$t(l,l.return,q)}}r&&v&64&&ap(f),Al(f,f.return);break;case 27:up(f);case 26:case 5:er(h,f,r),r&&l===null&&v&4&&lp(f),Al(f,f.return);break;case 12:er(h,f,r);break;case 13:er(h,f,r),r&&v&4&&mp(h,f);break;case 22:f.memoizedState===null&&er(h,f,r),Al(f,f.return);break;case 30:break;default:er(h,f,r)}n=n.sibling}}function tf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(t,n,r,l),n=n.sibling}function yp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),h&2048&&Tl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):Sl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,$a(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&tf(v,n);break;case 24:Xn(t,n,r,l),h&2048&&ef(n.alternate,n);break;default:Xn(t,n,r,l)}}function $a(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:$a(f,v,E,C,h),Tl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?$a(f,v,E,C,h):Sl(f,v):(Y._visibility|=2,$a(f,v,E,C,h)),h&&q&2048&&tf(v.alternate,v);break;case 24:$a(f,v,E,C,h),h&&q&2048&&ef(v.alternate,v);break;default:$a(f,v,E,C,h)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Sl(r,l),h&2048&&tf(l.alternate,l);break;case 24:Sl(r,l),h&2048&&ef(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function Za(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 26:Za(t),t.flags&bl&&t.memoizedState!==null&&pT(xn,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=xn;xn=Du(t.stateNode.containerInfo),Za(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,Za(t),bl=n):Za(t));break;default:Za(t)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Tp(l,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):Rl(t);break;default:Rl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Tp(l,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function Tp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var h=l.sibling,f=l.return;if(fp(l),l===r){Ie=null;break t}if(h!==null){h.return=f,Ie=h;break t}Ie=f}}}var xE={getCacheForType:function(t){var n=je(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},OE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,It=null,Ut=0,Qt=0,hn=null,nr=!1,Ja=!1,nf=!1,Ni=0,le=0,ir=0,oa=0,rf=0,wn=0,Wa=0,wl=null,tn=null,af=!1,sf=0,yu=1/0,_u=null,rr=null,Pe=0,ar=null,ts=null,es=0,lf=0,of=null,Ap=null,Cl=0,uf=null;function fn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(K.T!==null){var t=Ha;return t!==0?t:pf()}return ki()}function Sp(){wn===0&&(wn=(Ut&536870912)===0||kt?Ls():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ns(t,0),sr(t,Ut,wn,!1)),ui(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(oa|=r),le===4&&sr(t,Ut,wn,!1)),$n(t))}function bp(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Mr(t,n),h=l?LE(t,n):ff(t,n,!0),f=l;do{if(h===0){Ja&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!ME(r)){h=ff(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;h=wl;var C=E.current.memoizedState.isDehydrated;if(C&&(ns(E,v).flags|=256),v=ff(E,v,!1),v!==2){if(nf&&!C){E.errorRecoveryDisabledLanes|=f,oa|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ns(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,wn,!nr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=sf+300-gn(),10<h)){if(sr(l,n,wn,!nr),va(l,0,!0)!==0)break t;l.timeoutHandle=Wp(Rp.bind(null,l,r,tn,_u,af,n,wn,oa,Wa,nr,f,2,-0,0),h);break t}Rp(l,r,tn,_u,af,n,wn,oa,Wa,nr,f,0,-0,0)}}break}while(!0);$n(t)}function Rp(t,n,r,l,h,f,v,E,C,q,Y,Z,H,j){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:gT},_p(n),Z=yT(),Z!==null)){t.cancelPendingCommit=Z(xp.bind(null,t,n,f,r,l,h,v,E,C,Y,1,H,j)),sr(t,f,v,!q);return}xp(t,n,f,r,l,h,v,E,C)}function ME(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~rf,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-He(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&Un(t,r,n)}function vu(){return(Gt&6)===0?(Dl(0),!1):!0}function cf(){if(It!==null){if(Qt===0)var t=It.return;else t=It,Si=na=null,wh(t),Ya=null,_l=0,t=It;for(;t!==null;)rp(t.alternate,t),t=t.return;It=null}}function ns(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,JE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cf(),Jt=t,It=r=Ei(t.current,null),Ut=n,Qt=0,hn=null,nr=!1,Ja=Mr(t,n),nf=!1,Wa=wn=rf=oa=ir=le=0,tn=wl=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-He(l),f=1<<h;n|=t[h],l&=~f}return Ni=n,qo(),r}function wp(t,n){wt=null,K.H=su,n===ul||n===$o?(n=jm(),Qt=3):n===km?(n=jm(),Qt=4):Qt=n===Gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(le=1,hu(t,Tn(n,t.current)))}function Cp(){var t=K.H;return K.H=su,t===null?su:t}function Dp(){var t=K.A;return K.A=xE,t}function hf(){le=4,nr||(Ut&4194048)!==Ut&&Rn.current!==null||(Ja=!0),(ir&134217727)===0&&(oa&134217727)===0||Jt===null||sr(Jt,Ut,wn,!1)}function ff(t,n,r){var l=Gt;Gt|=2;var h=Cp(),f=Dp();(Jt!==t||Ut!==n)&&(_u=null,ns(t,n)),n=!1;var v=le;t:do try{if(Qt!==0&&It!==null){var E=It,C=hn;switch(Qt){case 8:cf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var q=Qt;if(Qt=0,hn=null,is(t,E,C,q),r&&Ja){v=0;break t}break;default:q=Qt,Qt=0,hn=null,is(t,E,C,q)}}UE(),v=le;break}catch(Y){wp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Si=na=null,Gt=l,K.H=h,K.A=f,It===null&&(Jt=null,Ut=0,qo()),v}function UE(){for(;It!==null;)Vp(It)}function LE(t,n){var r=Gt;Gt|=2;var l=Cp(),h=Dp();Jt!==t||Ut!==n?(_u=null,yu=gn()+500,ns(t,n)):Ja=Mr(t,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=hn;e:switch(Qt){case 1:Qt=0,hn=null,is(t,n,f,1);break;case 2:case 9:if(qm(f)){Qt=0,hn=null,Ip(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),$n(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:qm(f)?(Qt=0,hn=null,Ip(n)):(Qt=0,hn=null,is(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||hy(v)){Qt=0,hn=null;var C=E.sibling;if(C!==null)It=C;else{var q=E.return;q!==null?(It=q,Eu(q)):It=null}break e}}Qt=0,hn=null,is(t,n,f,5);break;case 6:Qt=0,hn=null,is(t,n,f,6);break;case 8:cf(),le=6;break t;default:throw Error(s(462))}}PE();break}catch(Y){wp(t,Y)}while(!0);return Si=na=null,K.H=l,K.A=h,Gt=r,It!==null?0:(Jt=null,Ut=0,qo(),le)}function PE(){for(;It!==null&&!xs();)Vp(It)}function Vp(t){var n=np(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?Eu(t):It=n}function Ip(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=$g(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=$g(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:wh(n);default:rp(r,n),n=It=Nm(n,Ni),n=np(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?Eu(t):It=n}function is(t,n,r,l){Si=na=null,wh(n),Ya=null,_l=0;var h=n.return;try{if(wE(t,h,n,r,Ut)){le=1,hu(t,Tn(r,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;le=1,hu(t,Tn(r,t.current)),It=null;return}n.flags&32768?(kt||l===1?t=!0:Ja||(Ut&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Np(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Np(n,nr);return}t=n.return;var r=DE(n.alternate,n,Ni);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);le===0&&(le=5)}function Np(t,n){do{var r=VE(t.alternate,t);if(r!==null){r.flags&=32767,It=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=r}while(t!==null);le=6,It=null}function xp(t,n,r,l,h,f,v,E,C){t.cancelPendingCommit=null;do Tu();while(Pe!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=eh,zs(t,r,f,v,E,C),t===Jt&&(It=Jt=null,Ut=0),ts=n,ar=t,es=r,lf=f,of=h,Ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qE(Ir,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=at.p,at.p=2,v=Gt,Gt|=4;try{IE(t,n,r)}finally{Gt=v,at.p=h,K.T=l}}Pe=1,Op(),Mp(),Up()}}function Op(){if(Pe===1){Pe=0;var t=ar,n=ts,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{gp(n,t);var f=bf,v=Tm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Em(E.ownerDocument.documentElement,E)){if(C!==null&&$c(E)){var q=C.start,Y=C.end;if(Y===void 0&&(Y=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var j=H.getSelection(),vt=E.textContent.length,pt=Math.min(C.start,vt),Xt=C.end===void 0?pt:Math.min(C.end,vt);!j.extend&&pt>Xt&&(v=Xt,Xt=pt,pt=v);var U=vm(E,pt),I=vm(E,Xt);if(U&&I&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==I.node||j.focusOffset!==I.offset)){var k=Z.createRange();k.setStart(U.node,U.offset),j.removeAllRanges(),pt>Xt?(j.addRange(k),j.extend(I.node,I.offset)):(k.setEnd(I.node,I.offset),j.addRange(k))}}}}for(Z=[],j=E;j=j.parentNode;)j.nodeType===1&&Z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var $=Z[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ou=!!Sf,bf=Sf=null}finally{Gt=h,at.p=l,K.T=r}}t.current=n,Pe=2}}function Mp(){if(Pe===2){Pe=0;var t=ar,n=ts,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{hp(t,n.alternate,n)}finally{Gt=h,at.p=l,K.T=r}}Pe=3}}function Up(){if(Pe===4||Pe===3){Pe=0,po();var t=ar,n=ts,r=es,l=Ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ts=ar=null,Lp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),Ea(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=at.p,at.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{K.T=n,at.p=h}}(es&3)!==0&&Tu(),$n(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===uf?Cl++:(Cl=0,uf=t):Cl=0,Dl(0)}}function Lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function Tu(t){return Op(),Mp(),Up(),Pp()}function Pp(){if(Pe!==5)return!1;var t=ar,n=lf;lf=0;var r=Ea(es),l=K.T,h=at.p;try{at.p=32>r?32:r,K.T=null,r=of,of=null;var f=ar,v=es;if(Pe=0,ts=ar=null,es=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Ep(f.current),yp(f,f.current,v,r),Gt=E,Dl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{at.p=h,K.T=l,Lp(t,n)}}function zp(t,n,r){n=Tn(r,n),n=kh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(ui(t,2),$n(t))}function $t(t,n,r){if(t.tag===3)zp(t,t,r);else for(;n!==null;){if(n.tag===3){zp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Tn(r,t),r=Hg(2),l=Xi(n,r,2),l!==null&&(jg(r,l,n,t),ui(l,2),$n(l));break}}n=n.return}}function df(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new OE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(nf=!0,h.add(r),t=zE.bind(null,t,n,r),n.then(t,t))}function zE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(le===4||le===3&&(Ut&62914560)===Ut&&300>gn()-sf?(Gt&2)===0&&ns(t,0):rf|=r,Wa===Ut&&(Wa=0)),$n(t)}function Bp(t,n){n===0&&(n=Ps()),t=za(t,n),t!==null&&(ui(t,n),$n(t))}function BE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Bp(t,r)}function kE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Bp(t,r)}function qE(t,n){return Dr(t,n)}var Au=null,rs=null,mf=!1,Su=!1,gf=!1,ua=0;function $n(t){t!==rs&&t.next===null&&(rs===null?Au=rs=t:rs=rs.next=t),Su=!0,mf||(mf=!0,jE())}function Dl(t,n){if(!gf&&Su){gf=!0;do for(var r=!1,l=Au;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jp(l,f))}else f=Ut,f=va(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mr(l,f)||(r=!0,jp(l,f));l=l.next}while(r);gf=!1}}function HE(){kp()}function kp(){Su=mf=!1;var t=0;ua!==0&&(ZE()&&(t=ua),ua=0);for(var n=gn(),r=null,l=Au;l!==null;){var h=l.next,f=qp(l,n);f===0?(l.next=null,r===null?Au=h:r.next=h,h===null&&(rs=r)):(r=l,(t!==0||(f&3)!==0)&&(Su=!0)),l=h}Dl(t)}function qp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-He(f),E=1<<v,C=h[v];C===-1?((E&r)===0||(E&l)!==0)&&(h[v]=Us(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Ut,r=va(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Mr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),Ea(r)){case 2:case 8:r=ya;break;case 32:r=Ir;break;case 268435456:r=_a;break;default:r=Ir}return l=Hp.bind(null,t),r=Dr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Hp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tu()&&t.callbackNode!==r)return null;var l=Ut;return l=va(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bp(t,l,n),qp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Hp.bind(null,t):null)}function jp(t,n){if(Tu())return null;bp(t,n,!0)}function jE(){WE(function(){(Gt&6)!==0?Dr(Os,HE):kp()})}function pf(){return ua===0&&(ua=Ls()),ua}function Gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function Qp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function GE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Gp((h[de]||null).action),v=l.submitter;v&&(n=(n=v[de]||null)?Gp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ca("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var C=v?Qp(h,v):new FormData(h);Uh(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=v?Qp(h,v):new FormData(h),Uh(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var yf=0;yf<th.length;yf++){var _f=th[yf],QE=_f.toLowerCase(),FE=_f[0].toUpperCase()+_f.slice(1);Nn(QE,"on"+FE)}Nn(bm,"onAnimationEnd"),Nn(Rm,"onAnimationIteration"),Nn(wm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(uE,"onTransitionRun"),Nn(cE,"onTransitionStart"),Nn(hE,"onTransitionCancel"),Nn(Cm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Fp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,q=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=q;try{f(h)}catch(Y){cu(Y)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,q=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=q;try{f(h)}catch(Y){cu(Y)}h.currentTarget=null,f=C}}}}function Nt(t,n){var r=n[ks];r===void 0&&(r=n[ks]=new Set);var l=t+"__bubble";r.has(l)||(Kp(n,t,2,!1),r.add(l))}function vf(t,n,r){var l=0;n&&(l|=4),Kp(r,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[bu]){t[bu]=!0,qs.forEach(function(r){r!=="selectionchange"&&(KE.has(r)||vf(r,!1,t),vf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,vf("selectionchange",!1,n))}}function Kp(t,n,r,l){switch(yy(n)){case 2:var h=ET;break;case 8:h=TT;break;default:h=Mf}r=h.bind(null,n,r,t),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Tf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=ci(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue t}E=E.parentNode}}l=l.return}wo(function(){var q=f,Y=_n(r),Z=[];t:{var H=Dm.get(t);if(H!==void 0){var j=Ca,vt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":j=Oa;break;case"focusin":vt="focus",j=Ia;break;case"focusout":vt="blur",j=Ia;break;case"beforeblur":case"afterblur":j=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Mo;break;case bm:case Rm:case wm:j=Na;break;case Cm:j=Lo;break;case"scroll":case"scrollend":j=Co;break;case"wheel":j=Ma;break;case"copy":case"cut":case"paste":j=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ws;break;case"toggle":case"beforetoggle":j=zo}var pt=(n&4)!==0,Xt=!pt&&(t==="scroll"||t==="scrollend"),U=pt?H!==null?H+"Capture":null:H;pt=[];for(var I=q,k;I!==null;){var $=I;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||U===null||($=Hr(I,U),$!=null&&pt.push(Il(I,$,k))),Xt)break;I=I.return}0<pt.length&&(H=new j(H,vt,null,r,Y),Z.push({event:H,listeners:pt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",H&&r!==mi&&(vt=r.relatedTarget||r.fromElement)&&(ci(vt)||vt[pn]))break t;if((j||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,j?(vt=r.relatedTarget||r.toElement,j=q,vt=vt?ci(vt):null,vt!==null&&(Xt=c(vt),pt=vt.tag,vt!==Xt||pt!==5&&pt!==27&&pt!==6)&&(vt=null)):(j=null,vt=q),j!==vt)){if(pt=En,$="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Ws,$="onPointerLeave",U="onPointerEnter",I="pointer"),Xt=j==null?H:Pn(j),k=vt==null?H:Pn(vt),H=new pt($,I+"leave",j,r,Y),H.target=Xt,H.relatedTarget=k,$=null,ci(Y)===q&&(pt=new pt(U,I+"enter",vt,r,Y),pt.target=k,pt.relatedTarget=Xt,$=pt),Xt=$,j&&vt)e:{for(pt=j,U=vt,I=0,k=pt;k;k=as(k))I++;for(k=0,$=U;$;$=as($))k++;for(;0<I-k;)pt=as(pt),I--;for(;0<k-I;)U=as(U),k--;for(;I--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=as(pt),U=as(U)}pt=null}else pt=null;j!==null&&Yp(Z,H,j,pt,!1),vt!==null&&Xt!==null&&Yp(Z,Xt,vt,pt,!0)}}t:{if(H=q?Pn(q):window,j=H.nodeName&&H.nodeName.toLowerCase(),j==="select"||j==="input"&&H.type==="file")var ot=dm;else if(Ee(H))if(mm)ot=sE;else{ot=rE;var Vt=iE}else j=H.nodeName,!j||j.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Fs(q.elementType)&&(ot=dm):ot=aE;if(ot&&(ot=ot(t,q))){vi(Z,ot,r,Y);break t}Vt&&Vt(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Gi(H,"number",H.value)}switch(Vt=q?Pn(q):window,t){case"focusin":(Ee(Vt)||Vt.contentEditable==="true")&&(Ua=Vt,Zc=q,nl=null);break;case"focusout":nl=Zc=Ua=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,Am(Z,r,Y);break;case"selectionchange":if(oE)break;case"keydown":case"keyup":Am(Z,r,Y)}var ct;if(Gn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?G(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(_&&r.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(ct=Ys()):(kn=Y,Qi="value"in kn?kn.value:kn.textContent,Ot=!0)),Vt=Ru(q,_t),0<Vt.length&&(_t=new Zs(_t,t,null,r,Y),Z.push({event:_t,listeners:Vt}),ct?_t.data=ct:(ct=rt(r),ct!==null&&(_t.data=ct)))),(ct=m?ve(t,r):Mt(t,r))&&(_t=Ru(q,"onBeforeInput"),0<_t.length&&(Vt=new Zs("onBeforeInput","beforeinput",null,r,Y),Z.push({event:Vt,listeners:_t}),Vt.data=ct)),GE(Z,t,q,r,Y)}Fp(Z,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ru(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hr(t,r),h!=null&&l.unshift(Il(t,h,f)),h=Hr(t,n),h!=null&&l.push(Il(t,h,f))),t.tag===3)return l;t=t.return}return[]}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yp(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,C=E.alternate,q=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||q===null||(C=q,h?(q=Hr(r,f),q!=null&&v.unshift(Il(r,q,C))):h||(q=Hr(r,f),q!=null&&v.push(Il(r,q,C)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var YE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(XE,"")}function $p(t,n){return n=Xp(n),Xp(t)===n}function wu(){}function Yt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":Qs(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",h.name,h,null),Yt(t,n,"formEncType",h.formEncType,h,null),Yt(t,n,"formMethod",h.formMethod,h,null),Yt(t,n,"formTarget",h.formTarget,h,null)):(Yt(t,n,"encType",h.encType,h,null),Yt(t,n,"method",h.method,h,null),Yt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=wu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Gc.get(r)||r,ji(t,r,l))}}function Af(t,n,r,l,h,f){switch(r){case"style":Qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ji(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,r,null)}}h&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var E=f=v=h=null,C=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":q=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Y,r,null)}}Br(t,f,E,C,q,v,h,!1),Ra(t);return;case"select":Nt("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,h,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,v,E,r,null)}kr(t,l,h,f),Ra(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,C,l,r,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Nt(Vl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,q,l,r,null)}return;default:if(Fs(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&Af(t,n,Y,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function $E(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,C=null,q=null,Y=null;for(j in r){var Z=r[j];if(r.hasOwnProperty(j)&&Z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(j)||Yt(t,n,j,null,l,Z)}}for(var H in l){var j=l[H];if(Z=r[H],l.hasOwnProperty(H)&&(j!=null||Z!=null))switch(H){case"type":f=j;break;case"name":h=j;break;case"checked":q=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==Z&&Yt(t,n,H,j,l,Z)}}sn(t,v,E,C,q,Y,f,h);return;case"select":j=v=E=H=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==C&&Yt(t,n,h,f,l,C)}n=E,r=v,l=j,H!=null?di(t,!!r,H,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":j=H=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":H=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(t,n,v,h,l,f)}Ft(t,H,j);return;case"option":for(var vt in r)if(H=r[vt],r.hasOwnProperty(vt)&&H!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Yt(t,n,vt,null,l,H)}for(C in l)if(H=l[C],j=r[C],l.hasOwnProperty(C)&&H!==j&&(H!=null||j!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Yt(t,n,C,H,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)H=r[pt],r.hasOwnProperty(pt)&&H!=null&&!l.hasOwnProperty(pt)&&Yt(t,n,pt,null,l,H);for(q in l)if(H=l[q],j=r[q],l.hasOwnProperty(q)&&H!==j&&(H!=null||j!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Yt(t,n,q,H,l,j)}return;default:if(Fs(n)){for(var Xt in r)H=r[Xt],r.hasOwnProperty(Xt)&&H!==void 0&&!l.hasOwnProperty(Xt)&&Af(t,n,Xt,void 0,l,H);for(Y in l)H=l[Y],j=r[Y],!l.hasOwnProperty(Y)||H===j||H===void 0&&j===void 0||Af(t,n,Y,H,l,j);return}}for(var U in r)H=r[U],r.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,H);for(Z in l)H=l[Z],j=r[Z],!l.hasOwnProperty(Z)||H===j||H==null&&j==null||Yt(t,n,Z,H,l,j)}var Sf=null,bf=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(tT)}:Wp;function tT(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function ey(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Nl(v.documentElement),r&2&&Nl(v.body),r&4)for(r=v.head,Nl(r),v=r.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Ur]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(h===0){t.removeChild(f),Bl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Bl(n)}function Cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cf(r),Hi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function eT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function nT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function iT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vf=null;function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function iy(t,n,r){switch(n=Cu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hi(t)}var Cn=new Map,ry=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=at.d;at.d={f:rT,r:aT,D:sT,C:lT,L:oT,m:uT,X:hT,S:cT,M:fT};function rT(){var t=xi.f(),n=vu();return t||n}function aT(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):xi.r(t)}var ss=typeof document>"u"?null:document;function ay(t,n,r){var l=ss;if(l&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),ry.has(h)||(ry.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function sT(t){xi.D(t),ay("dns-prefetch",t,null)}function lT(t,n){xi.C(t,n),ay("preconnect",t,n)}function oT(t,n,r){xi.L(t,n,r);var l=ss;if(l&&t&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+me(r.imageSizes)+'"]')):h+='[href="'+me(t)+'"]';var f=h;switch(n){case"style":f=ls(t);break;case"script":f=os(t)}Cn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function uT(t,n){xi.m(t,n);var r=ss;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=os(t)}if(!Cn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),ze(l,"link",t),ue(l),r.head.appendChild(l)}}}function cT(t,n,r){xi.S(t,n,r);var l=ss;if(l&&t){var h=Ye(l).hoistableStyles,f=ls(t);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(xl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&If(t,r);var C=v=l.createElement("link");ue(C),ze(C,"link",t),C._p=new Promise(function(q,Y){C.onload=q,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function hT(t,n){xi.X(t,n);var r=ss;if(r&&t){var l=Ye(r).hoistableScripts,h=os(t),f=l.get(h);f||(f=r.querySelector(Ol(h)),f||(t=T({src:t,async:!0},n),(n=Cn.get(h))&&Nf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fT(t,n){xi.M(t,n);var r=ss;if(r&&t){var l=Ye(r).hoistableScripts,h=os(t),f=l.get(h);f||(f=r.querySelector(Ol(h)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Cn.get(h))&&Nf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function sy(t,n,r,l){var h=(h=Tt.current)?Du(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ls(r.href),r=Ye(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ls(r.href);var f=Ye(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(xl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||dT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=os(r),r=Ye(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ls(t){return'href="'+me(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ue(n),t.head.appendChild(n))}function os(t){return'[src="'+me(t)+'"]'}function Ol(t){return"script[async]"+t}function oy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ze(l,"style",h),Vu(l,r.precedence,t),n.instance=l;case"stylesheet":h=ls(r.href);var f=t.querySelector(xl(h));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=ly(r),(h=Cn.get(h))&&If(l,h),f=(t.ownerDocument||t).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),ze(f,"link",l),n.state.loading|=4,Vu(f,r.precedence,t),n.instance=f;case"script":return f=os(r.src),(h=t.querySelector(Ol(f)))?(n.instance=h,ue(h),h):(l=r,(h=Cn.get(f))&&(l=T({},r),Nf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ue(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vu(l,r.precedence,t));return n.instance}function Vu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Iu=null;function uy(t,n,r){if(Iu===null){var l=new Map,h=Iu=new Map;h.set(r,l)}else h=Iu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ur]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function cy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function gT(){}function pT(t,n,r){if(Ml===null)throw Error(s(475));var l=Ml;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ls(r.href),f=t.querySelector(xl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=ly(r),(h=Cn.get(h))&&If(r,h),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Nu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function yT(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&xf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&xf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function xf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(_T,t),xu=null,Nu.call(t))}function _T(t,n){if(!(n.state.loading&4)){var r=xu.get(t);if(r)var l=r.get(null);else{r=new Map,xu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=Nu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:W,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function vT(t,n,r,l,h,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fy(t,n,r,l,h,f,v,E,C,q,Y,Z){return t=new vT(t,n,r,v,E,C,q,Z),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=fh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ph(f),t}function dy(t){return t?(t=Ba,t):Ba}function my(t,n,r,l,h,f){h=dy(h),l.context===null?l.context=h:l.pendingContext=h,l=Yi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(dn(r,t,n),hl(r,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Of(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13){var n=za(t,67108864);n!==null&&dn(n,t,67108864),Of(t,67108864)}}var Ou=!0;function ET(t,n,r,l){var h=K.T;K.T=null;var f=at.p;try{at.p=2,Mf(t,n,r,l)}finally{at.p=f,K.T=h}}function TT(t,n,r,l){var h=K.T;K.T=null;var f=at.p;try{at.p=8,Mf(t,n,r,l)}finally{at.p=f,K.T=h}}function Mf(t,n,r,l){if(Ou){var h=Uf(l);if(h===null)Tf(t,n,l,Mu,r),_y(t,l);else if(ST(h,t,n,r,l))l.stopPropagation();else if(_y(t,l),n&4&&-1<AT.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-He(v);E.entanglements[1]|=C,v&=~C}$n(f),(Gt&6)===0&&(yu=gn()+500,Dl(0))}}break;case 13:E=za(f,2),E!==null&&dn(E,f,2),vu(),Of(f,2)}if(f=Uf(l),f===null&&Tf(t,n,l,Mu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Tf(t,n,l,null,r)}}function Uf(t){return t=_n(t),Lf(t)}var Mu=null;function Lf(t){if(Mu=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zc()){case Os:return 2;case ya:return 8;case Ir:case Bc:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Pf=!1,or=null,ur=null,cr=null,Ll=new Map,Pl=new Map,hr=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function zl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ST(t,n,r,l,h){switch(n){case"focusin":return or=zl(or,t,n,r,l,h),!0;case"dragenter":return ur=zl(ur,t,n,r,l,h),!0;case"mouseover":return cr=zl(cr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ll.set(f,zl(Ll.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,zl(Pl.get(f)||null,t,n,r,l,h)),!0}return!1}function vy(t){var n=ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,vo(t.priority,function(){if(r.tag===13){var l=fn();l=Bi(l);var h=za(r,l);h!==null&&dn(h,r,l),Of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Ln(r),n!==null&&py(n),t.blockedOn=r,!1;n.shift()}return!0}function Ey(t,n,r){Uu(t)&&r.delete(n)}function bT(){Pf=!1,or!==null&&Uu(or)&&(or=null),ur!==null&&Uu(ur)&&(ur=null),cr!==null&&Uu(cr)&&(cr=null),Ll.forEach(Ey),Pl.forEach(Ey)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,Pf||(Pf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bT)))}var Pu=null;function Ty(t){Pu!==t&&(Pu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Lf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,Uh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Bl(t){function n(C){return Lu(C,t)}or!==null&&Lu(or,t),ur!==null&&Lu(ur,t),cr!==null&&Lu(cr,t),Ll.forEach(n),Pl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)vy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[de]||null;if(typeof f=="function")v||Ty(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[de]||null)E=v.formAction;else if(Lf(h)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ty(r)}}}function zf(t){this._internalRoot=t}zu.prototype.render=zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();my(r,l,t,n,null,null)},zu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),vu(),n[pn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&vy(t)}};var Ay=e.version;if(Ay!=="19.1.0")throw Error(s(527,Ay,"19.1.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var RT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{ae=Bu.inject(RT),jt=Bu}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=zg,f=Bg,v=kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=fy(t,1,!1,null,null,r,l,h,f,v,E,null),t[pn]=n.current,Ef(t),new zf(n)},ql.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=zg,v=Bg,E=kg,C=null,q=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(q=r.formState)),n=fy(t,1,!0,n,r??null,l,h,f,v,E,C,q),n.context=dy(null),r=n.current,l=fn(),l=Bi(l),h=Yi(l),h.callback=null,Xi(r,h,l),r=l,n.current.lanes=r,ui(n,r),$n(n),t[pn]=n.current,Ef(t),new zu(n)},ql.version="19.1.0",ql}var xy;function LT(){if(xy)return qf.exports;xy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qf.exports=UT(),qf.exports}var PT=LT();const zT=K_(PT);var Hl={},Oy;function BT(){if(Oy)return Hl;Oy=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=d,Hl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function d(R,M){const L=new c,X=R.length;if(X<2)return L;const z=(M==null?void 0:M.decode)||T;let Q=0;do{const it=R.indexOf("=",Q);if(it===-1)break;const W=R.indexOf(";",Q),ht=W===-1?X:W;if(it>ht){Q=R.lastIndexOf(";",it-1)+1;continue}const ut=g(R,Q,it),Rt=p(R,it,ut),x=R.slice(ut,Rt);if(L[x]===void 0){let b=g(R,it+1,ht),w=p(R,ht,b);const N=z(R.slice(b,w));L[x]=N}Q=ht+1}while(Q<X);return L}function g(R,M,L){do{const X=R.charCodeAt(M);if(X!==32&&X!==9)return M}while(++M<L);return L}function p(R,M,L){for(;M>L;){const X=R.charCodeAt(--M);if(X!==32&&X!==9)return M+1}return L}function y(R,M,L){const X=(L==null?void 0:L.encode)||encodeURIComponent;if(!a.test(R))throw new TypeError(`argument name is invalid: ${R}`);const z=X(M);if(!e.test(z))throw new TypeError(`argument val is invalid: ${M}`);let Q=R+"="+z;if(!L)return Q;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Q+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Q+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Q+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Q+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Q+="; HttpOnly"),L.secure&&(Q+="; Secure"),L.partitioned&&(Q+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Q}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return Hl}BT();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var My="popstate";function kT(a={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return nd("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Jl(o)}return HT(e,i,null,a)}function ne(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ni(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qT(){return Math.random().toString(36).substring(2,10)}function Uy(a,e){return{usr:a.state,key:a.key,idx:e}}function nd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:i,key:e&&e.key||s||qT()}}function Jl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Rs(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function HT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function S(){g="POP";let z=T(),Q=z==null?null:z-y;y=z,p&&p({action:g,location:X.location,delta:Q})}function R(z,Q){g="PUSH";let it=nd(X.location,z,Q);y=T()+1;let W=Uy(it,y),ht=X.createHref(it);try{d.pushState(W,"",ht)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(ht)}c&&p&&p({action:g,location:X.location,delta:1})}function M(z,Q){g="REPLACE";let it=nd(X.location,z,Q);y=T();let W=Uy(it,y),ht=X.createHref(it);d.replaceState(W,"",ht),c&&p&&p({action:g,location:X.location,delta:0})}function L(z){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,it=typeof z=="string"?z:Jl(z);return it=it.replace(/ $/,"%20"),ne(Q,`No window.location.(origin|href) available to create URL for href: ${it}`),new URL(it,Q)}let X={get action(){return g},get location(){return a(o,d)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(My,S),p=z,()=>{o.removeEventListener(My,S),p=null}},createHref(z){return e(o,z)},createURL:L,encodeLocation(z){let Q=L(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:R,replace:M,go(z){return d.go(z)}};return X}function Y_(a,e,i="/"){return jT(a,e,i,!1)}function jT(a,e,i,s){let o=typeof e=="string"?Rs(e):e,c=Mi(o.pathname||"/",i);if(c==null)return null;let d=X_(a);GT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=eA(c);g=WT(d[p],y,s)}return g}function X_(a,e=[],i=[],s=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ne(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Oi([s,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(ne(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),X_(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:ZT(y,c.index),routesMeta:T})};return a.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of $_(c.path))o(c,d,p)}),e}function $_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=$_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function GT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:JT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var QT=/^:[\w-]+$/,FT=3,KT=2,YT=1,XT=10,$T=-2,Ly=a=>a==="*";function ZT(a,e){let i=a.split("/"),s=i.length;return i.some(Ly)&&(s+=$T),e&&(s+=KT),i.filter(o=>!Ly(o)).reduce((o,c)=>o+(QT.test(c)?FT:c===""?YT:XT),s)}function JT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function WT(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",S=ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),R=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Oi([c,S.pathname]),pathnameBase:aA(Oi([c,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(c=Oi([c,S.pathnameBase]))}return d}function ec(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=tA(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},R)=>{if(T==="*"){let L=g[R]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const M=g[R];return S&&!M?y[T]=void 0:y[T]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function tA(a,e=!1,i=!0){ni(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eA(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Mi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function nA(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Rs(a):a;return{pathname:i?i.startsWith("/")?i:iA(i,e):e,search:sA(s),hash:lA(o)}}function iA(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Qf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rA(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Z_(a){let e=rA(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function J_(a,e,i,s=!1){let o;typeof a=="string"?o=Rs(a):(o={...a},ne(!o.pathname||!o.pathname.includes("?"),Qf("?","pathname","search",o)),ne(!o.pathname||!o.pathname.includes("#"),Qf("#","pathname","hash",o)),ne(!o.search||!o.search.includes("#"),Qf("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}g=S>=0?e[S]:"/"}let p=nA(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Oi=a=>a.join("/").replace(/\/\/+/g,"/"),aA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),sA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,lA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function oA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var W_=["POST","PUT","PATCH","DELETE"];new Set(W_);var uA=["GET",...W_];new Set(uA);var ws=F.createContext(null);ws.displayName="DataRouter";var vc=F.createContext(null);vc.displayName="DataRouterState";var tv=F.createContext({isTransitioning:!1});tv.displayName="ViewTransition";var cA=F.createContext(new Map);cA.displayName="Fetchers";var hA=F.createContext(null);hA.displayName="Await";var ai=F.createContext(null);ai.displayName="Navigation";var oo=F.createContext(null);oo.displayName="Location";var si=F.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Dd=F.createContext(null);Dd.displayName="RouteError";function fA(a,{relative:e}={}){ne(uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=F.useContext(ai),{hash:o,pathname:c,search:d}=co(a,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Oi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function uo(){return F.useContext(oo)!=null}function ma(){return ne(uo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(oo).location}var ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nv(a){F.useContext(ai).static||F.useLayoutEffect(a)}function iv(){let{isDataRoute:a}=F.useContext(si);return a?RA():dA()}function dA(){ne(uo(),"useNavigate() may be used only in the context of a <Router> component.");let a=F.useContext(ws),{basename:e,navigator:i}=F.useContext(ai),{matches:s}=F.useContext(si),{pathname:o}=ma(),c=JSON.stringify(Z_(s)),d=F.useRef(!1);return nv(()=>{d.current=!0}),F.useCallback((p,y={})=>{if(ni(d.current,ev),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=J_(p,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Oi([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,c,o,a])}F.createContext(null);function rv(){let{matches:a}=F.useContext(si),e=a[a.length-1];return e?e.params:{}}function co(a,{relative:e}={}){let{matches:i}=F.useContext(si),{pathname:s}=ma(),o=JSON.stringify(Z_(i));return F.useMemo(()=>J_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function mA(a,e){return av(a,e)}function av(a,e,i,s){var it;ne(uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=F.useContext(ai),{matches:d}=F.useContext(si),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",S=g&&g.route;{let W=S&&S.path||"";sv(y,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let R=ma(),M;if(e){let W=typeof e=="string"?Rs(e):e;ne(T==="/"||((it=W.pathname)==null?void 0:it.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=R;let L=M.pathname||"/",X=L;if(T!=="/"){let W=T.replace(/^\//,"").split("/");X="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=!c&&i&&i.matches&&i.matches.length>0?i.matches:Y_(a,{pathname:X});ni(S||z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ni(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=vA(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Oi([T,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:Oi([T,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),d,i,s);return e&&Q?F.createElement(oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Q):Q}function gA(){let a=bA(),e=oA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:c},"ErrorBoundary")," or"," ",F.createElement("code",{style:c},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),i?F.createElement("pre",{style:o},i):null,d)}var pA=F.createElement(gA,null),yA=class extends F.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?F.createElement(si.Provider,{value:this.props.routeContext},F.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _A({routeContext:a,match:e,children:i}){let s=F.useContext(ws);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(si.Provider,{value:a},i)}function vA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:S}=i,R=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||R){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let S,R=!1,M=null,L=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||pA,d&&(g<0&&T===0?(sv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):g===T&&(R=!0,L=y.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,T+1)),z=()=>{let Q;return S?Q=M:R?Q=L:y.route.Component?Q=F.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,F.createElement(_A,{match:y,routeContext:{outlet:p,matches:X,isDataRoute:i!=null},children:Q})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?F.createElement(yA,{location:i.location,revalidation:i.revalidation,component:M,error:S,children:z(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):z()},null)}function Vd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(a){let e=F.useContext(ws);return ne(e,Vd(a)),e}function TA(a){let e=F.useContext(vc);return ne(e,Vd(a)),e}function AA(a){let e=F.useContext(si);return ne(e,Vd(a)),e}function Id(a){let e=AA(a),i=e.matches[e.matches.length-1];return ne(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function SA(){return Id("useRouteId")}function bA(){var s;let a=F.useContext(Dd),e=TA("useRouteError"),i=Id("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function RA(){let{router:a}=EA("useNavigate"),e=Id("useNavigate"),i=F.useRef(!1);return nv(()=>{i.current=!0}),F.useCallback(async(o,c={})=>{ni(i.current,ev),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Py={};function sv(a,e,i){!e&&!Py[a]&&(Py[a]=!0,ni(!1,i))}F.memo(wA);function wA({routes:a,future:e,state:i}){return av(a,void 0,i,e)}function Fu(a){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ne(!uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Rs(i));let{pathname:p="/",search:y="",hash:T="",state:S=null,key:R="default"}=i,M=F.useMemo(()=>{let L=Mi(p,d);return L==null?null:{location:{pathname:L,search:y,hash:T,state:S,key:R},navigationType:s}},[d,p,y,T,S,R,s]);return ni(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:F.createElement(ai.Provider,{value:g},F.createElement(oo.Provider,{children:e,value:M}))}function DA({children:a,location:e}){return mA(id(a),e)}function id(a,e=[]){let i=[];return F.Children.forEach(a,(s,o)=>{if(!F.isValidElement(s))return;let c=[...e,o];if(s.type===F.Fragment){i.push.apply(i,id(s.props.children,c));return}ne(s.type===Fu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=id(s.props.children,c)),i.push(d)}),i}var Ku="get",Yu="application/x-www-form-urlencoded";function Ec(a){return a!=null&&typeof a.tagName=="string"}function VA(a){return Ec(a)&&a.tagName.toLowerCase()==="button"}function IA(a){return Ec(a)&&a.tagName.toLowerCase()==="form"}function NA(a){return Ec(a)&&a.tagName.toLowerCase()==="input"}function xA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function OA(a,e){return a.button===0&&(!e||e==="_self")&&!xA(a)}var ku=null;function MA(){if(ku===null)try{new FormData(document.createElement("form"),0),ku=!1}catch{ku=!0}return ku}var UA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(a){return a!=null&&!UA.has(a)?(ni(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yu}"`),null):a}function LA(a,e){let i,s,o,c,d;if(IA(a)){let g=a.getAttribute("action");s=g?Mi(g,e):null,i=a.getAttribute("method")||Ku,o=Ff(a.getAttribute("enctype"))||Yu,c=new FormData(a)}else if(VA(a)||NA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Mi(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Ku,o=Ff(a.getAttribute("formenctype"))||Ff(g.getAttribute("enctype"))||Yu,c=new FormData(g,a),!MA()){let{name:y,type:T,value:S}=a;if(T==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,S)}}else{if(Ec(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ku,s=null,o=Yu,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Nd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function PA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function BA(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await PA(c,i);return d.links?d.links():[]}return[]}));return jA(s.flat(1).filter(zA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zy(a,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function kA(a,e,{includeHydrateFallback:i}={}){return qA(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function qA(a){return[...new Set(a)]}function HA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function jA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(HA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function GA(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function lv(){let a=F.useContext(ws);return Nd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function QA(){let a=F.useContext(vc);return Nd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var xd=F.createContext(void 0);xd.displayName="FrameworkContext";function ov(){let a=F.useContext(xd);return Nd(a,"You must render this element inside a <HydratedRouter> element"),a}function FA(a,e){let i=F.useContext(xd),[s,o]=F.useState(!1),[c,d]=F.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,R=F.useRef(null);F.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let X=Q=>{Q.forEach(it=>{d(it.isIntersecting)})},z=new IntersectionObserver(X,{threshold:.5});return R.current&&z.observe(R.current),()=>{z.disconnect()}}},[a]),F.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let M=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,R,{}]:[c,R,{onFocus:jl(g,M),onBlur:jl(p,L),onMouseEnter:jl(y,M),onMouseLeave:jl(T,L),onTouchStart:jl(S,M)}]:[!1,R,{}]}function jl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function KA({page:a,...e}){let{router:i}=lv(),s=F.useMemo(()=>Y_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?F.createElement(XA,{page:a,matches:s,...e}):null}function YA(a){let{manifest:e,routeModules:i}=ov(),[s,o]=F.useState([]);return F.useEffect(()=>{let c=!1;return BA(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function XA({page:a,matches:e,...i}){let s=ma(),{manifest:o,routeModules:c}=ov(),{basename:d}=lv(),{loaderData:g,matches:p}=QA(),y=F.useMemo(()=>zy(a,e,p,o,s,"data"),[a,e,p,o,s]),T=F.useMemo(()=>zy(a,e,p,o,s,"assets"),[a,e,p,o,s]),S=F.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,X=!1;if(e.forEach(Q=>{var W;let it=o.routes[Q.route.id];!it||!it.hasLoader||(!y.some(ht=>ht.route.id===Q.route.id)&&Q.route.id in g&&((W=c[Q.route.id])!=null&&W.shouldRevalidate)||it.hasClientLoader?X=!0:L.add(Q.route.id))}),L.size===0)return[];let z=GA(a,d);return X&&L.size>0&&z.searchParams.set("_routes",e.filter(Q=>L.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[z.pathname+z.search]},[d,g,s,o,y,e,a,c]),R=F.useMemo(()=>kA(T,o),[T,o]),M=YA(T);return F.createElement(F.Fragment,null,S.map(L=>F.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),R.map(L=>F.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),M.map(({key:L,link:X})=>F.createElement("link",{key:L,...X})))}function $A(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uv&&(window.__reactRouterVersion="7.5.0")}catch{}function ZA({basename:a,children:e,window:i}){let s=F.useRef();s.current==null&&(s.current=kT({window:i,v5Compat:!0}));let o=s.current,[c,d]=F.useState({action:o.action,location:o.location}),g=F.useCallback(p=>{F.startTransition(()=>d(p))},[d]);return F.useLayoutEffect(()=>o.listen(g),[o,g]),F.createElement(CA,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hv=F.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:S,...R},M){let{basename:L}=F.useContext(ai),X=typeof y=="string"&&cv.test(y),z,Q=!1;if(typeof y=="string"&&X&&(z=y,uv))try{let w=new URL(window.location.href),N=y.startsWith("//")?new URL(w.protocol+y):new URL(y),O=Mi(N.pathname,L);N.origin===w.origin&&O!=null?y=O+N.search+N.hash:Q=!0}catch{ni(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=fA(y,{relative:o}),[W,ht,ut]=FA(s,R),Rt=eS(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:S});function x(w){e&&e(w),w.defaultPrevented||Rt(w)}let b=F.createElement("a",{...R,...ut,href:z||it,onClick:Q||c?e:x,ref:$A(M,ht),target:p,"data-discover":!X&&i==="render"?"true":void 0});return W&&!X?F.createElement(F.Fragment,null,b,F.createElement(KA,{page:it})):b});hv.displayName="Link";var JA=F.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},T){let S=co(d,{relative:y.relative}),R=ma(),M=F.useContext(vc),{navigator:L,basename:X}=F.useContext(ai),z=M!=null&&sS(S)&&g===!0,Q=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,it=R.pathname,W=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(it=it.toLowerCase(),W=W?W.toLowerCase():null,Q=Q.toLowerCase()),W&&X&&(W=Mi(W,X)||W);const ht=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ut=it===Q||!o&&it.startsWith(Q)&&it.charAt(ht)==="/",Rt=W!=null&&(W===Q||!o&&W.startsWith(Q)&&W.charAt(Q.length)==="/"),x={isActive:ut,isPending:Rt,isTransitioning:z},b=ut?e:void 0,w;typeof s=="function"?w=s(x):w=[s,ut?"active":null,Rt?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(x):c;return F.createElement(hv,{...y,"aria-current":b,className:w,ref:T,style:N,to:d,viewTransition:g},typeof p=="function"?p(x):p)});JA.displayName="NavLink";var WA=F.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Ku,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:S,...R},M)=>{let L=rS(),X=aS(g,{relative:y}),z=d.toLowerCase()==="get"?"get":"post",Q=typeof g=="string"&&cv.test(g),it=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ht=W.nativeEvent.submitter,ut=(ht==null?void 0:ht.getAttribute("formmethod"))||d;L(ht||W.currentTarget,{fetcherKey:e,method:ut,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:S})};return F.createElement("form",{ref:M,method:z,action:X,onSubmit:s?p:it,...R,"data-discover":!Q&&a==="render"?"true":void 0})});WA.displayName="Form";function tS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fv(a){let e=F.useContext(ws);return ne(e,tS(a)),e}function eS(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=iv(),p=ma(),y=co(a,{relative:c});return F.useCallback(T=>{if(OA(T,e)){T.preventDefault();let S=i!==void 0?i:Jl(p)===Jl(y);g(a,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,s,e,a,o,c,d])}var nS=0,iS=()=>`__${String(++nS)}__`;function rS(){let{router:a}=fv("useSubmit"),{basename:e}=F.useContext(ai),i=SA();return F.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=LA(s,e);if(o.navigate===!1){let T=o.fetcherKey||iS();await a.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function aS(a,{relative:e}={}){let{basename:i}=F.useContext(ai),s=F.useContext(si);ne(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...co(a||".",{relative:e})},d=ma();if(a==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let T=g.toString();c.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Oi([i,c.pathname])),Jl(c)}function sS(a,e={}){let i=F.useContext(tv);ne(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fv("useViewTransitionState"),o=co(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Mi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Mi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ec(o.pathname,d)!=null||ec(o.pathname,c)!=null}new TextEncoder;const lS=()=>{};var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},oS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let R=(g&15)<<2|y>>6,M=y&63;p||(M=64,d||(R=64)),s.push(i[T],i[S],i[R],i[M])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(dv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):oS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new uS;const R=c<<2|g>>4;if(s.push(R),y!==64){const M=g<<4&240|y>>2;if(s.push(M),S!==64){const L=y<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cS=function(a){const e=dv(a);return mv.encodeByteArray(e,!0)},nc=function(a){return cS(a).replace(/\./g,"")},hS=function(a){try{return mv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof By>"u")return;const a=By.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},gS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&hS(a[1]);return e&&JSON.parse(e)},Od=()=>{try{return lS()||dS()||mS()||gS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},pS=a=>{var e,i;return(i=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},yS=a=>{const e=pS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},gv=()=>{var a;return(a=Od())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[nc(JSON.stringify(i)),nc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){var a;const e=(a=Od())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return!TS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="FirebaseError";class Cs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=RS,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?wS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,g,s)}}function wS(a,e){return a.replace(CS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CS=/\{\$([^}]+)}/g;function ic(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(ky(c)&&ky(d)){if(!ic(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function ky(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(a){return a&&a._delegate?a._delegate:a}class Wl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new _S;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(a){return a===ca?void 0:a}function IS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const xS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},OS=Pt.INFO,MS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},US=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=MS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=OS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const LS=(a,e)=>e.some(i=>a instanceof i);let qy,Hy;function PS(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,rd=new WeakMap,vv=new WeakMap,Kf=new WeakMap,Md=new WeakMap;function BS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(mr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&_v.set(i,a)}).catch(()=>{}),Md.set(e,a),e}function kS(a){if(rd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});rd.set(a,e)}let ad={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return rd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||vv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function qS(a){ad=a(ad)}function HS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Yf(this),e,...i);return vv.set(s,e.sort?e.sort():[e]),mr(s)}:zS().includes(a)?function(...e){return a.apply(Yf(this),e),mr(_v.get(this))}:function(...e){return mr(a.apply(Yf(this),e))}}function jS(a){return typeof a=="function"?HS(a):(a instanceof IDBTransaction&&kS(a),LS(a,PS())?new Proxy(a,ad):a)}function mr(a){if(a instanceof IDBRequest)return BS(a);if(Kf.has(a))return Kf.get(a);const e=jS(a);return e!==a&&(Kf.set(a,e),Md.set(e,a)),e}const Yf=a=>Md.get(a);function GS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=mr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(mr(d.result),p.oldVersion,p.newVersion,mr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const QS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],Xf=new Map;function jy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=FS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Xf.set(e,c),c}qS(a=>({...a,get:(e,i,s)=>jy(e,i)||a.get(e,i,s),has:(e,i)=>!!jy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function YS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",Gy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new yv("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",ZS="@firebase/analytics",JS="@firebase/app-check-compat",WS="@firebase/app-check",tb="@firebase/auth",eb="@firebase/auth-compat",nb="@firebase/database",ib="@firebase/data-connect",rb="@firebase/database-compat",ab="@firebase/functions",sb="@firebase/functions-compat",lb="@firebase/installations",ob="@firebase/installations-compat",ub="@firebase/messaging",cb="@firebase/messaging-compat",hb="@firebase/performance",fb="@firebase/performance-compat",db="@firebase/remote-config",mb="@firebase/remote-config-compat",gb="@firebase/storage",pb="@firebase/storage-compat",yb="@firebase/firestore",_b="@firebase/vertexai",vb="@firebase/firestore-compat",Eb="firebase",Tb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]",Ab={[sd]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[$S]:"fire-analytics-compat",[WS]:"fire-app-check",[JS]:"fire-app-check-compat",[tb]:"fire-auth",[eb]:"fire-auth-compat",[nb]:"fire-rtdb",[ib]:"fire-data-connect",[rb]:"fire-rtdb-compat",[ab]:"fire-fn",[sb]:"fire-fn-compat",[lb]:"fire-iid",[ob]:"fire-iid-compat",[ub]:"fire-fcm",[cb]:"fire-fcm-compat",[hb]:"fire-perf",[fb]:"fire-perf-compat",[db]:"fire-rc",[mb]:"fire-rc-compat",[gb]:"fire-gcs",[pb]:"fire-gcs-compat",[yb]:"fire-fst",[vb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,Sb=new Map,od=new Map;function Qy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ac(a){const e=a.name;if(od.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;od.set(e,a);for(const i of rc.values())Qy(i,a);for(const i of Sb.values())Qy(i,a);return!0}function bb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Rb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new pv("app","Firebase",wb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=Tb;function Ev(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ld,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=gv()),!i)throw gr.create("no-options");const c=rc.get(o);if(c){if(ic(i,c.options)&&ic(s,c.config))return c;throw gr.create("duplicate-app",{appName:o})}const d=new NS(o);for(const p of od.values())d.addComponent(p);const g=new Cb(i,s,d);return rc.set(o,g),g}function Vb(a=ld){const e=rc.get(a);if(!e&&a===ld&&gv())return Ev();if(!e)throw gr.create("no-app",{appName:a});return e}function gs(a,e,i){var s;let o=(s=Ab[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}ac(new Wl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebase-heartbeat-database",Nb=1,to="firebase-heartbeat-store";let $f=null;function Tv(){return $f||($f=GS(Ib,Nb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(a=>{throw gr.create("idb-open",{originalErrorMessage:a.message})})),$f}async function xb(a){try{const i=(await Tv()).transaction(to),s=await i.objectStore(to).get(Av(a));return await i.done,s}catch(e){if(e instanceof Cs)Ui.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Fy(a,e){try{const s=(await Tv()).transaction(to,"readwrite");await s.objectStore(to).put(e,Av(a)),await s.done}catch(i){if(i instanceof Cs)Ui.warn(i.message);else{const s=gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function Av(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=1024,Mb=30;class Ub{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Pb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ky();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Mb){const d=zb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ky(),{heartbeatsToSend:s,unsentEntries:o}=Lb(this._heartbeatsCache.heartbeats),c=nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ui.warn(i),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function Lb(a,e=Ob){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Yy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Pb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yy(a){return nc(JSON.stringify({version:2,heartbeats:a})).length}function zb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(a){ac(new Wl("platform-logger",e=>new KS(e),"PRIVATE")),ac(new Wl("heartbeat",e=>new Ub(e),"PRIVATE")),gs(sd,Gy,a),gs(sd,Gy,"esm2017"),gs("fire-js","")}Bb("");var kb="firebase",qb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(kb,qb,"app");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,Sv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function w(){}w.prototype=b.prototype,x.D=b.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(N,O,P){for(var D=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)D[Oe-2]=arguments[Oe];return b.prototype[O].apply(N,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,w){w||(w=0);var N=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)N[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;16>O;++O)N[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=x.g[0],w=x.g[1],O=x.g[2];var P=x.g[3],D=b+(P^w&(O^P))+N[0]+3614090360&4294967295;b=w+(D<<7&4294967295|D>>>25),D=P+(O^b&(w^O))+N[1]+3905402710&4294967295,P=b+(D<<12&4294967295|D>>>20),D=O+(w^P&(b^w))+N[2]+606105819&4294967295,O=P+(D<<17&4294967295|D>>>15),D=w+(b^O&(P^b))+N[3]+3250441966&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(P^w&(O^P))+N[4]+4118548399&4294967295,b=w+(D<<7&4294967295|D>>>25),D=P+(O^b&(w^O))+N[5]+1200080426&4294967295,P=b+(D<<12&4294967295|D>>>20),D=O+(w^P&(b^w))+N[6]+2821735955&4294967295,O=P+(D<<17&4294967295|D>>>15),D=w+(b^O&(P^b))+N[7]+4249261313&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(P^w&(O^P))+N[8]+1770035416&4294967295,b=w+(D<<7&4294967295|D>>>25),D=P+(O^b&(w^O))+N[9]+2336552879&4294967295,P=b+(D<<12&4294967295|D>>>20),D=O+(w^P&(b^w))+N[10]+4294925233&4294967295,O=P+(D<<17&4294967295|D>>>15),D=w+(b^O&(P^b))+N[11]+2304563134&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(P^w&(O^P))+N[12]+1804603682&4294967295,b=w+(D<<7&4294967295|D>>>25),D=P+(O^b&(w^O))+N[13]+4254626195&4294967295,P=b+(D<<12&4294967295|D>>>20),D=O+(w^P&(b^w))+N[14]+2792965006&4294967295,O=P+(D<<17&4294967295|D>>>15),D=w+(b^O&(P^b))+N[15]+1236535329&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(O^P&(w^O))+N[1]+4129170786&4294967295,b=w+(D<<5&4294967295|D>>>27),D=P+(w^O&(b^w))+N[6]+3225465664&4294967295,P=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(P^b))+N[11]+643717713&4294967295,O=P+(D<<14&4294967295|D>>>18),D=w+(P^b&(O^P))+N[0]+3921069994&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(O^P&(w^O))+N[5]+3593408605&4294967295,b=w+(D<<5&4294967295|D>>>27),D=P+(w^O&(b^w))+N[10]+38016083&4294967295,P=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(P^b))+N[15]+3634488961&4294967295,O=P+(D<<14&4294967295|D>>>18),D=w+(P^b&(O^P))+N[4]+3889429448&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(O^P&(w^O))+N[9]+568446438&4294967295,b=w+(D<<5&4294967295|D>>>27),D=P+(w^O&(b^w))+N[14]+3275163606&4294967295,P=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(P^b))+N[3]+4107603335&4294967295,O=P+(D<<14&4294967295|D>>>18),D=w+(P^b&(O^P))+N[8]+1163531501&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(O^P&(w^O))+N[13]+2850285829&4294967295,b=w+(D<<5&4294967295|D>>>27),D=P+(w^O&(b^w))+N[2]+4243563512&4294967295,P=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(P^b))+N[7]+1735328473&4294967295,O=P+(D<<14&4294967295|D>>>18),D=w+(P^b&(O^P))+N[12]+2368359562&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(w^O^P)+N[5]+4294588738&4294967295,b=w+(D<<4&4294967295|D>>>28),D=P+(b^w^O)+N[8]+2272392833&4294967295,P=b+(D<<11&4294967295|D>>>21),D=O+(P^b^w)+N[11]+1839030562&4294967295,O=P+(D<<16&4294967295|D>>>16),D=w+(O^P^b)+N[14]+4259657740&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(w^O^P)+N[1]+2763975236&4294967295,b=w+(D<<4&4294967295|D>>>28),D=P+(b^w^O)+N[4]+1272893353&4294967295,P=b+(D<<11&4294967295|D>>>21),D=O+(P^b^w)+N[7]+4139469664&4294967295,O=P+(D<<16&4294967295|D>>>16),D=w+(O^P^b)+N[10]+3200236656&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(w^O^P)+N[13]+681279174&4294967295,b=w+(D<<4&4294967295|D>>>28),D=P+(b^w^O)+N[0]+3936430074&4294967295,P=b+(D<<11&4294967295|D>>>21),D=O+(P^b^w)+N[3]+3572445317&4294967295,O=P+(D<<16&4294967295|D>>>16),D=w+(O^P^b)+N[6]+76029189&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(w^O^P)+N[9]+3654602809&4294967295,b=w+(D<<4&4294967295|D>>>28),D=P+(b^w^O)+N[12]+3873151461&4294967295,P=b+(D<<11&4294967295|D>>>21),D=O+(P^b^w)+N[15]+530742520&4294967295,O=P+(D<<16&4294967295|D>>>16),D=w+(O^P^b)+N[2]+3299628645&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(O^(w|~P))+N[0]+4096336452&4294967295,b=w+(D<<6&4294967295|D>>>26),D=P+(w^(b|~O))+N[7]+1126891415&4294967295,P=b+(D<<10&4294967295|D>>>22),D=O+(b^(P|~w))+N[14]+2878612391&4294967295,O=P+(D<<15&4294967295|D>>>17),D=w+(P^(O|~b))+N[5]+4237533241&4294967295,w=O+(D<<21&4294967295|D>>>11),D=b+(O^(w|~P))+N[12]+1700485571&4294967295,b=w+(D<<6&4294967295|D>>>26),D=P+(w^(b|~O))+N[3]+2399980690&4294967295,P=b+(D<<10&4294967295|D>>>22),D=O+(b^(P|~w))+N[10]+4293915773&4294967295,O=P+(D<<15&4294967295|D>>>17),D=w+(P^(O|~b))+N[1]+2240044497&4294967295,w=O+(D<<21&4294967295|D>>>11),D=b+(O^(w|~P))+N[8]+1873313359&4294967295,b=w+(D<<6&4294967295|D>>>26),D=P+(w^(b|~O))+N[15]+4264355552&4294967295,P=b+(D<<10&4294967295|D>>>22),D=O+(b^(P|~w))+N[6]+2734768916&4294967295,O=P+(D<<15&4294967295|D>>>17),D=w+(P^(O|~b))+N[13]+1309151649&4294967295,w=O+(D<<21&4294967295|D>>>11),D=b+(O^(w|~P))+N[4]+4149444226&4294967295,b=w+(D<<6&4294967295|D>>>26),D=P+(w^(b|~O))+N[11]+3174756917&4294967295,P=b+(D<<10&4294967295|D>>>22),D=O+(b^(P|~w))+N[2]+718787259&4294967295,O=P+(D<<15&4294967295|D>>>17),D=w+(P^(O|~b))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var w=b-this.blockSize,N=this.B,O=this.h,P=0;P<b;){if(O==0)for(;P<=w;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<b;)if(N[O++]=x.charCodeAt(P++),O==this.blockSize){o(this,N),O=0;break}}else for(;P<b;)if(N[O++]=x[P++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var w=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=w&255,w/=256;for(this.u(x),x=Array(16),b=w=0;4>b;++b)for(var N=0;32>N;N+=8)x[w++]=this.g[b]>>>N&255;return x};function c(x,b){var w=g;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=b(x)}function d(x,b){this.h=b;for(var w=[],N=!0,O=x.length-1;0<=O;O--){var P=x[O]|0;N&&P==b||(w[O]=P,N=!1)}this.g=w}var g={};function p(x){return-128<=x&&128>x?c(x,function(b){return new d([b|0],0>b?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return z(y(-x));for(var b=[],w=1,N=0;x>=w;N++)b[N]=x/w|0,w*=4294967296;return new d(b,0)}function T(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return z(T(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),N=S,O=0;O<x.length;O+=8){var P=Math.min(8,x.length-O),D=parseInt(x.substring(O,O+P),b);8>P?(P=y(Math.pow(b,P)),N=N.j(P).add(y(D))):(N=N.j(w),N=N.add(y(D)))}return N}var S=p(0),R=p(1),M=p(16777216);a=d.prototype,a.m=function(){if(X(this))return-z(this).m();for(var x=0,b=1,w=0;w<this.g.length;w++){var N=this.i(w);x+=(0<=N?N:4294967296+N)*b,b*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(X(this))return"-"+z(this).toString(x);for(var b=y(Math.pow(x,6)),w=this,N="";;){var O=ht(w,b).g;w=Q(w,O.j(b));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=O,L(w))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function X(x){return x.h==-1}a.l=function(x){return x=Q(this,x),X(x)?-1:L(x)?0:1};function z(x){for(var b=x.g.length,w=[],N=0;N<b;N++)w[N]=~x.g[N];return new d(w,~x.h).add(R)}a.abs=function(){return X(this)?z(this):this},a.add=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0,O=0;O<=b;O++){var P=N+(this.i(O)&65535)+(x.i(O)&65535),D=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);N=D>>>16,P&=65535,D&=65535,w[O]=D<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(x,b){return x.add(z(b))}a.j=function(x){if(L(this)||L(x))return S;if(X(this))return X(x)?z(this).j(z(x)):z(z(this).j(x));if(X(x))return z(this.j(z(x)));if(0>this.l(M)&&0>x.l(M))return y(this.m()*x.m());for(var b=this.g.length+x.g.length,w=[],N=0;N<2*b;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<x.g.length;O++){var P=this.i(N)>>>16,D=this.i(N)&65535,Oe=x.i(O)>>>16,re=x.i(O)&65535;w[2*N+2*O]+=D*re,it(w,2*N+2*O),w[2*N+2*O+1]+=P*re,it(w,2*N+2*O+1),w[2*N+2*O+1]+=D*Oe,it(w,2*N+2*O+1),w[2*N+2*O+2]+=P*Oe,it(w,2*N+2*O+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function it(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function W(x,b){this.g=x,this.h=b}function ht(x,b){if(L(b))throw Error("division by zero");if(L(x))return new W(S,S);if(X(x))return b=ht(z(x),b),new W(z(b.g),z(b.h));if(X(b))return b=ht(x,z(b)),new W(z(b.g),b.h);if(30<x.g.length){if(X(x)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,N=b;0>=N.l(x);)w=ut(w),N=ut(N);var O=Rt(w,1),P=Rt(N,1);for(N=Rt(N,2),w=Rt(w,2);!L(N);){var D=P.add(N);0>=D.l(x)&&(O=O.add(w),P=D),N=Rt(N,1),w=Rt(w,1)}return b=Q(x,O.j(b)),new W(O,b)}for(O=S;0<=x.l(b);){for(w=Math.max(1,Math.floor(x.m()/b.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=y(w),D=P.j(b);X(D)||0<D.l(x);)w-=N,P=y(w),D=P.j(b);L(P)&&(P=R),O=O.add(P),x=Q(x,D)}return new W(O,x)}a.A=function(x){return ht(this,x).h},a.and=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)&x.i(N);return new d(w,this.h&x.h)},a.or=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)|x.i(N);return new d(w,this.h|x.h)},a.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)^x.i(N);return new d(w,this.h^x.h)};function ut(x){for(var b=x.g.length+1,w=[],N=0;N<b;N++)w[N]=x.i(N)<<1|x.i(N-1)>>>31;return new d(w,x.h)}function Rt(x,b){var w=b>>5;b%=32;for(var N=x.g.length-w,O=[],P=0;P<N;P++)O[P]=0<b?x.i(P+w)>>>b|x.i(P+w+1)<<32-b:x.i(P+w);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,pr=d}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bv,Gl,Rv,Xu,ud,wv,Cv,Dv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var B=u[A];if(!(B in _))break t;_=_[B]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,B={next:function(){if(!A&&_<u.length){var G=_++;return{value:m(G,u[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function R(u,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,R.apply(null,arguments)}function M(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,B,G){for(var rt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)rt[Ot-2]=arguments[Ot];return m.prototype[B].apply(A,rt)}}function X(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function z(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=u.length||0,G=A.length||0;u.length=B+G;for(let rt=0;rt<G;rt++)u[B+rt]=A[rt]}else u.push(A)}}class Q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ht(u){return ht[" "](u),u}ht[" "]=function(){};var ut=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Rt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)u[_]=A[_];for(let G=0;G<w.length;G++)_=w[G],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function O(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function D(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,_){const A=re.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Q(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,Bt=new Oe,V=()=>{const u=g.Promise.resolve(void 0);at=()=>{u.then(tt)}};var tt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){P(_)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Dt(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ut){t:{try{ht(m.nodeName);var B=!0;break t}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}L(Dt,nt);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Mn(u,m,_,A,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=B,this.key=++Zt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,_,A,B){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var rt=Dr(u,m,A,B);return-1<rt?(m=u[rt],_||(m.fa=!1)):(m=new Mn(m,this.src,G,!!A,B),m.fa=_,u.push(m)),m};function Cr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],B=Array.prototype.indexOf.call(A,m,void 0),G;(G=0<=B)&&Array.prototype.splice.call(A,B,1),G&&(zi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Dr(u,m,_,A){for(var B=0;B<u.length;++B){var G=u[B];if(!G.da&&G.listener==m&&G.capture==!!_&&G.ha==A)return B}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),xs={};function po(u,m,_,A,B){if(Array.isArray(m)){for(var G=0;G<m.length;G++)po(u,m[G],_,A,B);return null}return _=yo(_),u&&u[we]?u.K(m,_,y(A)?!!A.capture:!1,B):gn(u,m,_,!1,A,B)}function gn(u,m,_,A,B,G){if(!m)throw Error("Invalid event type");var rt=y(B)?!!B.capture:!!B,Ot=_a(u);if(Ot||(u[Vr]=Ot=new li(u)),_=Ot.add(m,_,A,rt,G),_.proxy)return _;if(A=zc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)gt||(B=rt),B===void 0&&(B=!1),u.addEventListener(m.toString(),A,B);else if(u.attachEvent)u.attachEvent(Ir(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zc(){function u(_){return m.call(u.src,u.listener,_)}const m=Bc;return u}function Os(u,m,_,A,B){if(Array.isArray(m))for(var G=0;G<m.length;G++)Os(u,m[G],_,A,B);else A=y(A)?!!A.capture:!!A,_=yo(_),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],_=Dr(G,_,A,B),-1<_&&(zi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=_a(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,_,A,B)),(_=-1<u?m[u]:null)&&ya(_))}function ya(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Cr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Ir(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=_a(m))?(Cr(_,u),_.h==0&&(_.src=null,m[Vr]=null)):zi(u)}}}function Ir(u){return u in xs?xs[u]:xs[u]="on"+u}function Bc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&ya(u),u=_.call(A,m)}return u}function _a(u){return u=u[Vr],u instanceof li?u:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function yo(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(m){return u.handleEvent(m)}),u[Ms])}function ae(){st.call(this),this.i=new li(this),this.M=this,this.F=null}L(ae,st),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(u,m,_,A){Os(this,u,m,_,A)};function jt(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var B=m;m=new nt(A,u),N(m,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var rt=m.g=_[G];B=an(rt,A,!0,m)&&B}if(rt=m.g=u,B=an(rt,A,!0,m)&&B,B=an(rt,A,!1,m)&&B,_)for(G=0;G<_.length;G++)rt=m.g=_[G],B=an(rt,A,!1,m)&&B}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)zi(_[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ae.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function an(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,G=0;G<m.length;++G){var rt=m[G];if(rt&&!rt.da&&rt.capture==_){var Ot=rt.listener,ve=rt.ha||rt.src;rt.fa&&Cr(u.i,rt),B=Ot.call(ve,A)!==!1&&B}}return B&&!A.defaultPrevented}function He(u,m,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function _o(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends st{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){st.call(this),this.h=u,this.g={}}L(Nr,st);var xr=[];function Or(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&ya(m)},u),u.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Or(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,va=g.JSON.parse,Mr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function Ls(u){return u.h||(u.h=u.i())}function Ps(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){nt.call(this,"d")}L(ui,nt);function zs(){nt.call(this,"c")}L(zs,nt);var Un={},Bs=null;function Bi(){return Bs=Bs||new ae}Un.La="serverreachability";function Ea(u){nt.call(this,Un.La,u)}L(Ea,nt);function ki(u){const m=Bi();jt(m,new Ea(m))}Un.STAT_EVENT="statevent";function vo(u,m){nt.call(this,Un.STAT_EVENT,u),this.stat=m}L(vo,nt);function Wt(u){const m=Bi();jt(m,new vo(m,u))}Un.Ma="timingevent";function _e(u,m){nt.call(this,Un.Ma,u),this.size=m}L(_e,nt);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ks(u,m,_,A,B,G){u.info(function(){if(u.g)if(G)for(var rt="",Ot=G.split("&"),ve=0;ve<Ot.length;ve++){var Mt=Ot[ve].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Ee=De.split("_");rt=2<=Ee.length&&Ee[1]=="type"?rt+(De+"="+Mt+"&"):rt+(De+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+m+`
`+_+`
`+rt})}function qc(u,m,_,A,B,G,rt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+m+`
`+_+`
`+G+" "+rt})}function qi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ur(u,_)+(A?" "+A:"")})}function Eo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Ur(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<B.length;rt++)B[rt]=""}}}}return Dn(_)}catch{return m}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Pn(){}L(Pn,Us),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},Ln=new Pn;function Ye(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var qs={},Ta={};function Vn(u,m,_){u.L=1,u.v=kr(sn(m)),u.m=_,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Lr(u),u.A=sn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ks(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ue,u.g=Lo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new kc(R(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(xr[0]=B.toString()),B=xr);for(var G=0;G<B.length;G++){var rt=po(_,B[G],A||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ki(),ks(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=En(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=vi?ki(3):ki(2)),ji(this);var _=this.g.Z();this.X=_;e:if(To(this)){var A=Do(this.g);u="";var B=A.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),zn(this);var rt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(G&&m==B-1)});A.length=0,this.h.g+=u,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,qc(this.i,this.u,this.A,this.l,this.R,Ee,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ve=this.g;if((Ot=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,_);else{this.o=!1,this.s=3,Wt(12),Me(this),zn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=Ao(this,rt),Ue==Ta){Ee==4&&(this.s=4,Wt(14),_=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==qs){this.s=4,Wt(15),qi(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else qi(this.i,this.l,Ue,null),Pr(this,Ue);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||rt.length!=0||this.h.h||(this.s=1,Wt(16),_=!1),this.o=this.o&&_,!_)qi(this.i,this.l,rt,"[Invalid Chunked Response]"),Me(this),zn(this);else if(0<rt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Yr(De),De.M=!0,Wt(11))}}else qi(this.i,this.l,rt,null),Pr(this,rt);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?Oo(this.j,this):(this.o=!1,Lr(this)))}else Fc(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),zn(this)}}}catch{}finally{}};function To(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ao(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Ta:(_=Number(m.substring(_,A)),isNaN(_)?qs:(A+=1,A+_>m.length?Ta:(m=m.slice(A,A+_),u.C=A+_,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Lr(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(R(u.ba,u),m)}function ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Eo(this.i,this.A),this.L!=2&&(ki(),Wt(17)),Me(this),this.s=2,zn(this)):So(this,this.S-u)};function zn(u){u.j.G==0||u.J||Oo(u.j,u)}function Me(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Or(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Pr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Hs(_.h,u))){if(!u.K&&Hs(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Oa(_),Na(_);else break t;Js(_),Wt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(R(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((u.K||_.g==u)&&Oa(_),!it(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let Mt=B[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const De=Mt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ee=Mt[4];Ee!=null&&(_.Aa=Ee,_.j.info("SVER="+_.Aa));const vi=Mt[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Qn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var G=A.h;G.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ba(G,G.h),G.h=null))}if(A.D){const tl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(A.ya=tl,Ft(A.I,A.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=u;if(A.qa=Uo(A,A.J?A.ia:null,A.W),rt.K){Xe(A.h,rt);var Ot=rt,ve=A.L;ve&&(Ot.I=ve),Ot.B&&(ji(Ot),Lr(Ot)),A.g=rt}else No(A);0<_.i.length&&xa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||_i(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?_i(_,7):$s(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}ki(4)}catch{}}var bo=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sa(u){return u.h?1:u.g?u.g.size:0}function Hs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ba(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function js(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return X(u.i)}function Hc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Ra(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Gs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ra(u),A=Hc(u),B=A.length,G=0;G<B;G++)m.call(void 0,A[G],_&&_[G],u)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),B=null;if(0<=A){var G=u[_].substring(0,A);B=u[_].substring(A+1)}else G=u[_];m(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,_=new mi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),di(this,_),this.m=u.m}else u&&(m=String(u).match(zr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Gi(this,m[4]),this.l=yn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,Qs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,Qs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(qr(_,_.charAt(0)=="/"?Gc:Fs,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",qr(_,wa)),u.join("")};function sn(u){return new me(u)}function Br(u,m,_){u.j=_?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,_){m instanceof mi?(u.i=m,wo(u.i,u.h)):(_||(m=qr(m,Qc)),u.i=new mi(m,u.h))}function Ft(u,m,_){u.i.set(m,_)}function kr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Ro),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ro(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qs=/[#\/\?@]/g,Fs=/[#\?:]/g,Gc=/[#\?]/g,Qc=/[#\?@]/g,wa=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=mi.prototype,a.add=function(u,m){_n(this),this.i=null,u=Bn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function gi(u,m){_n(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return _n(u),m=Bn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(B){u.call(m,B,A,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const B=u[A];for(let G=0;G<B.length;G++)_.push(m[A])}return _},a.V=function(u){_n(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return _n(this),this.i=null,u=Bn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ks(u,m,_){gi(u,m),0<_.length&&(u.i=null,u.g.set(Bn(u,m),X(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const G=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var B=G;rt[A]!==""&&(B+="="+encodeURIComponent(String(rt[A]))),u.push(B)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(gi(this,A),Ks(this,B,_))},u)),u.j=m}function Hr(u,m){const _=new pn;if(g.Image){const A=new Image;A.onload=M(vn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=M(vn,_,"TestLoadImage: error",!1,m,A),A.onabort=M(vn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=M(vn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function In(u,m){const _=new pn,A=new AbortController,B=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function jr(){this.g=new Mr}function kn(u,m,_){const A=_||"";try{Gs(u,function(B,G){let rt=B;y(B)&&(rt=Dn(B)),m.push(A+G+"="+encodeURIComponent(rt))})}catch(B){throw m.push(A+"type="+encodeURIComponent("_badmap")),B}}function Qi(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Qi,Us),Qi.prototype.g=function(){return new yi(this.l,this.j)},Qi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(yi,ae),a=yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ys(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ys(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Hn(this),this.readyState==3&&Ys(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},a.Qa=function(u){this.g&&(this.response=u,qn(this))},a.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let m="";return Rt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Xs(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ft(u,m,_))}function qt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(qt,ae);var Ca=/^https?$/i,Gr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ls(this.o):Ls(Ln),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Co(this,G);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Gr,m,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of _)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Co(this,G)}};function Co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Da(u),jn(u)}function Da(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),jn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},a.bb=function(){Va(this)};function Va(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(jt(u,"readystatechange"),En(u)==4){u.h=!1;try{const rt=u.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=rt===0){var B=String(u.D).match(zr)[1]||null;!B&&g.self&&g.self.location&&(B=g.self.location.protocol.slice(0,-1)),A=!Ca.test(B?B.toLowerCase():"")}_=A}if(_)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var G=2<En(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Da(u)}}finally{jn(u)}}}}function jn(u,m){if(u.g){Qr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{_.onreadystatechange=A}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),va(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(it(u[A]))continue;var _=O(u[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=m[B]||[];m[B]=G,G.push(_)}x(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,u),this.cb=Fr("retryDelaySeedMs",1e4,u),this.Wa=Fr("forwardChannelMaxRetries",2,u),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ia.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){Wt(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Uo(this,null,this.W),xa(this)};function $s(u){if(Vo(u),u.G==3){var m=u.U++,_=sn(u.I);if(Ft(_,"SID",u.K),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),Kr(u,_),m=new Ye(u,u.j,m),m.L=2,m.v=kr(sn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lr(m)}Mo(u)}function Na(u){u.g&&(Yr(u),u.g.cancel(),u.g=null)}function Vo(u){Na(u),u.u&&(g.clearTimeout(u.u),u.u=null),Oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function xa(u){if(!Aa(u.h)&&!u.s){u.s=!0;var m=u.Ga;at||V(),ft||(at(),ft=!0),Bt.add(m,u),u.B=0}}function Kc(u,m){return Sa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(R(u.Ga,u,m),Ws(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Ye(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Io(this,B,m),_=sn(this.I),Ft(_,"RID",u),Ft(_,"CVER",22),this.D&&Ft(_,"X-HTTP-Session-Id",this.D),Kr(this,_),G&&(this.O?m="headers="+encodeURIComponent(String(Xs(G)))+"&"+m:this.m&&Ce(_,this.m,G)),ba(this.h,B),this.Ua&&Ft(_,"TYPE","init"),this.P?(Ft(_,"$req",m),Ft(_,"SID","null"),B.T=!0,Vn(B,_,null)):Vn(B,_,m),this.G=2}}else this.G==3&&(u?Zs(this,u):this.i.length==0||Aa(this.h)||Zs(this))};function Zs(u,m){var _;m?_=m.l:_=u.U++;const A=sn(u.I);Ft(A,"SID",u.K),Ft(A,"RID",_),Ft(A,"AID",u.T),Kr(u,A),u.m&&u.o&&Ce(A,u.m,u.o),_=new Ye(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Io(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ba(u.h,_),Vn(_,A,m)}function Kr(u,m){u.H&&Rt(u.H,function(_,A){Ft(m,A,_)}),u.l&&Gs({},function(_,A){Ft(m,A,_)})}function Io(u,m,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var B=u.i;let G=-1;for(;;){const rt=["count="+_];G==-1?0<_?(G=B[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let Ot=!0;for(let ve=0;ve<_;ve++){let Mt=B[ve].g;const De=B[ve].map;if(Mt-=G,0>Mt)G=Math.max(0,B[ve].g-100),Ot=!1;else try{kn(De,rt,"req"+Mt+"_")}catch{A&&A(De)}}if(Ot){A=rt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function No(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;at||V(),ft||(at(),ft=!0),Bt.add(m,u),u.v=0}}function Js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(R(u.Fa,u),Ws(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(R(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Na(this),xo(this))};function Yr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=kr(sn(m)),_.m=null,_.P=!0,hi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Na(this),Js(this),Wt(19))};function Oa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Oo(u,m){var _=null;if(u.g==m){Oa(u),Yr(u),u.g=null;var A=2}else if(Hs(u.h,m))_=m.D,Xe(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;A=Bi(),jt(A,new _e(A,_)),xa(u)}else No(u);else if(B=m.s,B==3||B==0&&0<m.X||!(A==1&&Kc(u,m)||A==2&&Js(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Ws(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var _=R(u.fb,u),A=u.Xa;const B=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Br(A,"https"),kr(A),B?Hr(A.toString(),_):In(A.toString(),_)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Mo(u),Vo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Mo(u){if(u.G=0,u.ka=[],u.l){const m=js(u.h);(m.length!=0||u.i.length!=0)&&(z(u.ka,m),z(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function Uo(u,m,_){var A=_ instanceof me?sn(_):new me(_);if(A.g!="")m&&(A.g=m+"."+A.g),Gi(A,A.s);else{var B=g.location;A=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var G=new me(null);A&&Br(G,A),m&&(G.g=m),B&&Gi(G,B),_&&(G.l=_),A=G}return _=u.D,m=u.ya,_&&m&&Ft(A,_,m),Ft(A,"VER",u.la),Kr(u,A),A}function Lo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Qi({eb:_})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}a=Po.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ma(){}Ma.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ae.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!it(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!it(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}L($e,ae),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){$s(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Dn(u),u=_);m.i.push(new bo(m.Ya++,u)),m.G==3&&xa(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,$e.aa.N.call(this)};function zo(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(zo,ui);function Bo(){zs.call(this),this.status=1}L(Bo,zs);function Gn(u){this.g=u}L(Gn,Po),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new zo(u))},Gn.prototype.sa=function(u){jt(this.g,new Bo)},Gn.prototype.ra=function(){jt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Dv=function(){return new Ma},Cv=function(){return Bi()},wv=Un,ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Xu=Hi,ci.COMPLETE="complete",Rv=ci,Ps.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Gl=Ps,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,bv=qt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",Zy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new yv("@firebase/firestore");function us(){return fa.logLevel}function lt(a,...e){if(fa.logLevel<=Pt.DEBUG){const i=e.map(Ud);fa.debug(`Firestore (${Ds}): ${a}`,...i)}}function Li(a,...e){if(fa.logLevel<=Pt.ERROR){const i=e.map(Ud);fa.error(`Firestore (${Ds}): ${a}`,...i)}}function ys(a,...e){if(fa.logLevel<=Pt.WARN){const i=e.map(Ud);fa.warn(`Firestore (${Ds}): ${a}`,...i)}}function Ud(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+a;throw Li(e),new Error(e)}function Ht(a,e){a||Et()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class jb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Gb{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string"),new Vv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Fe(e)}}class Qb{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Qb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Rb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new Jy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Yb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function cd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=Iv(),d=Xb(c.encode(Wy(a,i)),c.encode(Wy(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,e.length)}function Wy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function Xb(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Ct(a[i],e[i]);return Ct(a.length,e.length)}function _s(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,e_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*e_);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<t_)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new be(0,0))}static max(){return new At(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class Zn{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(),s===void 0?s=e.length-i:s>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Zn.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=Zn.isNumericId(e),o=Zn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):cd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class oe extends Zn{construct(e,i,s){return new oe(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const $b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Zn{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return $b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new ke([n_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(oe.fromString(e))}static fromName(e){return new yt(oe.fromString(e).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return oe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function Zb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new vr(o,yt.empty(),e)}function Jb(a){return new vr(a.readTime,a.key,eo)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(At.min(),yt.empty(),eo)}static max(){return new vr(At.max(),yt.empty(),eo)}}function Wb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(a){if(a.code!==et.FAILED_PRECONDITION||a.message!==t1)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):J.reject(i)}static resolve(e){return new J((i,s)=>{i(e)})}static reject(e){return new J((i,s)=>{s(e)})}static waitFor(e){return new J((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next(o=>o?J.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new J((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===c&&s(d)},T=>o(T))}})}static doWhile(e,i){return new J((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function n1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Tc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function Ac(a){return a==null}function sc(a){return a===0&&1/a==-1/0}function i1(a){return typeof a=="number"&&Number.isInteger(a)&&!sc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="";function r1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=i_(e)),e=a1(a.get(i),e);return i_(e)}function a1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case xv:i+="";break;default:i+=c}}return i}function i_(a){return a+xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Rr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Ov(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Mv("Invalid base64 string: "+c):c}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const s1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(a){if(Ht(!!a),typeof a=="string"){let e=0;const i=s1.exec(a);if(Ht(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="server_timestamp",Lv="__type__",Pv="__previous_value__",zv="__local_write_time__";function Pd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lv])===null||i===void 0?void 0:i.stringValue)===Uv}function Sc(a){const e=a.mapValue.fields[Pv];return Pd(e)?Sc(e):e}function no(a){const e=Er(a.mapValue.fields[zv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i,s,o,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const lc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||lc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===lc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__type__",o1="__max__",ju={mapValue:{}},kv="__vector__",oc="value";function Ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Pd(a)?4:c1(a)?9007199254740991:u1(a)?10:11:Et()}function ii(a,e){if(a===e)return!0;const i=Ar(a);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return no(a).isEqual(no(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),g=Er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return fe(o.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return fe(o.integerValue)===fe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=fe(o.doubleValue),g=fe(c.doubleValue);return d===g?sc(d)===sc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return _s(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(r_(d)!==r_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ii(d[p],g[p])))return!1;return!0}(a,e);default:return Et()}}function ro(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function vs(a,e){if(a===e)return 0;const i=Ar(a),s=Ar(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const g=fe(c.integerValue||c.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return s_(a.timestampValue,e.timestampValue);case 4:return s_(no(a),no(e));case 5:return cd(a.stringValue,e.stringValue);case 6:return function(c,d){const g=Tr(c),p=Tr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Ct(g[y],p[y]);if(T!==0)return T}return Ct(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ct(fe(c.latitude),fe(d.latitude));return g!==0?g:Ct(fe(c.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return l_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,T;const S=c.fields||{},R=d.fields||{},M=(g=S[oc])===null||g===void 0?void 0:g.arrayValue,L=(p=R[oc])===null||p===void 0?void 0:p.arrayValue,X=Ct(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return X!==0?X:l_(M,L)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===ju.mapValue&&d===ju.mapValue)return 0;if(c===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const R=cd(p[S],T[S]);if(R!==0)return R;const M=vs(g[p[S]],y[T[S]]);if(M!==0)return M}return Ct(p.length,T.length)}(a.mapValue,e.mapValue);default:throw Et()}}function s_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Er(a),s=Er(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function l_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=vs(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function Es(a){return hd(a)}function hd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Er(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Tr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return yt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=hd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${hd(i.fields[d])}`;return o+"}"}(a.mapValue):Et()}function $u(a){switch(Ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(a);return e?16+$u(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+$u(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Rr(s.fields,(c,d)=>{o+=c.length+$u(d)}),o}(a.mapValue);default:throw Et()}}function fd(a){return!!a&&"integerValue"in a}function zd(a){return!!a&&"arrayValue"in a}function o_(a){return!!a&&"nullValue"in a}function u_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Zu(a){return!!a&&"mapValue"in a}function u1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bv])===null||i===void 0?void 0:i.stringValue)===kv}function Yl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Rr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Yl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function c1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===o1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Zu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Yl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Rr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new nn(Yl(this.value))}}function qv(a){const e=[];return Rr(a.fields,(i,s)=>{const o=new ke([i]);if(Zu(s)){const c=qv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,At.min(),At.min(),At.min(),nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,At.min(),At.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,At.min(),At.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.position=e,this.inclusive=i}}function c_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=yt.comparator(yt.fromName(d.referenceValue),i.key):s=vs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function h_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i="asc"){this.field=e,this.dir=i}}function h1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{}class Se extends Hv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new d1(e,i,s):i==="array-contains"?new p1(e,s):i==="in"?new y1(e,s):i==="not-in"?new _1(e,s):i==="array-contains-any"?new v1(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new m1(e,s):new g1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(vs(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Hv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return jv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jv(a){return a.op==="and"}function Gv(a){return f1(a)&&jv(a)}function f1(a){for(const e of a.filters)if(e instanceof ri)return!1;return!0}function dd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Es(a.value);if(Gv(a))return a.filters.map(e=>dd(e)).join(",");{const e=a.filters.map(i=>dd(i)).join(",");return`${a.op}(${e})`}}function Qv(a,e){return a instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&Qv(d,o.filters[g]),!0):!1}(a,e):void Et()}function Fv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`}(a):a instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(Fv).join(" ,")+"}"}(a):"Filter"}class d1 extends Se{constructor(e,i,s){super(e,i,s),this.key=yt.fromName(s.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class m1 extends Se{constructor(e,i){super(e,"in",i),this.keys=Kv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class g1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Kv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Kv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>yt.fromName(s.referenceValue))}class p1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zd(i)&&ro(i.arrayValue,this.value)}}class y1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class _1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ro(this.value.arrayValue,i)}}class v1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function f_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new E1(a,e,i,s,o,c,d)}function Bd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>dd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Es(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Es(s)).join(",")),e.le=i}return e.le}function kd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!h1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Qv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!h_(a.startAt,e.startAt)&&h_(a.endAt,e.endAt)}function md(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function T1(a,e,i,s,o,c,d,g){return new bc(a,e,i,s,o,c,d,g)}function Rc(a){return new bc(a)}function d_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function A1(a){return a.collectionGroup!==null}function Xl(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new cc(c,s))}),i.has(ke.keyField().canonicalString())||e.he.push(new cc(ke.keyField(),s))}return e.he}function Jn(a){const e=St(a);return e.Pe||(e.Pe=S1(e,Xl(a))),e.Pe}function S1(a,e){if(a.limitType==="F")return f_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new cc(o.field,c)});const i=a.endAt?new uc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new uc(a.startAt.position,a.startAt.inclusive):null;return f_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function gd(a,e,i){return new bc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function wc(a,e){return kd(Jn(a),Jn(e))&&a.limitType===e.limitType}function Yv(a){return`${Bd(Jn(a))}|lt:${a.limitType}`}function cs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Fv(o)).join(", ")}]`),Ac(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Es(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Es(o)).join(",")),`Target(${s})`}(Jn(a))}; limitType=${a.limitType})`}function Cc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):yt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of Xl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=c_(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Xl(s),o)||s.endAt&&!function(d,g,p){const y=c_(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Xl(s),o))}(a,e)}function b1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Xv(a){return(e,i)=>{let s=!1;for(const o of Xl(a)){const c=R1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function R1(a,e,i){const s=a.field.isKeyField()?yt.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?vs(p,y):Et()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new ie(yt.comparator);function Pi(){return w1}const $v=new ie(yt.comparator);function Ql(...a){let e=$v;for(const i of a)e=e.insert(i.key,i);return e}function Zv(a){let e=$v;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ha(){return $l()}function Jv(){return $l()}function $l(){return new ga(a=>a.toString(),(a,e)=>a.isEqual(e))}const C1=new ie(yt.comparator),D1=new Re(yt.comparator);function xt(...a){let e=D1;for(const i of a)e=e.add(i);return e}const V1=new Re(Ct);function I1(){return V1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function Wv(a){return{integerValue:""+a}}function N1(a,e){return i1(e)?Wv(e):qd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function x1(a,e,i){return a instanceof hc?function(o,c){const d={fields:{[Lv]:{stringValue:Uv},[zv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pd(c)&&(c=Sc(c)),c&&(d.fields[Pv]=c),{mapValue:d}}(i,e):a instanceof ao?e0(a,e):a instanceof so?n0(a,e):function(o,c){const d=t0(o,c),g=m_(d)+m_(o.Ie);return fd(d)&&fd(o.Ie)?Wv(g):qd(o.serializer,g)}(a,e)}function O1(a,e,i){return a instanceof ao?e0(a,e):a instanceof so?n0(a,e):i}function t0(a,e){return a instanceof fc?function(s){return fd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class hc extends Dc{}class ao extends Dc{constructor(e){super(),this.elements=e}}function e0(a,e){const i=i0(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class so extends Dc{constructor(e){super(),this.elements=e}}function n0(a,e){let i=i0(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class fc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function m_(a){return fe(a.integerValue||a.doubleValue)}function i0(a){return zd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function M1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ao&&o instanceof ao||s instanceof so&&o instanceof so?_s(s.elements,o.elements,ii):s instanceof fc&&o instanceof fc?ii(s.Ie,o.Ie):s instanceof hc&&o instanceof hc}(a.transform,e.transform)}class U1{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Vc{}function r0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new s0(a.key,Wn.none()):new ho(a.key,a.data,Wn.none());{const i=a.data,s=nn.empty();let o=new Re(ke.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new wr(a.key,s,new mn(o.toArray()),Wn.none())}}function L1(a,e,i){a instanceof ho?function(o,c,d){const g=o.value.clone(),p=p_(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof wr?function(o,c,d){if(!Ju(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=p_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(a0(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof ho?function(c,d,g,p){if(!Ju(c.precondition,d))return g;const y=c.value.clone(),T=y_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof wr?function(c,d,g,p){if(!Ju(c.precondition,d))return g;const y=y_(c.fieldTransforms,p,d),T=d.data;return T.setAll(a0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(c,d,g){return Ju(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function P1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=t0(s.transform,o||null);c!=null&&(i===null&&(i=nn.empty()),i.set(s.field,c))}return i||null}function g_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(c,d)=>M1(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ho extends Vc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends Vc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function a0(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function p_(a,e,i){const s=new Map;Ht(a.length===i.length);for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,O1(d,g,i[o]))}return s}function y_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,x1(c,d,e))}return s}class s0 extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z1 extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&L1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Jv();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=r0(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>g_(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>g_(i,s))}}class Hd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length);let o=function(){return C1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Hd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Lt;function H1(a){switch(a){case et.OK:return Et();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et()}}function l0(a){if(a===void 0)return Li("GRPC error has no .code"),et.UNKNOWN;switch(a){case ye.OK:return et.OK;case ye.CANCELLED:return et.CANCELLED;case ye.UNKNOWN:return et.UNKNOWN;case ye.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ye.INTERNAL:return et.INTERNAL;case ye.UNAVAILABLE:return et.UNAVAILABLE;case ye.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ye.NOT_FOUND:return et.NOT_FOUND;case ye.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ye.ABORTED:return et.ABORTED;case ye.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ye.DATA_LOSS:return et.DATA_LOSS;default:return Et()}}(Lt=ye||(ye={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new pr([4294967295,4294967295],0);function __(a){const e=Iv().encode(a),i=new Sv;return i.update(e),new Uint8Array(i.digest())}function v_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,s],0),new pr([o,c],0)]}class jd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=pr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(pr.fromNumber(s)));return o.compare(j1)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=__(e),[s,o]=v_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new jd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=__(e),[s,o]=v_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ic(At.min(),o,new ie(Ct),Pi(),xt())}}class fo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class o0{constructor(e,i){this.targetId=e,this.ge=i}}class u0{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class E_{constructor(){this.pe=0,this.ye=T_(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xt(),i=xt(),s=xt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new fo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=T_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class G1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=Gu(),this.Ue=Gu(),this.Ke=new ie(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(md(c))if(s===0){const d=new yt(c.path);this.ze(i,d,Ke.newNoDocument(d,At.min()))}else Ht(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Tr(s).toUint8Array()}catch(p){if(p instanceof Mv)return ys("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new jd(d,o,c)}catch(p){return ys(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&md(g.target)){const p=new yt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=xt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Ic(e,i,this.Ke,this.Qe,s);return this.Qe=Pi(),this.$e=Gu(),this.Ue=Gu(),this.Ke=new ie(Ct),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new E_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(Ct),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new E_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Gu(){return new ie(yt.comparator)}function T_(){return new ie(yt.comparator)}const Q1={asc:"ASCENDING",desc:"DESCENDING"},F1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K1={and:"AND",or:"OR"};class Y1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pd(a,e){return a.useProto3Json||Ac(e)?e:{value:e}}function dc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function X1(a,e){return dc(a,e.toTimestamp())}function ti(a){return Ht(!!a),At.fromTimestamp(function(i){const s=Er(i);return new be(s.seconds,s.nanos)}(a))}function Gd(a,e){return yd(a,e).canonicalString()}function yd(a,e){const i=function(o){return new oe(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function h0(a){const e=oe.fromString(a);return Ht(p0(e)),e}function _d(a,e){return Gd(a.databaseId,e.path)}function Zf(a,e){const i=h0(e);if(i.get(1)!==a.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(d0(i))}function f0(a,e){return Gd(a.databaseId,e)}function $1(a){const e=h0(a);return e.length===4?oe.emptyPath():d0(e)}function vd(a){return new oe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function d0(a){return Ht(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function A_(a,e,i){return{name:_d(a,e),fields:i.value.mapValue.fields}}function Z1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string"),qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qe.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?et.UNKNOWN:l0(y.code);return new mt(T,y.message||"")}(d);i=new u0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zf(a,s.document.name),c=ti(s.document.updateTime),d=s.document.createTime?ti(s.document.createTime):At.min(),g=new nn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Wu(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zf(a,s.document),c=s.readTime?ti(s.readTime):At.min(),d=Ke.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Wu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zf(a,s.document),c=s.removedTargetIds||[];i=new Wu([],c,o,null)}else{if(!("filter"in e))return Et();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new q1(o,c),g=s.targetId;i=new o0(g,d)}}return i}function J1(a,e){let i;if(e instanceof ho)i={update:A_(a,e.key,e.value)};else if(e instanceof s0)i={delete:_d(a,e.key)};else if(e instanceof wr)i={update:A_(a,e.key,e.data),updateMask:lR(e.fieldMask)};else{if(!(e instanceof z1))return Et();i={verify:_d(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:X1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et()}(a,e.precondition)),i}function W1(a,e){return a&&a.length>0?(Ht(e!==void 0),a.map(i=>function(o,c){let d=o.updateTime?ti(o.updateTime):ti(c);return d.isEqual(At.min())&&(d=ti(c)),new U1(d,o.transformResults||[])}(i,e))):[]}function tR(a,e){return{documents:[f0(a,e.path)]}}function eR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=f0(a,o);const c=function(y){if(y.length!==0)return g0(ri.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(R){return{field:hs(R.field),direction:rR(R.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function nR(a){let e=$1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=function(S){const R=m0(S);return R instanceof ri&&Gv(R)?R.getFilters():[R]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(R=>function(L){return new cc(fs(L.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(i.orderBy));let g=null;i.limit&&(g=function(S){let R;return R=typeof S=="object"?S.value:S,Ac(R)?null:R}(i.limit));let p=null;i.startAt&&(p=function(S){const R=!!S.before,M=S.values||[];return new uc(M,R)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const R=!S.before,M=S.values||[];return new uc(M,R)}(i.endAt)),T1(e,o,d,c,g,"F",p,y)}function iR(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function m0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=fs(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fs(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fs(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(fs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>m0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(a):Et()}function rR(a){return Q1[a]}function aR(a){return F1[a]}function sR(a){return K1[a]}function hs(a){return{fieldPath:a.canonicalString()}}function fs(a){return ke.fromServerFormat(a.fieldPath)}function g0(a){return a instanceof Se?function(i){if(i.op==="=="){if(u_(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NAN"}};if(o_(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(u_(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NAN"}};if(o_(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(i.field),op:aR(i.op),value:i.value}}}(a):a instanceof ri?function(i){const s=i.getFilters().map(o=>g0(o));return s.length===1?s[0]:{compositeFilter:{op:sR(i.op),filters:s}}}(a):Et()}function lR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function p0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s,o,c=At.min(),d=At.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.Tt=e}}function uR(a){const e=nR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.Tn=new hR}addToCollectionParentIndex(e,i){return this.Tn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(vr.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class hR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(oe.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y0=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(y0,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ts(0)}static Kn(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LruGarbageCollector",fR=1048576;function R_([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class dR{constructor(e){this.Hn=e,this.buffer=new Re(R_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();R_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(b_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?lt(b_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.er(3e5)})}}class gR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Tc.ae);const s=new dR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(S_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),us()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function pR(a,e){return new gR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.changes=new ga(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,mn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=ha();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Ql();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ha();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=Pi();const d=$l(),g=function(){return $l()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof wr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Zl(T.mutation,y,T.mutation.getFieldMask(),be.now())):d.set(y.key,mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var S;return g.set(y,new _R(T,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ie((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||mn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const S=(o.get(g.batchId)||xt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,S=Jv();T.forEach(R=>{if(!c.has(R)){const M=r0(i.get(R),s.get(R));M!==null&&S.set(R,M),c=c.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):A1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):J.resolve(ha());let g=eo,p=c;return d.next(y=>J.forEach(y,(T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,xt())).next(T=>({batchId:g,changes:Zv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,c).next(g=>J.forEach(g,p=>{const y=function(S,R){return new bc(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((S,R)=>{d=d.insert(S,R)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let g=Ql();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&Zl(T.mutation,y,mn.empty(),be.now()),Cc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return J.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}}(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:uR(o.bundledQuery),readTime:ti(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.overlays=new ie(yt.comparator),this.Rr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ha();return J.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=ha(),c=i.length+1,d=new yt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ie((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=ha(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ha(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return J.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new k1(i,s));let c=this.Rr.get(i);c===void 0&&(c=xt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Vr=new Re(xe.mr),this.gr=new Re(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new yt(new oe([])),s=new xe(i,e),o=new xe(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new yt(new oe([])),s=new xe(i,e),o=new xe(i,e+1);let c=xt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return yt.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||yt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(xe.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new B1(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ld:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Ct);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;yt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new yt(c),0);let g=new Re(Ct);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),J.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.kr=e,this.docs=function(){return new ie(yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Pi();const d=i.path,g=new yt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Wb(Jb(T),s)<=0||(o.has(T.key)||Cc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Et()}qr(e,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new RR(this)}getSize(e){return J.resolve(this.size)}}class RR extends yR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.persistence=e,this.Qr=new ga(i=>Bd(i),kd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qd,this.targetCount=0,this.Kr=Ts.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),J.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.zn(i),J.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),J.waitFor(c).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Tc(0),this.zr=!1,this.zr=!0,this.jr=new AR,this.referenceDelegate=e(this),this.Hr=new wR(this),this.indexManager=new cR,this.remoteDocumentCache=function(o){return new bR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new oR(i),this.Yr=new ER(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new TR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new SR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new CR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class CR extends e1{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.ti=new Qd,this.ni=null}static ri(e){return new Fd(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),J.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return J.or([()=>J.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class mc{constructor(e,i){this.persistence=e,this.oi=new ga(s=>r1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=pR(this,i)}static ri(e,i){return new mc(e,i)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?J.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=$u(e.data.value)),i}ar(e,i,s){return J.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=xt(),o=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Kd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AS()?8:n1(ES())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new DR;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(us()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(us()<=Pt.DEBUG&&lt("QueryEngine","Query:",cs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(us()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):J.resolve())}rs(e,i){if(d_(i))return J.resolve(null);let s=Jn(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=gd(i,null,"F"),s=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=xt(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,gd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return d_(i)||o.isEqual(At.min())?J.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?J.resolve(null):(us()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cs(i)),this.hs(e,d,i,Zb(o,eo)).next(g=>g))})}cs(e,i){let s=new Re(Xv(e));return i.forEach((o,c)=>{Cc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return us()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",cs(i)),this.ns.getDocumentsMatchingQuery(e,i,vr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="LocalStore",IR=3e8;class NR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ie(Ct),this.Is=new ga(c=>Bd(c),kd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function xR(a,e,i,s){return new NR(a,e,i,s)}async function v0(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=xt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function OR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const S=y.batch,R=S.keys();let M=J.resolve();return R.forEach(L=>{M=M.next(()=>T.getEntry(p,L)).next(X=>{const z=y.docVersions.get(L);Ht(z!==null),X.version.compareTo(z)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),T.addEntry(X)))})}),M.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function E0(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function MR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,S)=>{const R=o.get(S);if(!R)return;g.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,S)));let M=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(S,M),function(X,z,Q){return X.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=IR?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(R,M,T)&&g.push(i.Hr.updateTargetData(c,M))});let p=Pi(),y=xt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(UR(c,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(At.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return J.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function UR(a,e,i){let s=xt(),o=xt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=Pi();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):lt(Yd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function LR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ld),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function PR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,J.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ed(a,e,i){const s=St(a),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Is(d))throw d;lt(Yd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function w_(a,e,i){const s=St(a);let o=At.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const S=St(p),R=S.Is.get(T);return R!==void 0?J.resolve(S.Ts.get(R)):S.Hr.getTargetData(y,T)}(s,d,Jn(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:xt())).next(g=>(zR(s,b1(e),g),{documents:g,gs:c})))}function zR(a,e,i){let s=a.Es.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(e,s)}class C_{constructor(){this.activeTargetIds=I1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(){this.ho=new C_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new C_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="ConnectivityMonitor";class V_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Td(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Td(),g=this.bo(e,i.toUriEncodedString());lt(Jf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,s).then(y=>(lt(Jf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw ys(Jf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=qR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class GR extends HR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Td();return new Promise((d,g)=>{const p=new bv;p.setWithCredentials(!0),p.listenOnce(Rv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xu.NO_ERROR:const T=p.getResponseJson();lt(Qe,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Xu.TIMEOUT:lt(Qe,`RPC '${e}' ${c} timed out`),g(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const S=p.getStatus();if(lt(Qe,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R==null?void 0:R.error;if(M&&M.status&&M.message){const L=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Q)>=0?Q:et.UNKNOWN}(M.status);g(new mt(L,M.message))}else g(new mt(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new mt(et.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{lt(Qe,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);lt(Qe,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Td(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Dv(),g=Cv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");lt(Qe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=d.createWebChannel(T,p);let R=!1,M=!1;const L=new jR({Fo:z=>{M?lt(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(lt(Qe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),lt(Qe,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Mo:()=>S.close()}),X=(z,Q,it)=>{z.listen(Q,W=>{try{it(W)}catch(ht){setTimeout(()=>{throw ht},0)}})};return X(S,Gl.EventType.OPEN,()=>{M||(lt(Qe,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),X(S,Gl.EventType.CLOSE,()=>{M||(M=!0,lt(Qe,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),X(S,Gl.EventType.ERROR,z=>{M||(M=!0,ys(Qe,`RPC '${e}' stream ${o} transport errored:`,z),L.Uo(new mt(et.UNAVAILABLE,"The operation could not be completed")))}),X(S,Gl.EventType.MESSAGE,z=>{var Q;if(!M){const it=z.data[0];Ht(!!it);const W=it,ht=(W==null?void 0:W.error)||((Q=W[0])===null||Q===void 0?void 0:Q.error);if(ht){lt(Qe,`RPC '${e}' stream ${o} received error:`,ht);const ut=ht.status;let Rt=function(w){const N=ye[w];if(N!==void 0)return l0(N)}(ut),x=ht.message;Rt===void 0&&(Rt=et.INTERNAL,x="Unknown error status: "+ut+" with message "+ht.message),M=!0,L.Uo(new mt(Rt,x)),S.close()}else lt(Qe,`RPC '${e}' stream ${o} received:`,it),L.Ko(it)}}),X(g,wv.STAT_EVENT,z=>{z.stat===ud.PROXY?lt(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===ud.NOPROXY&&lt(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(a){return new Y1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class A0{constructor(e,i,s,o,c,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new T0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QR extends A0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=Z1(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ti(d.readTime):At.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=vd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=md(p)?{documents:tR(c,p)}:{query:eR(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=c0(c,d.resumeToken);const y=pd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=dc(c,d.snapshotVersion.toTimestamp());const y=pd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=iR(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=vd(this.serializer),i.removeTarget=e,this.I_(i)}}class FR extends A0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=W1(e.writeResults,e.commitTime),s=ti(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=vd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>J1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{}class YR extends KR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,yd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(et.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,yd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(et.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class XR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class $R{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{pa(this)&&(lt(da,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await mo(y),y.j_.set("Unknown"),y.W_.delete(4),await xc(y)}(this))})}),this.j_=new XR(s,o)}}async function xc(a){if(pa(a))for(const e of a.G_)await e(!0)}async function mo(a){for(const e of a.G_)await e(!1)}function S0(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Jd(i)?Zd(i):Ns(i).c_()&&$d(i,e))}function Xd(a,e){const i=St(a),s=Ns(i);i.K_.delete(e),s.c_()&&b0(i,e),i.K_.size===0&&(s.c_()?s.P_():pa(i)&&i.j_.set("Unknown"))}function $d(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).y_(e)}function b0(a,e){a.H_.Ne(e),Ns(a).w_(e)}function Zd(a){a.H_=new G1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.j_.B_()}function Jd(a){return pa(a)&&!Ns(a).u_()&&a.K_.size>0}function pa(a){return St(a).W_.size===0}function R0(a){a.H_=void 0}async function ZR(a){a.j_.set("Online")}async function JR(a){a.K_.forEach((e,i)=>{$d(a,e)})}async function WR(a,e){R0(a),Jd(a)?(a.j_.q_(e),Zd(a)):a.j_.set("Unknown")}async function tw(a,e,i){if(a.j_.set("Online"),e instanceof u0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){lt(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gc(a,s)}else if(e instanceof Wu?a.H_.We(e):e instanceof o0?a.H_.Ze(e):a.H_.je(e),!i.isEqual(At.min()))try{const s=await E0(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.K_.get(y);T&&c.K_.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=c.K_.get(p);if(!T)return;c.K_.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),b0(c,p);const S=new dr(T.target,p,y,T.sequenceNumber);$d(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(da,"Failed to raise snapshot:",s),await gc(a,s)}}async function gc(a,e,i){if(!Is(e))throw e;a.W_.add(1),await mo(a),a.j_.set("Offline"),i||(i=()=>E0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(da,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await xc(a)})}function w0(a,e){return e().catch(i=>gc(a,i,e))}async function Oc(a){const e=St(a),i=Sr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ld;for(;ew(e);)try{const o=await LR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,nw(e,o)}catch(o){await gc(e,o)}C0(e)&&D0(e)}function ew(a){return pa(a)&&a.U_.length<10}function nw(a,e){a.U_.push(e);const i=Sr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function C0(a){return pa(a)&&!Sr(a).u_()&&a.U_.length>0}function D0(a){Sr(a).start()}async function iw(a){Sr(a).C_()}async function rw(a){const e=Sr(a);for(const i of a.U_)e.b_(i.mutations)}async function aw(a,e,i){const s=a.U_.shift(),o=Hd.from(s,e,i);await w0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Oc(a)}async function sw(a,e){e&&Sr(a).S_&&await async function(s,o){if(function(d){return H1(d)&&d!==et.ABORTED}(o.code)){const c=s.U_.shift();Sr(s).h_(),await w0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Oc(s)}}(a,e),C0(a)&&D0(a)}async function N_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),lt(da,"RemoteStore received new credentials");const s=pa(i);i.W_.add(3),await mo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await xc(i)}async function lw(a,e){const i=St(a);e?(i.W_.delete(2),await xc(i)):e||(i.W_.add(2),await mo(i),i.j_.set("Unknown"))}function Ns(a){return a.J_||(a.J_=function(i,s,o){const c=St(i);return c.M_(),new QR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:ZR.bind(null,a),No:JR.bind(null,a),Lo:WR.bind(null,a),p_:tw.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Jd(a)?Zd(a):a.j_.set("Unknown")):(await a.J_.stop(),R0(a))})),a.J_}function Sr(a){return a.Y_||(a.Y_=function(i,s,o){const c=St(i);return c.M_(),new FR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:iw.bind(null,a),Lo:sw.bind(null,a),D_:rw.bind(null,a),v_:aw.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Oc(a)):(await a.Y_.stop(),a.U_.length>0&&(lt(da,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Wd(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Is(a))return new mt(et.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.Z_=new ie(yt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ps.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uw{constructor(){this.queries=O_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=O_(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function O_(){return new ga(a=>Yv(a),wc)}async function V0(a,e){const i=St(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new ow,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tm(d,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&em(i)}async function I0(a,e){const i=St(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function cw(a,e){const i=St(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&em(i)}function hw(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function em(a){a.ia.forEach(e=>{e.next()})}var Ad,M_;(M_=Ad||(Ad={}))._a="default",M_.Cache="cache";class N0{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.key=e}}class O0{constructor(e){this.key=e}}class fw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=Xv(e),this.wa=new ps(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new x_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const R=o.get(T),M=Cc(this.query,S)?S:null,L=!!R&&this.mutatedKeys.has(R.key),X=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let z=!1;R&&M?R.data.isEqual(M.data)?L!==X&&(s.track({type:3,doc:M}),z=!0):this.va(R,M)||(s.track({type:2,doc:M}),z=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(g=!0)):!R&&M?(s.track({type:0,doc:M}),z=!0):R&&!M&&(s.track({type:1,doc:R}),z=!0,(p||y)&&(g=!0)),z&&(M?(d=d.add(M),c=X?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,S)=>function(M,L){const X=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return X(M)-X(L)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new As(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new x_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new O0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new x0(s))}),i}Oa(e){this.fa=e.gs,this.pa=xt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return As.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const nm="SyncEngine";class dw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class mw{constructor(e){this.key=e,this.Ba=!1}}class gw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ga(g=>Yv(g),wc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(yt.comparator),this.Ua=new Map,this.Ka=new Qd,this.Wa={},this.Ga=new Map,this.za=Ts.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pw(a,e,i=!0){const s=B0(a);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await M0(s,e,i,!0),o}async function yw(a,e){const i=B0(a);await M0(i,e,!0,!1)}async function M0(a,e,i,s){const o=await PR(a.localStore,Jn(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await _w(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&S0(a.remoteStore,o),g}async function _w(a,e,i,s,o){a.Ha=(S,R,M)=>async function(X,z,Q,it){let W=z.view.ba(Q);W.ls&&(W=await w_(X.localStore,z.query,!1).then(({documents:x})=>z.view.ba(x,W)));const ht=it&&it.targetChanges.get(z.targetId),ut=it&&it.targetMismatches.get(z.targetId)!=null,Rt=z.view.applyChanges(W,X.isPrimaryClient,ht,ut);return L_(X,z.targetId,Rt.Ma),Rt.snapshot}(a,S,R,M);const c=await w_(a.localStore,e,!0),d=new fw(e,c.gs),g=d.ba(c.documents),p=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);L_(a,i,y.Ma);const T=new dw(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function vw(a,e,i){const s=St(a),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!wc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ed(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Xd(s.remoteStore,o.targetId),Sd(s,o.targetId)}).catch(Vs)):(Sd(s,o.targetId),await Ed(s.localStore,o.targetId,!0))}async function Ew(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Xd(i.remoteStore,s.targetId))}async function Tw(a,e,i){const s=Dw(a);try{const o=await function(d,g){const p=St(d),y=be.now(),T=g.reduce((M,L)=>M.add(L.key),xt());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=Pi(),X=xt();return p.ds.getEntries(M,T).next(z=>{L=z,L.forEach((Q,it)=>{it.isValidDocument()||(X=X.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,L)).next(z=>{S=z;const Q=[];for(const it of g){const W=P1(it,S.get(it.key).overlayedDocument);W!=null&&Q.push(new wr(it.key,W,qv(W.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Q,g)}).next(z=>{R=z;const Q=z.applyToLocalDocumentSet(S,X);return p.documentOverlayCache.saveOverlays(M,z.batchId,Q)})}).then(()=>({batchId:R.batchId,changes:Zv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ie(Ct)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await go(s,o.changes),await Oc(s.remoteStore)}catch(o){const c=tm(o,"Failed to persist write");i.reject(c)}}async function U0(a,e){const i=St(a);try{const s=await MR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ht(d.Ba):o.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await go(i,s,e)}catch(s){await Vs(s)}}function U_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((T,S)=>{for(const R of S.ta)R.sa(g)&&(y=!0)}),y&&em(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Aw(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new ie(yt.comparator);d=d.insert(c,Ke.newNoDocument(c,At.min()));const g=xt().add(c),p=new Ic(At.min(),new Map,new ie(Ct),d,g);await U0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),im(s)}else await Ed(s.localStore,e,!1).then(()=>Sd(s,e,i)).catch(Vs)}async function Sw(a,e){const i=St(a),s=e.batch.batchId;try{const o=await OR(i.localStore,e);P0(i,s,null),L0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Vs(o)}}async function bw(a,e,i){const s=St(a);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(Ht(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);P0(s,e,i),L0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Vs(o)}}function L0(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function P0(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Sd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||z0(a,s)})}function z0(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Xd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),im(a))}function L_(a,e,i){for(const s of i)s instanceof x0?(a.Ka.addReference(s.key,e),Rw(a,s)):s instanceof O0?(lt(nm,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||z0(a,s.key)):Et()}function Rw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(lt(nm,"New document in limbo: "+i),a.Qa.add(s),im(a))}function im(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new yt(oe.fromString(e)),s=a.za.next();a.Ua.set(s,new mw(i)),a.$a=a.$a.insert(i,s),S0(a.remoteStore,new dr(Jn(Rc(i.path)),s,"TargetPurposeLimboResolution",Tc.ae))}}async function go(a,e,i){const s=St(a),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Kd.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(y,R=>J.forEach(R.Hi,M=>T.persistence.referenceDelegate.addReference(S,R.targetId,M)).next(()=>J.forEach(R.Ji,M=>T.persistence.referenceDelegate.removeReference(S,R.targetId,M)))))}catch(S){if(!Is(S))throw S;lt(Yd,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const M=T.Ts.get(R),L=M.snapshotVersion,X=M.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(R,X)}}}(s.localStore,c))}async function ww(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){lt(nm,"User change. New user:",e.toKey());const s=await v0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new mt(et.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.Rs)}}function Cw(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function B0(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=U0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aw.bind(null,e),e.La.p_=cw.bind(null,e.eventManager),e.La.Ja=hw.bind(null,e.eventManager),e}function Dw(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bw.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return xR(this.persistence,new VR,e.initialUser,this.serializer)}Xa(e){return new _0(Fd.ri,this.serializer)}Za(e){return new BR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class Vw extends pc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof mc);const s=this.persistence.referenceDelegate.garbageCollector;return new mR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new _0(s=>mc.ri(s,i),this.serializer)}}class bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ww.bind(null,this.syncEngine),await lw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uw}()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),s=function(c){return new GR(c)}(e.databaseInfo);return function(c,d,g,p){return new YR(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new $R(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>U_(this.syncEngine,i,0),function(){return V_.D()?new V_:new kR}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,T){const S=new gw(o,c,d,g,p,y);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=St(o);lt(da,"RemoteStore shutting down."),c.W_.add(5),await mo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}bd.provider={build:()=>new bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class Iw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{lt(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=tm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function td(a,e){a.asyncQueue.verifyOperationInProgress(),lt(br,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await v0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function P_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Nw(a);lt(br,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>N_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>N_(e.remoteStore,o)),a._onlineComponents=e}async function Nw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(br,"Using user provided OfflineComponentProvider");try{await td(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await td(a,new pc)}}else lt(br,"Using default OfflineComponentProvider"),await td(a,new Vw(void 0));return a._offlineComponents}async function q0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(br,"Using user provided OnlineComponentProvider"),await P_(a,a._uninitializedComponentsProvider._online)):(lt(br,"Using default OnlineComponentProvider"),await P_(a,new bd))),a._onlineComponents}function xw(a){return q0(a).then(e=>e.syncEngine)}async function Rd(a){const e=await q0(a),i=e.eventManager;return i.onListen=pw.bind(null,e.syncEngine),i.onUnlisten=vw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ew.bind(null,e.syncEngine),i}function Ow(a,e,i={}){const s=new yr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const T=new k0({next:R=>{T.su(),d.enqueueAndForget(()=>I0(c,S));const M=R.docs.has(g);!M&&R.fromCache?y.reject(new mt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&p&&p.source==="server"?y.reject(new mt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new N0(Rc(g.path),T,{includeMetadataChanges:!0,Ta:!0});return V0(c,S)}(await Rd(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(a,e,i){if(!i)throw new mt(et.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Uw(a,e,i,s){if(e===!0&&s===!0)throw new mt(et.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function B_(a){if(!yt.isDocumentKey(a))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function rm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et()}function ei(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rm(a);throw new mt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firestore.googleapis.com",k_=!0;class q_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j0,this.ssl=k_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:k_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fR)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Hb;switch(s.type){case"firstParty":return new Fb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=z_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),z_.delete(i),s.terminate())}(this),Promise.resolve()}}function Lw(a,e,i,s={}){var o;const c=(a=ei(a,am))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==j0&&c.host!==g&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!ic(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Fe.MOCK_USER;else{y=vS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(S)}a._authCredentials=new jb(new Vv(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class rn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class lo extends Mc{constructor(e,i,s){super(e,i,Rc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new yt(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function ds(a,e,...i){if(a=_r(a),arguments.length===1&&(e=Nv.newId()),Mw("doc","path",e),a instanceof am){const s=oe.fromString(e,...i);return B_(s),new rn(a,null,new yt(s))}{if(!(a instanceof rn||a instanceof lo))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(oe.fromString(e,...i));return B_(s),new rn(a.firestore,a instanceof lo?a.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new T0(this,"async_queue_retry"),this.Su=()=>{const s=Wf();s&&lt(H_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Is(e))throw e;lt(H_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Li("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Wd.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function G_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(a,["next","error","complete"])}class Ss extends am{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new j_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function Pw(a,e){const i=typeof a=="object"?a:Vb(),s=typeof a=="string"?a:lc,o=bb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=yS("firestore");c&&Lw(o,...c)}return o}function sm(a){if(a._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||zw(a),a._firestoreClient}function zw(a){var e,i,s;const o=a._freezeSettings(),c=function(g,p,y,T){return new l1(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,H0(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Iw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(qe.fromBase64String(e))}catch(i){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new bs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=/^__.*__$/;class kw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class G0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Q0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class cm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Q0(this.Lu)&&Bw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(e)}ju(e,i,s,o=!1){return new cm({Lu:e,methodName:i,zu:s,path:ke.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F0(a){const e=a._freezeSettings(),i=Nc(a._databaseId);return new qw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Hw(a,e,i,s,o,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,e,i,o);hm("Data must be an object, but it was:",d,s);const g=K0(s,d);let p,y;if(c.merge)p=new mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const R=wd(e,S,i);if(!d.contains(R))throw new mt(et.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);X0(T,R)||T.push(R)}p=new mn(T),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new kw(new nn(g),p,y)}class Lc extends lm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lc}}function jw(a,e,i,s){const o=a.ju(1,e,i);hm("Data must be an object, but it was:",o,s);const c=[],d=nn.empty();Rr(s,(p,y)=>{const T=fm(e,p,i);y=_r(y);const S=o.Uu(T);if(y instanceof Lc)c.push(T);else{const R=Pc(y,S);R!=null&&(c.push(T),d.set(T,R))}});const g=new mn(c);return new G0(d,g,o.fieldTransforms)}function Gw(a,e,i,s,o,c){const d=a.ju(1,e,i),g=[wd(e,s,i)],p=[o];if(c.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)g.push(wd(e,c[R])),p.push(c[R+1]);const y=[],T=nn.empty();for(let R=g.length-1;R>=0;--R)if(!X0(y,g[R])){const M=g[R];let L=p[R];L=_r(L);const X=d.Uu(M);if(L instanceof Lc)y.push(M);else{const z=Pc(L,X);z!=null&&(y.push(M),T.set(M,z))}}const S=new mn(y);return new G0(T,S,d.fieldTransforms)}function Pc(a,e){if(Y0(a=_r(a)))return hm("Unsupported field value:",e,a),K0(a,e);if(a instanceof lm)return function(s,o){if(!Q0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=Pc(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=_r(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:dc(o.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dc(o.serializer,c)}}if(s instanceof om)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bs)return{bytesValue:c0(o.serializer,s._byteString)};if(s instanceof rn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof um)return function(d,g){return{mapValue:{fields:{[Bv]:{stringValue:kv},[oc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return qd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${rm(s)}`)}(a,e)}function K0(a,e){const i={};return Ov(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(a,(s,o)=>{const c=Pc(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function Y0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof om||a instanceof bs||a instanceof rn||a instanceof lm||a instanceof um)}function hm(a,e,i){if(!Y0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=rm(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function wd(a,e,i){if((e=_r(e))instanceof Uc)return e._internalPath;if(typeof e=="string")return fm(a,e);throw yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Qw=new RegExp("[~\\*/\\[\\]]");function fm(a,e,i){if(e.search(Qw)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Uc(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function yc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,g+a+p)}function X0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Z0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Fw extends $0{data(){return super.data()}}function Z0(a,e){return typeof e=="string"?fm(a,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yw{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[oc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new um(c)}convertGeoPoint(e){return new om(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Sc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Er(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=oe.fromString(e);Ht(p0(s));const o=new io(s.get(1),s.get(3)),c=new yt(s.popFirst(5));return o.isEqual(i)||Li(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J0 extends $0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Z0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class tc extends J0{data(e={}){return super.data(e)}}class $w{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new tc(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new tc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new tc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Zw(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Zw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(a){a=ei(a,rn);const e=ei(a.firestore,Ss);return Ow(sm(e),a._key).then(i=>nE(e,a,i))}class W0 extends Yw{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function Ww(a,e,i){a=ei(a,rn);const s=ei(a.firestore,Ss),o=Xw(a.converter,e);return eE(s,[Hw(F0(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Wn.none())])}function ed(a,e,i,...s){a=ei(a,rn);const o=ei(a.firestore,Ss),c=F0(o);let d;return d=typeof(e=_r(e))=="string"||e instanceof Uc?Gw(c,"updateDoc",a._key,e,i,s):jw(c,"updateDoc",a._key,e),eE(o,[d.toMutation(a._key,Wn.exists(!0))])}function tE(a,...e){var i,s,o;a=_r(a);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||G_(e[d])||(c=e[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(G_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,T;if(a instanceof rn)y=ei(a.firestore,Ss),T=Rc(a._key.path),p={next:S=>{e[d]&&e[d](nE(y,a,S))},error:e[d+1],complete:e[d+2]};else{const S=ei(a,Mc);y=ei(S.firestore,Ss),T=S._query;const R=new W0(y);p={next:M=>{e[d]&&e[d](new $w(y,R,S,M))},error:e[d+1],complete:e[d+2]},Kw(a._query)}return function(R,M,L,X){const z=new k0(X),Q=new N0(M,z,L);return R.asyncQueue.enqueueAndForget(async()=>V0(await Rd(R),Q)),()=>{z.su(),R.asyncQueue.enqueueAndForget(async()=>I0(await Rd(R),Q))}}(sm(y),T,g,p)}function eE(a,e){return function(s,o){const c=new yr;return s.asyncQueue.enqueueAndForget(async()=>Tw(await xw(s),o,c)),c.promise}(sm(a),e)}function nE(a,e,i){const s=i.docs.get(e._key),o=new W0(a);return new J0(a,o,e._key,s,new Kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ds=o})(Db),ac(new Wl("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ss(new Gb(s.getProvider("auth-internal")),new Kb(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),gs($y,Zy,e),gs($y,Zy,"esm2017")})();const t2={apiKey:"AIzaSyD1PdpuW0WkZbQytZfYSJQ1JCeqcr4DNCE",authDomain:"high-low-game-ff568.firebaseapp.com",projectId:"high-low-game-ff568",storageBucket:"high-low-game-ff568.firebasestorage.app",messagingSenderId:"459362458752",appId:"1:459362458752:web:c151ad73644cfe3b281a65"},e2=Ev(t2),ms=Pw(e2);function n2(){return Math.random().toString(36).substring(2,8).toUpperCase()}function i2(){const[a,e]=F.useState(""),i=iv(),s=async()=>{const d=n2();await Ww(ds(ms,"rooms",d),{currentCard:c(),declaration:"",betPoint:0}),i(`/host/${d}`)},o=()=>{a.trim()!==""&&i(`/guest/${a.trim().toUpperCase()}`)},c=()=>{const d=["1","2","3","4","5","6","7","8","9","10","J","Q","K"];return d[Math.floor(Math.random()*d.length)]+"_of_spades"};return dt.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white",children:[dt.jsx("h1",{className:"text-4xl font-bold mb-6",children:"High & Low "}),dt.jsx("button",{onClick:s,className:"mb-4 px-4 py-2 bg-blue-600 rounded hover:bg-blue-700",children:""}),dt.jsx("input",{type:"text",placeholder:"ID",className:"mb-2 px-2 py-1 text-black rounded",value:a,onChange:d=>e(d.target.value)}),dt.jsx("button",{onClick:o,className:"px-4 py-2 bg-green-600 rounded hover:bg-green-700",children:""})]})}const _c=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],r2=()=>_c[Math.floor(Math.random()*_c.length)],Q_=a=>`https://deckofcardsapi.com/static/img/${a[0].toUpperCase()}H.png`,a2=(a,e)=>{const i=_c.indexOf(a),s=_c.indexOf(e);return s>i?"HIGH":s<i?"LOW":"EQUAL"};function s2(){const{roomId:a}=rv(),[e,i]=F.useState(""),[s,o]=F.useState(""),[c,d]=F.useState(""),[g,p]=F.useState(0),[y,T]=F.useState([]),[S,R]=F.useState(0);F.useEffect(()=>{if(!a)return;const z=ds(ms,"rooms",a),Q=tE(z,it=>{if(it.exists()){const W=it.data();i(W.currentCard),d(W.declaration),p(W.betPoint),T(W.history||[])}});return()=>Q()},[a]);const M=async()=>{if(!a||!c)return;const z=r2(),Q=ds(ms,"rooms",a),it=await Jw(Q);if(it.exists()){const W=it.data(),ht=W.currentCard,ut=a2(ht,z),x=ut!=="EQUAL"&&ut===W.declaration?W.betPoint*2:0,b=[...W.history||[],z];o(ht),i(z),p(x),T(b),await ed(Q,{currentCard:z,betPoint:x,history:b})}},L=async z=>{if(d(z),!a)return;const Q=ds(ms,"rooms",a);await ed(Q,{declaration:z})},X=async()=>{if(p(S),!a)return;const z=ds(ms,"rooms",a);await ed(z,{betPoint:S})};return dt.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 text-white p-4",children:[dt.jsxs("h2",{className:"text-2xl mb-4",children:[" - ID: ",a]}),s&&dt.jsxs("div",{className:"mb-2",children:[dt.jsx("p",{className:"text-sm",children:""}),dt.jsx("img",{src:Q_(s),alt:s,className:"w-24 mx-auto"})]}),e&&dt.jsxs("div",{className:"mb-4",children:[dt.jsx("p",{className:"text-sm",children:""}),dt.jsx("img",{src:Q_(e),alt:e,className:"w-32 mx-auto"})]}),dt.jsxs("div",{className:"mb-4",children:[dt.jsx("label",{className:"block mb-1",children:"High / Low:"}),dt.jsxs("select",{value:c,onChange:z=>L(z.target.value),className:"text-black px-2 py-1 rounded",children:[dt.jsx("option",{value:"",children:""}),dt.jsx("option",{value:"HIGH",children:"HIGH"}),dt.jsx("option",{value:"LOW",children:"LOW"})]})]}),dt.jsxs("div",{className:"mb-4",children:[dt.jsx("label",{className:"block mb-1",children:":"}),dt.jsx("input",{type:"number",value:S,onChange:z=>R(Number(z.target.value)),className:"text-black px-2 py-1 rounded"}),dt.jsx("button",{onClick:X,className:"ml-2 px-3 py-1 bg-blue-600 rounded",children:""})]}),dt.jsxs("div",{className:"mb-4",children:[": ",g]}),dt.jsx("button",{onClick:M,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-white",children:""}),y.length>0&&dt.jsxs("div",{className:"mt-6",children:[dt.jsx("h3",{className:"text-lg underline mb-2",children:""}),dt.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((z,Q)=>dt.jsx("span",{className:"bg-slate-700 px-2 py-1 rounded text-sm",children:z},Q))})]})]})}const F_=a=>`https://deckofcardsapi.com/static/img/${a[0].toUpperCase()}H.png`;function l2(){const{roomId:a}=rv(),[e,i]=F.useState(""),[s,o]=F.useState(""),[c,d]=F.useState(""),[g,p]=F.useState(0),[y,T]=F.useState([]);F.useEffect(()=>{if(!a)return;const R=ds(ms,"rooms",a),M=tE(R,L=>{var X;if(L.exists()){const z=L.data();o(((X=z.history)==null?void 0:X[z.history.length-2])||""),i(z.currentCard),d(z.declaration),p(z.betPoint),T((z.history||[]).map(Q=>Q.replace(/[^0-9JQKA]/g,"")))}});return()=>M()},[a]);const S=()=>{if(!s||!e)return"";const R=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],M=R.indexOf(s),L=R.indexOf(e);return L>M?"HIGH":L<M?"LOW":"EQUAL"};return dt.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white p-4",children:[dt.jsxs("h2",{className:"text-2xl mb-4",children:[" - ID: ",a]}),dt.jsxs("div",{className:"mb-2",children:[": ",c]}),dt.jsxs("div",{className:"mb-2",children:[": ",g]}),s&&dt.jsxs("div",{className:"mb-2",children:[dt.jsx("p",{className:"text-sm",children:""}),dt.jsx("img",{src:F_(s),alt:s,className:"w-24 mx-auto"})]}),e&&dt.jsxs("div",{className:"mb-4",children:[dt.jsx("p",{className:"text-sm",children:""}),dt.jsx("img",{src:F_(e),alt:e,className:"w-32 mx-auto"})]}),dt.jsxs("div",{className:"mb-4",children:[": ",S()]}),y.length>0&&dt.jsxs("div",{className:"mt-6",children:[dt.jsx("h3",{className:"text-lg underline mb-2",children:""}),dt.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((R,M)=>dt.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-sm",children:R},M))})]})]})}function o2(){return dt.jsx(ZA,{children:dt.jsxs(DA,{children:[dt.jsx(Fu,{path:"/",element:dt.jsx(i2,{})}),dt.jsx(Fu,{path:"/host/:roomId",element:dt.jsx(s2,{})}),dt.jsx(Fu,{path:"/guest/:roomId",element:dt.jsx(l2,{})})]})})}zT.createRoot(document.getElementById("root")).render(dt.jsx(IT.StrictMode,{children:dt.jsx(o2,{})}));
